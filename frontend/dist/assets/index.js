import{shallowRef as r_,unref as Fe,computed as zt,reactive as Ae,nextTick as Bu,defineComponent as ce,inject as $r,h as Nu,provide as uo,ref as qu,watch as s_,openBlock as y,createElementBlock as b,createElementVNode as d,withModifiers as Kt,toDisplayString as V,createVNode as M,createCommentVNode as re,Fragment as ge,renderList as ke,onMounted as Ns,createTextVNode as Qe,createBlock as Cn,normalizeClass as Ar,createStaticVNode as Du,withDirectives as An,vShow as Co,vModelText as Hu,vModelSelect as Vu,Transition as i_,withCtx as Uu,pushScopeId as o_,popScopeId as a_,withAsyncContext as l_,Suspense as u_,createApp as c_}from"vue";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const g of h.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&a(g)}).observe(document,{childList:!0,subtree:!0});function r(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerpolicy&&(h.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?h.credentials="include":c.crossorigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(c){if(c.ep)return;c.ep=!0;const h=r(c);fetch(c.href,h)}})();/*!
  * vue-router v4.0.13
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Wu=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Yn=i=>Wu?Symbol(i):"_vr_"+i,f_=Yn("rvlm"),fu=Yn("rvd"),Ao=Yn("r"),Fu=Yn("rl"),go=Yn("rvl"),zn=typeof window<"u";function h_(i){return i.__esModule||Wu&&i[Symbol.toStringTag]==="Module"}const ve=Object.assign;function co(i,n){const r={};for(const a in n){const c=n[a];r[a]=Array.isArray(c)?c.map(i):i(c)}return r}const Rr=()=>{},d_=/\/$/,p_=i=>i.replace(d_,"");function fo(i,n,r="/"){let a,c={},h="",g="";const A=n.indexOf("?"),w=n.indexOf("#",A>-1?A:0);return A>-1&&(a=n.slice(0,A),h=n.slice(A+1,w>-1?w:n.length),c=i(h)),w>-1&&(a=a||n.slice(0,w),g=n.slice(w,n.length)),a=__(a??n,r),{fullPath:a+(h&&"?")+h+g,path:a,query:c,hash:g}}function g_(i,n){const r=n.query?i(n.query):"";return n.path+(r&&"?")+r+(n.hash||"")}function hu(i,n){return!n||!i.toLowerCase().startsWith(n.toLowerCase())?i:i.slice(n.length)||"/"}function m_(i,n,r){const a=n.matched.length-1,c=r.matched.length-1;return a>-1&&a===c&&Gn(n.matched[a],r.matched[c])&&zu(n.params,r.params)&&i(n.query)===i(r.query)&&n.hash===r.hash}function Gn(i,n){return(i.aliasOf||i)===(n.aliasOf||n)}function zu(i,n){if(Object.keys(i).length!==Object.keys(n).length)return!1;for(const r in i)if(!v_(i[r],n[r]))return!1;return!0}function v_(i,n){return Array.isArray(i)?du(i,n):Array.isArray(n)?du(n,i):i===n}function du(i,n){return Array.isArray(n)?i.length===n.length&&i.every((r,a)=>r===n[a]):i.length===1&&i[0]===n}function __(i,n){if(i.startsWith("/"))return i;if(!i)return n;const r=n.split("/"),a=i.split("/");let c=r.length-1,h,g;for(h=0;h<a.length;h++)if(g=a[h],!(c===1||g==="."))if(g==="..")c--;else break;return r.slice(0,c).join("/")+"/"+a.slice(h-(h===a.length?1:0)).join("/")}var Tr;(function(i){i.pop="pop",i.push="push"})(Tr||(Tr={}));var Sr;(function(i){i.back="back",i.forward="forward",i.unknown=""})(Sr||(Sr={}));function w_(i){if(!i)if(zn){const n=document.querySelector("base");i=n&&n.getAttribute("href")||"/",i=i.replace(/^\w+:\/\/[^\/]+/,"")}else i="/";return i[0]!=="/"&&i[0]!=="#"&&(i="/"+i),p_(i)}const y_=/^[^#]+#/;function b_(i,n){return i.replace(y_,"#")+n}function x_(i,n){const r=document.documentElement.getBoundingClientRect(),a=i.getBoundingClientRect();return{behavior:n.behavior,left:a.left-r.left-(n.left||0),top:a.top-r.top-(n.top||0)}}const qs=()=>({left:window.pageXOffset,top:window.pageYOffset});function k_(i){let n;if("el"in i){const r=i.el,a=typeof r=="string"&&r.startsWith("#"),c=typeof r=="string"?a?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!c)return;n=x_(c,i)}else n=i;"scrollBehavior"in document.documentElement.style?window.scrollTo(n):window.scrollTo(n.left!=null?n.left:window.pageXOffset,n.top!=null?n.top:window.pageYOffset)}function pu(i,n){return(history.state?history.state.position-n:-1)+i}const mo=new Map;function C_(i,n){mo.set(i,n)}function A_(i){const n=mo.get(i);return mo.delete(i),n}let E_=()=>location.protocol+"//"+location.host;function Gu(i,n){const{pathname:r,search:a,hash:c}=n,h=i.indexOf("#");if(h>-1){let A=c.includes(i.slice(h))?i.slice(h).length:1,w=c.slice(A);return w[0]!=="/"&&(w="/"+w),hu(w,"")}return hu(r,i)+a+c}function R_(i,n,r,a){let c=[],h=[],g=null;const A=({state:P})=>{const N=Gu(i,location),z=r.value,_e=n.value;let ie=0;if(P){if(r.value=N,n.value=P,g&&g===z){g=null;return}ie=_e?P.position-_e.position:0}else a(N);c.forEach(ee=>{ee(r.value,z,{delta:ie,type:Tr.pop,direction:ie?ie>0?Sr.forward:Sr.back:Sr.unknown})})};function w(){g=r.value}function T(P){c.push(P);const N=()=>{const z=c.indexOf(P);z>-1&&c.splice(z,1)};return h.push(N),N}function k(){const{history:P}=window;P.state&&P.replaceState(ve({},P.state,{scroll:qs()}),"")}function E(){for(const P of h)P();h=[],window.removeEventListener("popstate",A),window.removeEventListener("beforeunload",k)}return window.addEventListener("popstate",A),window.addEventListener("beforeunload",k),{pauseListeners:w,listen:T,destroy:E}}function gu(i,n,r,a=!1,c=!1){return{back:i,current:n,forward:r,replaced:a,position:window.history.length,scroll:c?qs():null}}function S_(i){const{history:n,location:r}=window,a={value:Gu(i,r)},c={value:n.state};c.value||h(a.value,{back:null,current:a.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0);function h(w,T,k){const E=i.indexOf("#"),P=E>-1?(r.host&&document.querySelector("base")?i:i.slice(E))+w:E_()+i+w;try{n[k?"replaceState":"pushState"](T,"",P),c.value=T}catch(N){console.error(N),r[k?"replace":"assign"](P)}}function g(w,T){const k=ve({},n.state,gu(c.value.back,w,c.value.forward,!0),T,{position:c.value.position});h(w,k,!0),a.value=w}function A(w,T){const k=ve({},c.value,n.state,{forward:w,scroll:qs()});h(k.current,k,!0);const E=ve({},gu(a.value,w,null),{position:k.position+1},T);h(w,E,!1),a.value=w}return{location:a,state:c,push:A,replace:g}}function $_(i){i=w_(i);const n=S_(i),r=R_(i,n.state,n.location,n.replace);function a(h,g=!0){g||r.pauseListeners(),history.go(h)}const c=ve({location:"",base:i,go:a,createHref:b_.bind(null,i)},n,r);return Object.defineProperty(c,"location",{enumerable:!0,get:()=>n.location.value}),Object.defineProperty(c,"state",{enumerable:!0,get:()=>n.state.value}),c}function T_(i){return typeof i=="string"||i&&typeof i=="object"}function Ku(i){return typeof i=="string"||typeof i=="symbol"}const rn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Yu=Yn("nf");var mu;(function(i){i[i.aborted=4]="aborted",i[i.cancelled=8]="cancelled",i[i.duplicated=16]="duplicated"})(mu||(mu={}));function Kn(i,n){return ve(new Error,{type:i,[Yu]:!0},n)}function sn(i,n){return i instanceof Error&&Yu in i&&(n==null||!!(i.type&n))}const vu="[^/]+?",O_={sensitive:!1,strict:!1,start:!0,end:!0},P_=/[.+*?^${}()[\]/\\]/g;function M_(i,n){const r=ve({},O_,n),a=[];let c=r.start?"^":"";const h=[];for(const T of i){const k=T.length?[]:[90];r.strict&&!T.length&&(c+="/");for(let E=0;E<T.length;E++){const P=T[E];let N=40+(r.sensitive?.25:0);if(P.type===0)E||(c+="/"),c+=P.value.replace(P_,"\\$&"),N+=40;else if(P.type===1){const{value:z,repeatable:_e,optional:ie,regexp:ee}=P;h.push({name:z,repeatable:_e,optional:ie});const ae=ee||vu;if(ae!==vu){N+=10;try{new RegExp(`(${ae})`)}catch(Ie){throw new Error(`Invalid custom RegExp for param "${z}" (${ae}): `+Ie.message)}}let ye=_e?`((?:${ae})(?:/(?:${ae}))*)`:`(${ae})`;E||(ye=ie&&T.length<2?`(?:/${ye})`:"/"+ye),ie&&(ye+="?"),c+=ye,N+=20,ie&&(N+=-8),_e&&(N+=-20),ae===".*"&&(N+=-50)}k.push(N)}a.push(k)}if(r.strict&&r.end){const T=a.length-1;a[T][a[T].length-1]+=.7000000000000001}r.strict||(c+="/?"),r.end?c+="$":r.strict&&(c+="(?:/|$)");const g=new RegExp(c,r.sensitive?"":"i");function A(T){const k=T.match(g),E={};if(!k)return null;for(let P=1;P<k.length;P++){const N=k[P]||"",z=h[P-1];E[z.name]=N&&z.repeatable?N.split("/"):N}return E}function w(T){let k="",E=!1;for(const P of i){(!E||!k.endsWith("/"))&&(k+="/"),E=!1;for(const N of P)if(N.type===0)k+=N.value;else if(N.type===1){const{value:z,repeatable:_e,optional:ie}=N,ee=z in T?T[z]:"";if(Array.isArray(ee)&&!_e)throw new Error(`Provided param "${z}" is an array but it is not repeatable (* or + modifiers)`);const ae=Array.isArray(ee)?ee.join("/"):ee;if(!ae)if(ie)P.length<2&&(k.endsWith("/")?k=k.slice(0,-1):E=!0);else throw new Error(`Missing required param "${z}"`);k+=ae}}return k}return{re:g,score:a,keys:h,parse:A,stringify:w}}function L_(i,n){let r=0;for(;r<i.length&&r<n.length;){const a=n[r]-i[r];if(a)return a;r++}return i.length<n.length?i.length===1&&i[0]===40+40?-1:1:i.length>n.length?n.length===1&&n[0]===40+40?1:-1:0}function I_(i,n){let r=0;const a=i.score,c=n.score;for(;r<a.length&&r<c.length;){const h=L_(a[r],c[r]);if(h)return h;r++}return c.length-a.length}const B_={type:0,value:""},N_=/[a-zA-Z0-9_]/;function q_(i){if(!i)return[[]];if(i==="/")return[[B_]];if(!i.startsWith("/"))throw new Error(`Invalid path "${i}"`);function n(N){throw new Error(`ERR (${r})/"${T}": ${N}`)}let r=0,a=r;const c=[];let h;function g(){h&&c.push(h),h=[]}let A=0,w,T="",k="";function E(){T&&(r===0?h.push({type:0,value:T}):r===1||r===2||r===3?(h.length>1&&(w==="*"||w==="+")&&n(`A repeatable param (${T}) must be alone in its segment. eg: '/:ids+.`),h.push({type:1,value:T,regexp:k,repeatable:w==="*"||w==="+",optional:w==="*"||w==="?"})):n("Invalid state to consume buffer"),T="")}function P(){T+=w}for(;A<i.length;){if(w=i[A++],w==="\\"&&r!==2){a=r,r=4;continue}switch(r){case 0:w==="/"?(T&&E(),g()):w===":"?(E(),r=1):P();break;case 4:P(),r=a;break;case 1:w==="("?r=2:N_.test(w)?P():(E(),r=0,w!=="*"&&w!=="?"&&w!=="+"&&A--);break;case 2:w===")"?k[k.length-1]=="\\"?k=k.slice(0,-1)+w:r=3:k+=w;break;case 3:E(),r=0,w!=="*"&&w!=="?"&&w!=="+"&&A--,k="";break;default:n("Unknown state");break}}return r===2&&n(`Unfinished custom RegExp for param "${T}"`),E(),g(),c}function D_(i,n,r){const a=M_(q_(i.path),r),c=ve(a,{record:i,parent:n,children:[],alias:[]});return n&&!c.record.aliasOf==!n.record.aliasOf&&n.children.push(c),c}function H_(i,n){const r=[],a=new Map;n=wu({strict:!1,end:!0,sensitive:!1},n);function c(k){return a.get(k)}function h(k,E,P){const N=!P,z=U_(k);z.aliasOf=P&&P.record;const _e=wu(n,k),ie=[z];if("alias"in k){const ye=typeof k.alias=="string"?[k.alias]:k.alias;for(const Ie of ye)ie.push(ve({},z,{components:P?P.record.components:z.components,path:Ie,aliasOf:P?P.record:z}))}let ee,ae;for(const ye of ie){const{path:Ie}=ye;if(E&&Ie[0]!=="/"){const Be=E.record.path,ze=Be[Be.length-1]==="/"?"":"/";ye.path=E.record.path+(Ie&&ze+Ie)}if(ee=D_(ye,E,_e),P?P.alias.push(ee):(ae=ae||ee,ae!==ee&&ae.alias.push(ee),N&&k.name&&!_u(ee)&&g(k.name)),"children"in z){const Be=z.children;for(let ze=0;ze<Be.length;ze++)h(Be[ze],ee,P&&P.children[ze])}P=P||ee,w(ee)}return ae?()=>{g(ae)}:Rr}function g(k){if(Ku(k)){const E=a.get(k);E&&(a.delete(k),r.splice(r.indexOf(E),1),E.children.forEach(g),E.alias.forEach(g))}else{const E=r.indexOf(k);E>-1&&(r.splice(E,1),k.record.name&&a.delete(k.record.name),k.children.forEach(g),k.alias.forEach(g))}}function A(){return r}function w(k){let E=0;for(;E<r.length&&I_(k,r[E])>=0&&(k.record.path!==r[E].record.path||!Ju(k,r[E]));)E++;r.splice(E,0,k),k.record.name&&!_u(k)&&a.set(k.record.name,k)}function T(k,E){let P,N={},z,_e;if("name"in k&&k.name){if(P=a.get(k.name),!P)throw Kn(1,{location:k});_e=P.record.name,N=ve(V_(E.params,P.keys.filter(ae=>!ae.optional).map(ae=>ae.name)),k.params),z=P.stringify(N)}else if("path"in k)z=k.path,P=r.find(ae=>ae.re.test(z)),P&&(N=P.parse(z),_e=P.record.name);else{if(P=E.name?a.get(E.name):r.find(ae=>ae.re.test(E.path)),!P)throw Kn(1,{location:k,currentLocation:E});_e=P.record.name,N=ve({},E.params,k.params),z=P.stringify(N)}const ie=[];let ee=P;for(;ee;)ie.unshift(ee.record),ee=ee.parent;return{name:_e,path:z,params:N,matched:ie,meta:F_(ie)}}return i.forEach(k=>h(k)),{addRoute:h,resolve:T,removeRoute:g,getRoutes:A,getRecordMatcher:c}}function V_(i,n){const r={};for(const a of n)a in i&&(r[a]=i[a]);return r}function U_(i){return{path:i.path,redirect:i.redirect,name:i.name,meta:i.meta||{},aliasOf:void 0,beforeEnter:i.beforeEnter,props:W_(i),children:i.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in i?i.components||{}:{default:i.component}}}function W_(i){const n={},r=i.props||!1;if("component"in i)n.default=r;else for(const a in i.components)n[a]=typeof r=="boolean"?r:r[a];return n}function _u(i){for(;i;){if(i.record.aliasOf)return!0;i=i.parent}return!1}function F_(i){return i.reduce((n,r)=>ve(n,r.meta),{})}function wu(i,n){const r={};for(const a in i)r[a]=a in n?n[a]:i[a];return r}function Ju(i,n){return n.children.some(r=>r===i||Ju(i,r))}const Xu=/#/g,z_=/&/g,G_=/\//g,K_=/=/g,Y_=/\?/g,Zu=/\+/g,J_=/%5B/g,X_=/%5D/g,ju=/%5E/g,Z_=/%60/g,Qu=/%7B/g,j_=/%7C/g,ec=/%7D/g,Q_=/%20/g;function Eo(i){return encodeURI(""+i).replace(j_,"|").replace(J_,"[").replace(X_,"]")}function e0(i){return Eo(i).replace(Qu,"{").replace(ec,"}").replace(ju,"^")}function vo(i){return Eo(i).replace(Zu,"%2B").replace(Q_,"+").replace(Xu,"%23").replace(z_,"%26").replace(Z_,"`").replace(Qu,"{").replace(ec,"}").replace(ju,"^")}function t0(i){return vo(i).replace(K_,"%3D")}function n0(i){return Eo(i).replace(Xu,"%23").replace(Y_,"%3F")}function r0(i){return i==null?"":n0(i).replace(G_,"%2F")}function Ps(i){try{return decodeURIComponent(""+i)}catch{}return""+i}function s0(i){const n={};if(i===""||i==="?")return n;const a=(i[0]==="?"?i.slice(1):i).split("&");for(let c=0;c<a.length;++c){const h=a[c].replace(Zu," "),g=h.indexOf("="),A=Ps(g<0?h:h.slice(0,g)),w=g<0?null:Ps(h.slice(g+1));if(A in n){let T=n[A];Array.isArray(T)||(T=n[A]=[T]),T.push(w)}else n[A]=w}return n}function yu(i){let n="";for(let r in i){const a=i[r];if(r=t0(r),a==null){a!==void 0&&(n+=(n.length?"&":"")+r);continue}(Array.isArray(a)?a.map(h=>h&&vo(h)):[a&&vo(a)]).forEach(h=>{h!==void 0&&(n+=(n.length?"&":"")+r,h!=null&&(n+="="+h))})}return n}function i0(i){const n={};for(const r in i){const a=i[r];a!==void 0&&(n[r]=Array.isArray(a)?a.map(c=>c==null?null:""+c):a==null?a:""+a)}return n}function xr(){let i=[];function n(a){return i.push(a),()=>{const c=i.indexOf(a);c>-1&&i.splice(c,1)}}function r(){i=[]}return{add:n,list:()=>i,reset:r}}function an(i,n,r,a,c){const h=a&&(a.enterCallbacks[c]=a.enterCallbacks[c]||[]);return()=>new Promise((g,A)=>{const w=E=>{E===!1?A(Kn(4,{from:r,to:n})):E instanceof Error?A(E):T_(E)?A(Kn(2,{from:n,to:E})):(h&&a.enterCallbacks[c]===h&&typeof E=="function"&&h.push(E),g())},T=i.call(a&&a.instances[c],n,r,w);let k=Promise.resolve(T);i.length<3&&(k=k.then(w)),k.catch(E=>A(E))})}function ho(i,n,r,a){const c=[];for(const h of i)for(const g in h.components){let A=h.components[g];if(!(n!=="beforeRouteEnter"&&!h.instances[g]))if(o0(A)){const T=(A.__vccOpts||A)[n];T&&c.push(an(T,r,a,h,g))}else{let w=A();c.push(()=>w.then(T=>{if(!T)return Promise.reject(new Error(`Couldn't resolve component "${g}" at "${h.path}"`));const k=h_(T)?T.default:T;h.components[g]=k;const P=(k.__vccOpts||k)[n];return P&&an(P,r,a,h,g)()}))}}return c}function o0(i){return typeof i=="object"||"displayName"in i||"props"in i||"__vccOpts"in i}function bu(i){const n=$r(Ao),r=$r(Fu),a=zt(()=>n.resolve(Fe(i.to))),c=zt(()=>{const{matched:w}=a.value,{length:T}=w,k=w[T-1],E=r.matched;if(!k||!E.length)return-1;const P=E.findIndex(Gn.bind(null,k));if(P>-1)return P;const N=xu(w[T-2]);return T>1&&xu(k)===N&&E[E.length-1].path!==N?E.findIndex(Gn.bind(null,w[T-2])):P}),h=zt(()=>c.value>-1&&c0(r.params,a.value.params)),g=zt(()=>c.value>-1&&c.value===r.matched.length-1&&zu(r.params,a.value.params));function A(w={}){return u0(w)?n[Fe(i.replace)?"replace":"push"](Fe(i.to)).catch(Rr):Promise.resolve()}return{route:a,href:zt(()=>a.value.href),isActive:h,isExactActive:g,navigate:A}}const a0=ce({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:bu,setup(i,{slots:n}){const r=Ae(bu(i)),{options:a}=$r(Ao),c=zt(()=>({[ku(i.activeClass,a.linkActiveClass,"router-link-active")]:r.isActive,[ku(i.exactActiveClass,a.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const h=n.default&&n.default(r);return i.custom?h:Nu("a",{"aria-current":r.isExactActive?i.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:c.value},h)}}}),l0=a0;function u0(i){if(!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)&&!i.defaultPrevented&&!(i.button!==void 0&&i.button!==0)){if(i.currentTarget&&i.currentTarget.getAttribute){const n=i.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return i.preventDefault&&i.preventDefault(),!0}}function c0(i,n){for(const r in n){const a=n[r],c=i[r];if(typeof a=="string"){if(a!==c)return!1}else if(!Array.isArray(c)||c.length!==a.length||a.some((h,g)=>h!==c[g]))return!1}return!0}function xu(i){return i?i.aliasOf?i.aliasOf.path:i.path:""}const ku=(i,n,r)=>i??n??r,f0=ce({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(i,{attrs:n,slots:r}){const a=$r(go),c=zt(()=>i.route||a.value),h=$r(fu,0),g=zt(()=>c.value.matched[h]);uo(fu,h+1),uo(f_,g),uo(go,c);const A=qu();return s_(()=>[A.value,g.value,i.name],([w,T,k],[E,P,N])=>{T&&(T.instances[k]=w,P&&P!==T&&w&&w===E&&(T.leaveGuards.size||(T.leaveGuards=P.leaveGuards),T.updateGuards.size||(T.updateGuards=P.updateGuards))),w&&T&&(!P||!Gn(T,P)||!E)&&(T.enterCallbacks[k]||[]).forEach(z=>z(w))},{flush:"post"}),()=>{const w=c.value,T=g.value,k=T&&T.components[i.name],E=i.name;if(!k)return Cu(r.default,{Component:k,route:w});const P=T.props[i.name],N=P?P===!0?w.params:typeof P=="function"?P(w):P:null,_e=Nu(k,ve({},N,n,{onVnodeUnmounted:ie=>{ie.component.isUnmounted&&(T.instances[E]=null)},ref:A}));return Cu(r.default,{Component:_e,route:w})||_e}}});function Cu(i,n){if(!i)return null;const r=i(n);return r.length===1?r[0]:r}const h0=f0;function d0(i){const n=H_(i.routes,i),r=i.parseQuery||s0,a=i.stringifyQuery||yu,c=i.history,h=xr(),g=xr(),A=xr(),w=r_(rn);let T=rn;zn&&i.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const k=co.bind(null,$=>""+$),E=co.bind(null,r0),P=co.bind(null,Ps);function N($,q){let I,H;return Ku($)?(I=n.getRecordMatcher($),H=q):H=$,n.addRoute(H,I)}function z($){const q=n.getRecordMatcher($);q&&n.removeRoute(q)}function _e(){return n.getRoutes().map($=>$.record)}function ie($){return!!n.getRecordMatcher($)}function ee($,q){if(q=ve({},q||w.value),typeof $=="string"){const Y=fo(r,$,q.path),Ee=n.resolve({path:Y.path},q),Ve=c.createHref(Y.fullPath);return ve(Y,Ee,{params:P(Ee.params),hash:Ps(Y.hash),redirectedFrom:void 0,href:Ve})}let I;if("path"in $)I=ve({},$,{path:fo(r,$.path,q.path).path});else{const Y=ve({},$.params);for(const Ee in Y)Y[Ee]==null&&delete Y[Ee];I=ve({},$,{params:E($.params)}),q.params=E(q.params)}const H=n.resolve(I,q),fe=$.hash||"";H.params=k(P(H.params));const $e=g_(a,ve({},$,{hash:e0(fe),path:H.path})),j=c.createHref($e);return ve({fullPath:$e,hash:fe,query:a===yu?i0($.query):$.query||{}},H,{redirectedFrom:void 0,href:j})}function ae($){return typeof $=="string"?fo(r,$,w.value.path):ve({},$)}function ye($,q){if(T!==$)return Kn(8,{from:q,to:$})}function Ie($){return Je($)}function Be($){return Ie(ve(ae($),{replace:!0}))}function ze($){const q=$.matched[$.matched.length-1];if(q&&q.redirect){const{redirect:I}=q;let H=typeof I=="function"?I($):I;return typeof H=="string"&&(H=H.includes("?")||H.includes("#")?H=ae(H):{path:H},H.params={}),ve({query:$.query,hash:$.hash,params:$.params},H)}}function Je($,q){const I=T=ee($),H=w.value,fe=$.state,$e=$.force,j=$.replace===!0,Y=ze(I);if(Y)return Je(ve(ae(Y),{state:fe,force:$e,replace:j}),q||I);const Ee=I;Ee.redirectedFrom=q;let Ve;return!$e&&m_(a,H,I)&&(Ve=Kn(16,{to:Ee,from:H}),dn(H,H,!0,!1)),(Ve?Promise.resolve(Ve):En(Ee,H)).catch(Ne=>sn(Ne)?sn(Ne,2)?Ne:er(Ne):yt(Ne,Ee,H)).then(Ne=>{if(Ne){if(sn(Ne,2))return Je(ve(ae(Ne.to),{state:fe,force:$e,replace:j}),q||Ee)}else Ne=Lr(Ee,H,!0,j,fe);return Mr(Ee,H,Ne),Ne})}function hn($,q){const I=ye($,q);return I?Promise.reject(I):Promise.resolve()}function En($,q){let I;const[H,fe,$e]=p0($,q);I=ho(H.reverse(),"beforeRouteLeave",$,q);for(const Y of H)Y.leaveGuards.forEach(Ee=>{I.push(an(Ee,$,q))});const j=hn.bind(null,$,q);return I.push(j),Fn(I).then(()=>{I=[];for(const Y of h.list())I.push(an(Y,$,q));return I.push(j),Fn(I)}).then(()=>{I=ho(fe,"beforeRouteUpdate",$,q);for(const Y of fe)Y.updateGuards.forEach(Ee=>{I.push(an(Ee,$,q))});return I.push(j),Fn(I)}).then(()=>{I=[];for(const Y of $.matched)if(Y.beforeEnter&&!q.matched.includes(Y))if(Array.isArray(Y.beforeEnter))for(const Ee of Y.beforeEnter)I.push(an(Ee,$,q));else I.push(an(Y.beforeEnter,$,q));return I.push(j),Fn(I)}).then(()=>($.matched.forEach(Y=>Y.enterCallbacks={}),I=ho($e,"beforeRouteEnter",$,q),I.push(j),Fn(I))).then(()=>{I=[];for(const Y of g.list())I.push(an(Y,$,q));return I.push(j),Fn(I)}).catch(Y=>sn(Y,8)?Y:Promise.reject(Y))}function Mr($,q,I){for(const H of A.list())H($,q,I)}function Lr($,q,I,H,fe){const $e=ye($,q);if($e)return $e;const j=q===rn,Y=zn?history.state:{};I&&(H||j?c.replace($.fullPath,ve({scroll:j&&Y&&Y.scroll},fe)):c.push($.fullPath,fe)),w.value=$,dn($,q,I,j),er()}let Qn;function Vs(){Qn=c.listen(($,q,I)=>{const H=ee($),fe=ze(H);if(fe){Je(ve(fe,{replace:!0}),H).catch(Rr);return}T=H;const $e=w.value;zn&&C_(pu($e.fullPath,I.delta),qs()),En(H,$e).catch(j=>sn(j,12)?j:sn(j,2)?(Je(j.to,H).then(Y=>{sn(Y,20)&&!I.delta&&I.type===Tr.pop&&c.go(-1,!1)}).catch(Rr),Promise.reject()):(I.delta&&c.go(-I.delta,!1),yt(j,H,$e))).then(j=>{j=j||Lr(H,$e,!1),j&&(I.delta?c.go(-I.delta,!1):I.type===Tr.pop&&sn(j,20)&&c.go(-1,!1)),Mr(H,$e,j)}).catch(Rr)})}let Rn=xr(),Ir=xr(),Sn;function yt($,q,I){er($);const H=Ir.list();return H.length?H.forEach(fe=>fe($,q,I)):console.error($),Promise.reject($)}function Rt(){return Sn&&w.value!==rn?Promise.resolve():new Promise(($,q)=>{Rn.add([$,q])})}function er($){return Sn||(Sn=!$,Vs(),Rn.list().forEach(([q,I])=>$?I($):q()),Rn.reset()),$}function dn($,q,I,H){const{scrollBehavior:fe}=i;if(!zn||!fe)return Promise.resolve();const $e=!I&&A_(pu($.fullPath,0))||(H||!I)&&history.state&&history.state.scroll||null;return Bu().then(()=>fe($,q,$e)).then(j=>j&&k_(j)).catch(j=>yt(j,$,q))}const et=$=>c.go($);let tr;const nr=new Set;return{currentRoute:w,addRoute:N,removeRoute:z,hasRoute:ie,getRoutes:_e,resolve:ee,options:i,push:Ie,replace:Be,go:et,back:()=>et(-1),forward:()=>et(1),beforeEach:h.add,beforeResolve:g.add,afterEach:A.add,onError:Ir.add,isReady:Rt,install($){const q=this;$.component("RouterLink",l0),$.component("RouterView",h0),$.config.globalProperties.$router=q,Object.defineProperty($.config.globalProperties,"$route",{enumerable:!0,get:()=>Fe(w)}),zn&&!tr&&w.value===rn&&(tr=!0,Ie(c.location).catch(fe=>{}));const I={};for(const fe in rn)I[fe]=zt(()=>w.value[fe]);$.provide(Ao,q),$.provide(Fu,Ae(I)),$.provide(go,w);const H=$.unmount;nr.add($),$.unmount=function(){nr.delete($),nr.size<1&&(T=rn,Qn&&Qn(),w.value=rn,tr=!1,Sn=!1),H()}}}}function Fn(i){return i.reduce((n,r)=>n.then(()=>r()),Promise.resolve())}function p0(i,n){const r=[],a=[],c=[],h=Math.max(n.matched.length,i.matched.length);for(let g=0;g<h;g++){const A=n.matched[g];A&&(i.matched.find(T=>Gn(T,A))?a.push(A):r.push(A));const w=i.matched[g];w&&(n.matched.find(T=>Gn(T,w))||c.push(w))}return[r,a,c]}class ln{"+";"*";constructor(){this["+"]=[0],this["*"]=[1]}static tryModify(n,r){const a=r.filter(g=>g.op==="+").map(g=>g.mod);a.push(0);const c=r.filter(g=>g.op==="*").map(g=>g.mod);c.push(1);const h=(n+a.reduce((g,A)=>g+A))*c.reduce((g,A)=>g*A);return h>=0?h:0}addModifiers(n){n.map(r=>{this[r.op].push(r.mod)})}removeModifiers(n){const r=this[n.op].findIndex(a=>a===n.mod);this[n.op].splice(r,1)}getModified(n){const r=(n+this["+"].reduce((a,c)=>a+c))*this["*"].reduce((a,c)=>a*c);return r>=0?r:0}}class Ye{_isChosen;choice;chooseInto;_chosen;constructor(n,r,a){if(r.length<=0)throw new RangeError("Need at least one choice in 'choice' array");if(n<=0||n>r.length)throw new RangeError("'chooseInto' parameter must be greeter than zero and smaller than the size of the choice array");this._chosen=[],this._isChosen=!1,this.choice=r,this.chooseInto=n,a?this.setChosen(a):r.length===n&&this.setChosen(r.map((c,h)=>h))}setChosen(n){if(n.length!==this.chooseInto)throw new RangeError("'chosen' array must be same size of 'choosenInto' number");const r=n.filter(a=>a>=0&&a<this.choice.length);if(r.length!==n.length)throw new RangeError("Chosen array must be same includes only valid index of choice array");this._chosen=r,this._isChosen=!0}getChosen(){if(!this.isChosen())throw new RangeError("Possible choice is not chosen, call setChosen(...) or call PossibleChoose<"+typeof+"> constructor with chosen parameter");return this.choice.filter((n,r)=>this._chosen.includes(r))}getChosenId(){return this._chosen}isChosen(){return this._isChosen}getPossibleChoice(){return this.choice}resetChoices(){this._chosen=[],this._isChosen=!1}}class pe{name;description;constructor(n,r){this.name=n,this.description=r}}class Ms extends pe{modifiers;constructor(n,r,a){super(n,r),this.modifiers=a||[]}}class Se{static instance;hover;calbackHover;constructor(){this.hover=!1,this.calbackHover=()=>{}}static GetInstance(){return Se.instance||(Se.instance=new Se),Se.instance}tryChangeHover(n,r){return this.hover&&this.calbackHover(),this.calbackHover=r,this.hover=!n,!n}}class _o extends Ms{applyTo;constructor(n,r,a,c){super(n,r,a),this.applyTo=c||"notApply"}}class Ro{identifier;defaultChoice;choices;applyTo;_choice;constructor(n){this.identifier=n?.identifier||"unknown",this.choices=n?.choices||[],this.applyTo=n?.applyTo||"notApply",this.defaultChoice=n?.defaultChoice||new _o("","",[],"notApply"),n?.choices!==void 0&&n.choices.length>0?(this._choice=new Ye(1,this.choices),this.setChosen(this.applyTo)):(this._choice=new Ye(1,[this.defaultChoice]),this.setChosen(this.defaultChoice.applyTo))}resetChoices(){this.applyTo="notApply",this._choice.resetChoices()}setChosen(n){if(n!==void 0&&n!=="notApply"){const r=this._choice.getPossibleChoice().findIndex(a=>a.applyTo===n);this._choice.setChosen([r]),this.applyTo=this.getChosen().applyTo}}getChosen(){return this._choice.getChosen()[0]}isChosen(){return this.applyTo!=="notApply"}getInfos(){return this._choice.getPossibleChoice()}}class Ds{name;dmg;injury;weight;note;rewardsMod;constructor(n,r){this.name=n?.name||"",this.dmg=n?.dmg||0,this.injury={oneHand:n?.injury?.oneHand?n?.injury?.oneHand:0,twoHand:n?.injury?.twoHand?n?.injury?.twoHand:0},this.weight=n?.weight||0,this.note=n?.note||"",this.rewardsMod=[],n?.rewardsMod&&r&&n.rewardsMod.map(a=>{if(a.identifier!="unknown"){const c=new Ro(r[a.identifier]);c.setChosen("weapon"),this.rewardsMod.push(c)}})}getValue(n){return n==="weaponDamage"?this.dmg:n==="weaponInjuryOneHand"?this.injury.oneHand:n==="weaponInjuryTwoHand"?this.injury.twoHand:0}getModifiedValue(n){const r=n,a=this.rewardsMod.map(c=>c.getChosen().modifiers).flatMap(c=>c.filter(h=>h.identifier===r));return ln.tryModify(this.getValue(r),a)}}const g0=new pe("Intrepide","Vos tests de VAILIANCE sont favorisés"),m0=new pe("Précision elfique","Tant que votre Héros n'est pas Mélancolique, vous pouvez dépenser 1 point d'Espoir pour obtenir une Réussite magique lors d'un jet de Compétence"),v0=new pe("La longue défaite","Durant la Phase de Communauté, lors de l'étape destinée à réduire les points d'Ombre cumulés par les Héros, vous ne pouvez perdre que 1 point d'Ombre"),_0=new pe("Bon sens Hobbit","Vos tests de SAGESSE sont favorisés, et vous gagnez (1d) à vos tests d'Ombre lorsque vous tentez de résister à la Cupidité"),w0=new pe("Semi-Hommes","Ne peut utiliser que : Arc, dague, épée courte, gourdin, hache, lance, lance courte, massue. De plus, les Semi-Hommes ne peuvent pas utiliser de grand bouclier."),y0=new pe("Originaire de Bree","Chaque Homme de Bree de la Compagnie augmente la valeur de Communauté de 1 point"),b0=new pe("Infatigable","Divisez par deux la valeur de Charge de l'armure du Héros quelle qu'elle soit, casque inclus, mais sans prendre en compte son bouclier (arrondir au supérieur)"),x0=new pe("Naugrim","Un aventurier nain ne peut pas utiliser l'Attirail de guerre suivant : grand arc, grande lance, grand bouclier"),k0=new pe("Rois des Hommes","Ajouter 1 points à un Attribut de votre choix"),C0=new pe("Allégeance des Dünedain","Durant la Phase de Communauté (hormis Yule), le nombre maximal de points d'Espoir que vous pouvez récupérer est égal à la moitié de votre valeur de CŒUR (arrondir au supérieur)"),A0={intrepid:g0,elvenPrecision:m0,longDefeat:v0,goodSense:_0,semiMan:w0,fromBree:y0,tireless:b0,naugrim:x0,kingOfMen:k0,dunedainAllegiance:C0},E0={bardide:"Bardide",lindonElf:"Elfe de Lindon",hobbit:"Hobbit de la Compté",breeHuman:"Homme de Bree",durinDwarf:"Nain du peuple de Durin",northRanger:"Rodeur du nord"},So={poor:{name:"Pauvre",treasure:0},modest:{name:"Modeste",treasure:0},common:{name:"Courant",treasure:30},prosperous:{name:"Prospère",treasure:90},rich:{name:"Riche",treasure:180},veryRich:{name:"Très riche",treasure:300}},R0=i=>{let n="modest";for(const[r,a]of Object.entries(So))i>=a.treasure&&(n=r);return n};class se{strength;heart;mind;constructor(n){this.strength=n?.strength||0,this.heart=n?.heart||0,this.mind=n?.mind||0}}class Jn{culture;derivedCharacteristics;combatSkills;culturalAdvantages;qualityLife;attributesMaxValue;attributesSample;commonSkills;favoredSkills;possibleParticularities;constructor(n,r,a,c,h,g,A,w,T,k){this.culture=n,this.culturalAdvantages=r.map(E=>A0[E]),this.qualityLife=So[a],this.attributesMaxValue=c,this.attributesSample=h,this.derivedCharacteristics=g,this.commonSkills=A,this.favoredSkills=w,this.combatSkills=T,this.possibleParticularities=k}}class Xn{name;possibleFavoredSkill;particularity;shadowPath;constructor(n,r,a,c){this.name=n,this.possibleFavoredSkill=r,this.particularity=a,this.shadowPath=c}}const S0=new Xn(new pe("Capitaine","Quand le monde est sur le point de s'effondrer, il est du devoir de tous les individus valeureux de prendre les rènes pour diriger, quels que soient les dangers. Vous avez choisi de mettre vos compétences au service de la communauté, guider les vôtres dans ces heures sombres. Mais vous souhaitez les voir suivre vos ordres non pas peur ou docilité, mais parce qu'ils vous font confiance."),new Ye(2,["battle","enhearten","persuade"]),new pe("Commandement","Vous avez développé la capacité de guider les autres dans leurs actions. Lors de situations tendues, les gens viennent spontanément vous demander que faire."),new pe("Attrait du pouvoir","Qu'elle l'ait obtenue de par son rang, son ascendance ou sa renommée, une personne détentrice de l'autorité finit parfois par confondre l'intérêt général de ceux qu'elle est supposée guider ou protéger avec son ambition personnelle. Le pouvoir est l'essence même de la tentation : c'est pour l'Ombre un chemin rapide pour conquéir le cœur de ceux qui rêvent d'en acquérir toujours plus.")),$0=new Xn(new pe("Champion","À vos yeux, il n'existe qu'une solution pour s'opposer au retour de l'Ombre : la conquérir par les armes. Ceux de votre peuple vous considèrent comme un vaillant guerrier, prompt au combat. Pour vous, le chemin de l'aventure doit mener sans ambages là où rôdent vos ennemis, jusque dans les lieux où ils se terrent."),new Ye(2,["athletics","hunting","awe"]),new pe("Connaissance des ennemis","Cette particularité fonctionne différemment des autres : vous devez choisir un type spécifique d'ennemis auquel elle s'applique dans la liste suivante : Araignées, Hommes Malfaisants, Morts-Visants, Orques, Trolls, Wargs. Elle vous permet de connaitre les caractéristiques, les habitudes, les forces et les faiblesses de votre ennemi de prédilection."),new pe("Malédiction de la vengeance","Ceux qui vivent par l'épée sont toujours tentés de dégainer( que ce soit en paroles ou en actes ) à la moindre contrariété,ou estiment avoir subi un affront. Ils deviennentirascibles, la corruption s'étend peu à peu toute leur volontéet les condamne à réagir à chaque situation avec une violencesans cesse croissante")),T0=new Xn(new pe("Chasseur de trésors","Les siècles passés ont été témoins de la gloire d'une myriade de rois nains et de seigneurs elfes : leur héritage git désormais dans des souterrains infestés d 'Orques. Ces trésors dérobés, d'or et de joyaux flamboyants, attirent la convoitise des plus audacieux, mais de terribles créatures les gardent... Vous êtes de ceux qui osent chercher et réclamer ces butins perdus, quand bien même il vous faudrait braver d'indicibles dangers."),new Ye(2,["stealth","explore","scan"]),new pe("Monte-en-l'air","Ce talent intemporel regroupe l'art de faire les poches, de crocheter les serrures, et d 'une manière générale tout moyen frauduleux permettant de s'emparer des biens d'autrui ou d'accéder à des lieux protégés."),new pe("Mal du dragon","Les aventuriers en quête de trésors perdus courent le risque d'attraper cette vieille maladie qui transforrne un amas d'or enchanté en un tas de cendres amères. Plus l'Ombre resserre son étreinte autour du cœur de sa cible, plus le monde s'étrécit autour d'elle et de son précieux butin, l'isolant dans la folie.")),O0=new Xn(new pe("Messager","Le Sage soutient que les mauvais jours sont encore devant nous et que pour garder espoir, tous ceux qui luttent contre l'Ennemi doivent être soudés. Mais pour le moment, les siècles vécus dans l'isolement par les Peuples Libres empêchent leur union tout autant que les nombreuses lieues qui les séparent ; or l'éloignement génère de la méfiance. Vous avez décidé qu'il était de votre devoir de parcourir les contrées éloignées pour colporter des nouvelles du monde et prévenir ceux qui y habitent du danger à venir."),new Ye(2,["song","courtesy","travel"]),new pe("Folklore","Au fil de vos errances, vous avez appris de nombreuses coutumes et traditions, légendes et croyances des diverses communautés qui composent les Peuples Libres ; quand vous avez affaire à des étrangers, vous êtes à même de puiser dans cette somme de folklores les informations utiles sur leur culture (par exemple pour résoudre un conflit) ou de vagues notions de leur langue (pour mieux communiquer)."),new pe("Folie itinérante","Un Messager peut tout à fait avoir ambition de voyager de par le monde ; toutefois, il prend le risque de ne jamais trouver d'endroit qui vaille la peine, à ses yeux, de s'y impliquer ou le défendre. La route ne finit jamais, bien sûr ; mais alors, où aller ?")),P0=new Xn(new pe("Protecteur","Alors que d'année en année les ombres s'épaississent, vous avez fait le serment de protéger tous ceux qui ne peuvent pas se défendre par eux-mêmes. Cette promesse vous force souvent à délaisser le monde civilisé et ses habitants, pour repousser ce qui se tapit à l'extérieur de la ville. Mais peu à peu, vous êtes devenu un étranger à leurs yeux : votre silhouette leur paraît désormais aussi menaçante que les créatures contre lesquelles vous luttez."),new Ye(2,["insight","healing","awareness"]),new pe("Conscience de l'ombre","Vous avez pris conscience de l'existence d'une puissance cachée qui rassemble sous sa bannière tous les êtres de la Terre du Milieu malfaisants et effroyables, sombres et ténébreux ; et qu'au fil des années cette menace étend son pouvoir. Les Sages partagent avec vous cette conscience, et tous s'accordent pour dire que la situation devient chaque jour plus évidente."),new pe("Voie du désespoir","L'un des stratagèmes les plus fréquents de l'Ombre pour corrompre le cœur de ses adversaires consiste à les faire douter d'eux-mêmes. Car au fond, ils savent bien combien l'Ennemi est puissant et effroyable ; ils n'ignorent pas que le jour où ils disparaitront, ceux qu'ils protègent seront trop naifs ou trop faibles pour se défendre par eux-mêmes. Alors ils finissent par se demander chaque jour : suis-je assez fort pour pouvoir triompher un jour, ou vais-je emporter dans ma chute les innocents que j'avais juré de protéger ?")),M0=new Xn(new pe("Erudit","Le savoir est ce qui vous permet de rendre la sauvagerie du monde moins effroyable : les carte jaunies des grimoires oubliés remplacent la peur de l'inconnu par de la curiosité et de l'émerveillement, les chansons composées dans les temps jadis enhardissent les cœurs les plus éreintés. Le désir d'apprendre guide chacun de vos pas et illumine votre voie, montrant le chemin à ceux qui écoutent vos conseils."),new Ye(2,["craft","lore","riddle"]),new pe("Rimes de savoir","Il s'agit de courts versets créés par la plupart des cultures afin de mémoriser les événements importants de l'histoire ancienne, qui sans ça auraient été oubliés. Les Érudits de la Terre du Milieu doivent une grande partie de leur connaissance du passé à l'existence de telles rimes."),new pe("Attrait des secret","Il est souhaitable d'avoir pour vertus une curiosité intellectuelle et un grand appétit de connaissances ; mais manipulé par l'Ombre, le savoir peut s'avérer pernicieux : une personne lettrée se met alors à mépriser les autres, à les considérer comme des idiots incultes. Les secrets restent l'appât le plus dangereux, car le désir ardent de les percer peut corrompre même les cœurs les plus nobles.")),L0={captain:S0,champion:$0,treasureHunter:T0,messenger:O0,protector:P0,savant:M0};var kr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ls={},I0={get exports(){return Ls},set exports(i){Ls=i}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(i,n){(function(){var r,a="4.17.21",c=200,h="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",g="Expected a function",A="Invalid `variable` option passed into `_.template`",w="__lodash_hash_undefined__",T=500,k="__lodash_placeholder__",E=1,P=2,N=4,z=1,_e=2,ie=1,ee=2,ae=4,ye=8,Ie=16,Be=32,ze=64,Je=128,hn=256,En=512,Mr=30,Lr="...",Qn=800,Vs=16,Rn=1,Ir=2,Sn=3,yt=1/0,Rt=9007199254740991,er=17976931348623157e292,dn=0/0,et=4294967295,tr=et-1,nr=et>>>1,Lo=[["ary",Je],["bind",ie],["bindKey",ee],["curry",ye],["curryRight",Ie],["flip",En],["partial",Be],["partialRight",ze],["rearg",hn]],$="[object Arguments]",q="[object Array]",I="[object AsyncFunction]",H="[object Boolean]",fe="[object Date]",$e="[object DOMException]",j="[object Error]",Y="[object Function]",Ee="[object GeneratorFunction]",Ve="[object Map]",Ne="[object Number]",wc="[object Null]",Lt="[object Object]",Io="[object Promise]",yc="[object Proxy]",rr="[object RegExp]",bt="[object Set]",sr="[object String]",Br="[object Symbol]",bc="[object Undefined]",ir="[object WeakMap]",xc="[object WeakSet]",or="[object ArrayBuffer]",$n="[object DataView]",Us="[object Float32Array]",Ws="[object Float64Array]",Fs="[object Int8Array]",zs="[object Int16Array]",Gs="[object Int32Array]",Ks="[object Uint8Array]",Ys="[object Uint8ClampedArray]",Js="[object Uint16Array]",Xs="[object Uint32Array]",kc=/\b__p \+= '';/g,Cc=/\b(__p \+=) '' \+/g,Ac=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Bo=/&(?:amp|lt|gt|quot|#39);/g,No=/[&<>"']/g,Ec=RegExp(Bo.source),Rc=RegExp(No.source),Sc=/<%-([\s\S]+?)%>/g,$c=/<%([\s\S]+?)%>/g,qo=/<%=([\s\S]+?)%>/g,Tc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Oc=/^\w*$/,Pc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Zs=/[\\^$.*+?()[\]{}|]/g,Mc=RegExp(Zs.source),js=/^\s+/,Lc=/\s/,Ic=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Bc=/\{\n\/\* \[wrapped with (.+)\] \*/,Nc=/,? & /,qc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Dc=/[()=,{}\[\]\/\s]/,Hc=/\\(\\)?/g,Vc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Do=/\w*$/,Uc=/^[-+]0x[0-9a-f]+$/i,Wc=/^0b[01]+$/i,Fc=/^\[object .+?Constructor\]$/,zc=/^0o[0-7]+$/i,Gc=/^(?:0|[1-9]\d*)$/,Kc=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Nr=/($^)/,Yc=/['\n\r\u2028\u2029\\]/g,qr="\\ud800-\\udfff",Jc="\\u0300-\\u036f",Xc="\\ufe20-\\ufe2f",Zc="\\u20d0-\\u20ff",Ho=Jc+Xc+Zc,Vo="\\u2700-\\u27bf",Uo="a-z\\xdf-\\xf6\\xf8-\\xff",jc="\\xac\\xb1\\xd7\\xf7",Qc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ef="\\u2000-\\u206f",tf=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Wo="A-Z\\xc0-\\xd6\\xd8-\\xde",Fo="\\ufe0e\\ufe0f",zo=jc+Qc+ef+tf,Qs="['’]",nf="["+qr+"]",Go="["+zo+"]",Dr="["+Ho+"]",Ko="\\d+",rf="["+Vo+"]",Yo="["+Uo+"]",Jo="[^"+qr+zo+Ko+Vo+Uo+Wo+"]",ei="\\ud83c[\\udffb-\\udfff]",sf="(?:"+Dr+"|"+ei+")",Xo="[^"+qr+"]",ti="(?:\\ud83c[\\udde6-\\uddff]){2}",ni="[\\ud800-\\udbff][\\udc00-\\udfff]",Tn="["+Wo+"]",Zo="\\u200d",jo="(?:"+Yo+"|"+Jo+")",of="(?:"+Tn+"|"+Jo+")",Qo="(?:"+Qs+"(?:d|ll|m|re|s|t|ve))?",ea="(?:"+Qs+"(?:D|LL|M|RE|S|T|VE))?",ta=sf+"?",na="["+Fo+"]?",af="(?:"+Zo+"(?:"+[Xo,ti,ni].join("|")+")"+na+ta+")*",lf="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",uf="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ra=na+ta+af,cf="(?:"+[rf,ti,ni].join("|")+")"+ra,ff="(?:"+[Xo+Dr+"?",Dr,ti,ni,nf].join("|")+")",hf=RegExp(Qs,"g"),df=RegExp(Dr,"g"),ri=RegExp(ei+"(?="+ei+")|"+ff+ra,"g"),pf=RegExp([Tn+"?"+Yo+"+"+Qo+"(?="+[Go,Tn,"$"].join("|")+")",of+"+"+ea+"(?="+[Go,Tn+jo,"$"].join("|")+")",Tn+"?"+jo+"+"+Qo,Tn+"+"+ea,uf,lf,Ko,cf].join("|"),"g"),gf=RegExp("["+Zo+qr+Ho+Fo+"]"),mf=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,vf=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],_f=-1,be={};be[Us]=be[Ws]=be[Fs]=be[zs]=be[Gs]=be[Ks]=be[Ys]=be[Js]=be[Xs]=!0,be[$]=be[q]=be[or]=be[H]=be[$n]=be[fe]=be[j]=be[Y]=be[Ve]=be[Ne]=be[Lt]=be[rr]=be[bt]=be[sr]=be[ir]=!1;var we={};we[$]=we[q]=we[or]=we[$n]=we[H]=we[fe]=we[Us]=we[Ws]=we[Fs]=we[zs]=we[Gs]=we[Ve]=we[Ne]=we[Lt]=we[rr]=we[bt]=we[sr]=we[Br]=we[Ks]=we[Ys]=we[Js]=we[Xs]=!0,we[j]=we[Y]=we[ir]=!1;var wf={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},yf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},bf={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},xf={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},kf=parseFloat,Cf=parseInt,sa=typeof kr=="object"&&kr&&kr.Object===Object&&kr,Af=typeof self=="object"&&self&&self.Object===Object&&self,Ue=sa||Af||Function("return this")(),si=n&&!n.nodeType&&n,pn=si&&!0&&i&&!i.nodeType&&i,ia=pn&&pn.exports===si,ii=ia&&sa.process,ht=function(){try{var v=pn&&pn.require&&pn.require("util").types;return v||ii&&ii.binding&&ii.binding("util")}catch{}}(),oa=ht&&ht.isArrayBuffer,aa=ht&&ht.isDate,la=ht&&ht.isMap,ua=ht&&ht.isRegExp,ca=ht&&ht.isSet,fa=ht&&ht.isTypedArray;function it(v,C,x){switch(x.length){case 0:return v.call(C);case 1:return v.call(C,x[0]);case 2:return v.call(C,x[0],x[1]);case 3:return v.call(C,x[0],x[1],x[2])}return v.apply(C,x)}function Ef(v,C,x,B){for(var G=-1,le=v==null?0:v.length;++G<le;){var Me=v[G];C(B,Me,x(Me),v)}return B}function dt(v,C){for(var x=-1,B=v==null?0:v.length;++x<B&&C(v[x],x,v)!==!1;);return v}function Rf(v,C){for(var x=v==null?0:v.length;x--&&C(v[x],x,v)!==!1;);return v}function ha(v,C){for(var x=-1,B=v==null?0:v.length;++x<B;)if(!C(v[x],x,v))return!1;return!0}function Yt(v,C){for(var x=-1,B=v==null?0:v.length,G=0,le=[];++x<B;){var Me=v[x];C(Me,x,v)&&(le[G++]=Me)}return le}function Hr(v,C){var x=v==null?0:v.length;return!!x&&On(v,C,0)>-1}function oi(v,C,x){for(var B=-1,G=v==null?0:v.length;++B<G;)if(x(C,v[B]))return!0;return!1}function xe(v,C){for(var x=-1,B=v==null?0:v.length,G=Array(B);++x<B;)G[x]=C(v[x],x,v);return G}function Jt(v,C){for(var x=-1,B=C.length,G=v.length;++x<B;)v[G+x]=C[x];return v}function ai(v,C,x,B){var G=-1,le=v==null?0:v.length;for(B&&le&&(x=v[++G]);++G<le;)x=C(x,v[G],G,v);return x}function Sf(v,C,x,B){var G=v==null?0:v.length;for(B&&G&&(x=v[--G]);G--;)x=C(x,v[G],G,v);return x}function li(v,C){for(var x=-1,B=v==null?0:v.length;++x<B;)if(C(v[x],x,v))return!0;return!1}var $f=ui("length");function Tf(v){return v.split("")}function Of(v){return v.match(qc)||[]}function da(v,C,x){var B;return x(v,function(G,le,Me){if(C(G,le,Me))return B=le,!1}),B}function Vr(v,C,x,B){for(var G=v.length,le=x+(B?1:-1);B?le--:++le<G;)if(C(v[le],le,v))return le;return-1}function On(v,C,x){return C===C?Wf(v,C,x):Vr(v,pa,x)}function Pf(v,C,x,B){for(var G=x-1,le=v.length;++G<le;)if(B(v[G],C))return G;return-1}function pa(v){return v!==v}function ga(v,C){var x=v==null?0:v.length;return x?fi(v,C)/x:dn}function ui(v){return function(C){return C==null?r:C[v]}}function ci(v){return function(C){return v==null?r:v[C]}}function ma(v,C,x,B,G){return G(v,function(le,Me,me){x=B?(B=!1,le):C(x,le,Me,me)}),x}function Mf(v,C){var x=v.length;for(v.sort(C);x--;)v[x]=v[x].value;return v}function fi(v,C){for(var x,B=-1,G=v.length;++B<G;){var le=C(v[B]);le!==r&&(x=x===r?le:x+le)}return x}function hi(v,C){for(var x=-1,B=Array(v);++x<v;)B[x]=C(x);return B}function Lf(v,C){return xe(C,function(x){return[x,v[x]]})}function va(v){return v&&v.slice(0,ba(v)+1).replace(js,"")}function ot(v){return function(C){return v(C)}}function di(v,C){return xe(C,function(x){return v[x]})}function ar(v,C){return v.has(C)}function _a(v,C){for(var x=-1,B=v.length;++x<B&&On(C,v[x],0)>-1;);return x}function wa(v,C){for(var x=v.length;x--&&On(C,v[x],0)>-1;);return x}function If(v,C){for(var x=v.length,B=0;x--;)v[x]===C&&++B;return B}var Bf=ci(wf),Nf=ci(yf);function qf(v){return"\\"+xf[v]}function Df(v,C){return v==null?r:v[C]}function Pn(v){return gf.test(v)}function Hf(v){return mf.test(v)}function Vf(v){for(var C,x=[];!(C=v.next()).done;)x.push(C.value);return x}function pi(v){var C=-1,x=Array(v.size);return v.forEach(function(B,G){x[++C]=[G,B]}),x}function ya(v,C){return function(x){return v(C(x))}}function Xt(v,C){for(var x=-1,B=v.length,G=0,le=[];++x<B;){var Me=v[x];(Me===C||Me===k)&&(v[x]=k,le[G++]=x)}return le}function Ur(v){var C=-1,x=Array(v.size);return v.forEach(function(B){x[++C]=B}),x}function Uf(v){var C=-1,x=Array(v.size);return v.forEach(function(B){x[++C]=[B,B]}),x}function Wf(v,C,x){for(var B=x-1,G=v.length;++B<G;)if(v[B]===C)return B;return-1}function Ff(v,C,x){for(var B=x+1;B--;)if(v[B]===C)return B;return B}function Mn(v){return Pn(v)?Gf(v):$f(v)}function xt(v){return Pn(v)?Kf(v):Tf(v)}function ba(v){for(var C=v.length;C--&&Lc.test(v.charAt(C)););return C}var zf=ci(bf);function Gf(v){for(var C=ri.lastIndex=0;ri.test(v);)++C;return C}function Kf(v){return v.match(ri)||[]}function Yf(v){return v.match(pf)||[]}var Jf=function v(C){C=C==null?Ue:Ln.defaults(Ue.Object(),C,Ln.pick(Ue,vf));var x=C.Array,B=C.Date,G=C.Error,le=C.Function,Me=C.Math,me=C.Object,gi=C.RegExp,Xf=C.String,pt=C.TypeError,Wr=x.prototype,Zf=le.prototype,In=me.prototype,Fr=C["__core-js_shared__"],zr=Zf.toString,de=In.hasOwnProperty,jf=0,xa=function(){var e=/[^.]+$/.exec(Fr&&Fr.keys&&Fr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Gr=In.toString,Qf=zr.call(me),eh=Ue._,th=gi("^"+zr.call(de).replace(Zs,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Kr=ia?C.Buffer:r,Zt=C.Symbol,Yr=C.Uint8Array,ka=Kr?Kr.allocUnsafe:r,Jr=ya(me.getPrototypeOf,me),Ca=me.create,Aa=In.propertyIsEnumerable,Xr=Wr.splice,Ea=Zt?Zt.isConcatSpreadable:r,lr=Zt?Zt.iterator:r,gn=Zt?Zt.toStringTag:r,Zr=function(){try{var e=yn(me,"defineProperty");return e({},"",{}),e}catch{}}(),nh=C.clearTimeout!==Ue.clearTimeout&&C.clearTimeout,rh=B&&B.now!==Ue.Date.now&&B.now,sh=C.setTimeout!==Ue.setTimeout&&C.setTimeout,jr=Me.ceil,Qr=Me.floor,mi=me.getOwnPropertySymbols,ih=Kr?Kr.isBuffer:r,Ra=C.isFinite,oh=Wr.join,ah=ya(me.keys,me),Le=Me.max,Ge=Me.min,lh=B.now,uh=C.parseInt,Sa=Me.random,ch=Wr.reverse,vi=yn(C,"DataView"),ur=yn(C,"Map"),_i=yn(C,"Promise"),Bn=yn(C,"Set"),cr=yn(C,"WeakMap"),fr=yn(me,"create"),es=cr&&new cr,Nn={},fh=bn(vi),hh=bn(ur),dh=bn(_i),ph=bn(Bn),gh=bn(cr),ts=Zt?Zt.prototype:r,hr=ts?ts.valueOf:r,$a=ts?ts.toString:r;function u(e){if(Re(e)&&!K(e)&&!(e instanceof te)){if(e instanceof gt)return e;if(de.call(e,"__wrapped__"))return Tl(e)}return new gt(e)}var qn=function(){function e(){}return function(t){if(!Ce(t))return{};if(Ca)return Ca(t);e.prototype=t;var s=new e;return e.prototype=r,s}}();function ns(){}function gt(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}u.templateSettings={escape:Sc,evaluate:$c,interpolate:qo,variable:"",imports:{_:u}},u.prototype=ns.prototype,u.prototype.constructor=u,gt.prototype=qn(ns.prototype),gt.prototype.constructor=gt;function te(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=et,this.__views__=[]}function mh(){var e=new te(this.__wrapped__);return e.__actions__=tt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=tt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=tt(this.__views__),e}function vh(){if(this.__filtered__){var e=new te(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function _h(){var e=this.__wrapped__.value(),t=this.__dir__,s=K(e),o=t<0,l=s?e.length:0,f=Td(0,l,this.__views__),p=f.start,m=f.end,_=m-p,R=o?m:p-1,S=this.__iteratees__,O=S.length,L=0,D=Ge(_,this.__takeCount__);if(!s||!o&&l==_&&D==_)return Qa(e,this.__actions__);var W=[];e:for(;_--&&L<D;){R+=t;for(var X=-1,F=e[R];++X<O;){var Q=S[X],oe=Q.iteratee,ut=Q.type,je=oe(F);if(ut==Ir)F=je;else if(!je){if(ut==Rn)continue e;break e}}W[L++]=F}return W}te.prototype=qn(ns.prototype),te.prototype.constructor=te;function mn(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var o=e[t];this.set(o[0],o[1])}}function wh(){this.__data__=fr?fr(null):{},this.size=0}function yh(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function bh(e){var t=this.__data__;if(fr){var s=t[e];return s===w?r:s}return de.call(t,e)?t[e]:r}function xh(e){var t=this.__data__;return fr?t[e]!==r:de.call(t,e)}function kh(e,t){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=fr&&t===r?w:t,this}mn.prototype.clear=wh,mn.prototype.delete=yh,mn.prototype.get=bh,mn.prototype.has=xh,mn.prototype.set=kh;function It(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var o=e[t];this.set(o[0],o[1])}}function Ch(){this.__data__=[],this.size=0}function Ah(e){var t=this.__data__,s=rs(t,e);if(s<0)return!1;var o=t.length-1;return s==o?t.pop():Xr.call(t,s,1),--this.size,!0}function Eh(e){var t=this.__data__,s=rs(t,e);return s<0?r:t[s][1]}function Rh(e){return rs(this.__data__,e)>-1}function Sh(e,t){var s=this.__data__,o=rs(s,e);return o<0?(++this.size,s.push([e,t])):s[o][1]=t,this}It.prototype.clear=Ch,It.prototype.delete=Ah,It.prototype.get=Eh,It.prototype.has=Rh,It.prototype.set=Sh;function Bt(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var o=e[t];this.set(o[0],o[1])}}function $h(){this.size=0,this.__data__={hash:new mn,map:new(ur||It),string:new mn}}function Th(e){var t=gs(this,e).delete(e);return this.size-=t?1:0,t}function Oh(e){return gs(this,e).get(e)}function Ph(e){return gs(this,e).has(e)}function Mh(e,t){var s=gs(this,e),o=s.size;return s.set(e,t),this.size+=s.size==o?0:1,this}Bt.prototype.clear=$h,Bt.prototype.delete=Th,Bt.prototype.get=Oh,Bt.prototype.has=Ph,Bt.prototype.set=Mh;function vn(e){var t=-1,s=e==null?0:e.length;for(this.__data__=new Bt;++t<s;)this.add(e[t])}function Lh(e){return this.__data__.set(e,w),this}function Ih(e){return this.__data__.has(e)}vn.prototype.add=vn.prototype.push=Lh,vn.prototype.has=Ih;function kt(e){var t=this.__data__=new It(e);this.size=t.size}function Bh(){this.__data__=new It,this.size=0}function Nh(e){var t=this.__data__,s=t.delete(e);return this.size=t.size,s}function qh(e){return this.__data__.get(e)}function Dh(e){return this.__data__.has(e)}function Hh(e,t){var s=this.__data__;if(s instanceof It){var o=s.__data__;if(!ur||o.length<c-1)return o.push([e,t]),this.size=++s.size,this;s=this.__data__=new Bt(o)}return s.set(e,t),this.size=s.size,this}kt.prototype.clear=Bh,kt.prototype.delete=Nh,kt.prototype.get=qh,kt.prototype.has=Dh,kt.prototype.set=Hh;function Ta(e,t){var s=K(e),o=!s&&xn(e),l=!s&&!o&&nn(e),f=!s&&!o&&!l&&Un(e),p=s||o||l||f,m=p?hi(e.length,Xf):[],_=m.length;for(var R in e)(t||de.call(e,R))&&!(p&&(R=="length"||l&&(R=="offset"||R=="parent")||f&&(R=="buffer"||R=="byteLength"||R=="byteOffset")||Ht(R,_)))&&m.push(R);return m}function Oa(e){var t=e.length;return t?e[$i(0,t-1)]:r}function Vh(e,t){return ms(tt(e),_n(t,0,e.length))}function Uh(e){return ms(tt(e))}function wi(e,t,s){(s!==r&&!Ct(e[t],s)||s===r&&!(t in e))&&Nt(e,t,s)}function dr(e,t,s){var o=e[t];(!(de.call(e,t)&&Ct(o,s))||s===r&&!(t in e))&&Nt(e,t,s)}function rs(e,t){for(var s=e.length;s--;)if(Ct(e[s][0],t))return s;return-1}function Wh(e,t,s,o){return jt(e,function(l,f,p){t(o,l,s(l),p)}),o}function Pa(e,t){return e&&$t(t,qe(t),e)}function Fh(e,t){return e&&$t(t,rt(t),e)}function Nt(e,t,s){t=="__proto__"&&Zr?Zr(e,t,{configurable:!0,enumerable:!0,value:s,writable:!0}):e[t]=s}function yi(e,t){for(var s=-1,o=t.length,l=x(o),f=e==null;++s<o;)l[s]=f?r:eo(e,t[s]);return l}function _n(e,t,s){return e===e&&(s!==r&&(e=e<=s?e:s),t!==r&&(e=e>=t?e:t)),e}function mt(e,t,s,o,l,f){var p,m=t&E,_=t&P,R=t&N;if(s&&(p=l?s(e,o,l,f):s(e)),p!==r)return p;if(!Ce(e))return e;var S=K(e);if(S){if(p=Pd(e),!m)return tt(e,p)}else{var O=Ke(e),L=O==Y||O==Ee;if(nn(e))return nl(e,m);if(O==Lt||O==$||L&&!l){if(p=_||L?{}:bl(e),!m)return _?bd(e,Fh(p,e)):yd(e,Pa(p,e))}else{if(!we[O])return l?e:{};p=Md(e,O,m)}}f||(f=new kt);var D=f.get(e);if(D)return D;f.set(e,p),Xl(e)?e.forEach(function(F){p.add(mt(F,t,s,F,e,f))}):Yl(e)&&e.forEach(function(F,Q){p.set(Q,mt(F,t,s,Q,e,f))});var W=R?_?Hi:Di:_?rt:qe,X=S?r:W(e);return dt(X||e,function(F,Q){X&&(Q=F,F=e[Q]),dr(p,Q,mt(F,t,s,Q,e,f))}),p}function zh(e){var t=qe(e);return function(s){return Ma(s,e,t)}}function Ma(e,t,s){var o=s.length;if(e==null)return!o;for(e=me(e);o--;){var l=s[o],f=t[l],p=e[l];if(p===r&&!(l in e)||!f(p))return!1}return!0}function La(e,t,s){if(typeof e!="function")throw new pt(g);return yr(function(){e.apply(r,s)},t)}function pr(e,t,s,o){var l=-1,f=Hr,p=!0,m=e.length,_=[],R=t.length;if(!m)return _;s&&(t=xe(t,ot(s))),o?(f=oi,p=!1):t.length>=c&&(f=ar,p=!1,t=new vn(t));e:for(;++l<m;){var S=e[l],O=s==null?S:s(S);if(S=o||S!==0?S:0,p&&O===O){for(var L=R;L--;)if(t[L]===O)continue e;_.push(S)}else f(t,O,o)||_.push(S)}return _}var jt=al(St),Ia=al(xi,!0);function Gh(e,t){var s=!0;return jt(e,function(o,l,f){return s=!!t(o,l,f),s}),s}function ss(e,t,s){for(var o=-1,l=e.length;++o<l;){var f=e[o],p=t(f);if(p!=null&&(m===r?p===p&&!lt(p):s(p,m)))var m=p,_=f}return _}function Kh(e,t,s,o){var l=e.length;for(s=J(s),s<0&&(s=-s>l?0:l+s),o=o===r||o>l?l:J(o),o<0&&(o+=l),o=s>o?0:jl(o);s<o;)e[s++]=t;return e}function Ba(e,t){var s=[];return jt(e,function(o,l,f){t(o,l,f)&&s.push(o)}),s}function We(e,t,s,o,l){var f=-1,p=e.length;for(s||(s=Id),l||(l=[]);++f<p;){var m=e[f];t>0&&s(m)?t>1?We(m,t-1,s,o,l):Jt(l,m):o||(l[l.length]=m)}return l}var bi=ll(),Na=ll(!0);function St(e,t){return e&&bi(e,t,qe)}function xi(e,t){return e&&Na(e,t,qe)}function is(e,t){return Yt(t,function(s){return Vt(e[s])})}function wn(e,t){t=en(t,e);for(var s=0,o=t.length;e!=null&&s<o;)e=e[Tt(t[s++])];return s&&s==o?e:r}function qa(e,t,s){var o=t(e);return K(e)?o:Jt(o,s(e))}function Xe(e){return e==null?e===r?bc:wc:gn&&gn in me(e)?$d(e):Ud(e)}function ki(e,t){return e>t}function Yh(e,t){return e!=null&&de.call(e,t)}function Jh(e,t){return e!=null&&t in me(e)}function Xh(e,t,s){return e>=Ge(t,s)&&e<Le(t,s)}function Ci(e,t,s){for(var o=s?oi:Hr,l=e[0].length,f=e.length,p=f,m=x(f),_=1/0,R=[];p--;){var S=e[p];p&&t&&(S=xe(S,ot(t))),_=Ge(S.length,_),m[p]=!s&&(t||l>=120&&S.length>=120)?new vn(p&&S):r}S=e[0];var O=-1,L=m[0];e:for(;++O<l&&R.length<_;){var D=S[O],W=t?t(D):D;if(D=s||D!==0?D:0,!(L?ar(L,W):o(R,W,s))){for(p=f;--p;){var X=m[p];if(!(X?ar(X,W):o(e[p],W,s)))continue e}L&&L.push(W),R.push(D)}}return R}function Zh(e,t,s,o){return St(e,function(l,f,p){t(o,s(l),f,p)}),o}function gr(e,t,s){t=en(t,e),e=Al(e,t);var o=e==null?e:e[Tt(_t(t))];return o==null?r:it(o,e,s)}function Da(e){return Re(e)&&Xe(e)==$}function jh(e){return Re(e)&&Xe(e)==or}function Qh(e){return Re(e)&&Xe(e)==fe}function mr(e,t,s,o,l){return e===t?!0:e==null||t==null||!Re(e)&&!Re(t)?e!==e&&t!==t:ed(e,t,s,o,mr,l)}function ed(e,t,s,o,l,f){var p=K(e),m=K(t),_=p?q:Ke(e),R=m?q:Ke(t);_=_==$?Lt:_,R=R==$?Lt:R;var S=_==Lt,O=R==Lt,L=_==R;if(L&&nn(e)){if(!nn(t))return!1;p=!0,S=!1}if(L&&!S)return f||(f=new kt),p||Un(e)?_l(e,t,s,o,l,f):Rd(e,t,_,s,o,l,f);if(!(s&z)){var D=S&&de.call(e,"__wrapped__"),W=O&&de.call(t,"__wrapped__");if(D||W){var X=D?e.value():e,F=W?t.value():t;return f||(f=new kt),l(X,F,s,o,f)}}return L?(f||(f=new kt),Sd(e,t,s,o,l,f)):!1}function td(e){return Re(e)&&Ke(e)==Ve}function Ai(e,t,s,o){var l=s.length,f=l,p=!o;if(e==null)return!f;for(e=me(e);l--;){var m=s[l];if(p&&m[2]?m[1]!==e[m[0]]:!(m[0]in e))return!1}for(;++l<f;){m=s[l];var _=m[0],R=e[_],S=m[1];if(p&&m[2]){if(R===r&&!(_ in e))return!1}else{var O=new kt;if(o)var L=o(R,S,_,e,t,O);if(!(L===r?mr(S,R,z|_e,o,O):L))return!1}}return!0}function Ha(e){if(!Ce(e)||Nd(e))return!1;var t=Vt(e)?th:Fc;return t.test(bn(e))}function nd(e){return Re(e)&&Xe(e)==rr}function rd(e){return Re(e)&&Ke(e)==bt}function sd(e){return Re(e)&&xs(e.length)&&!!be[Xe(e)]}function Va(e){return typeof e=="function"?e:e==null?st:typeof e=="object"?K(e)?Fa(e[0],e[1]):Wa(e):uu(e)}function Ei(e){if(!wr(e))return ah(e);var t=[];for(var s in me(e))de.call(e,s)&&s!="constructor"&&t.push(s);return t}function id(e){if(!Ce(e))return Vd(e);var t=wr(e),s=[];for(var o in e)o=="constructor"&&(t||!de.call(e,o))||s.push(o);return s}function Ri(e,t){return e<t}function Ua(e,t){var s=-1,o=nt(e)?x(e.length):[];return jt(e,function(l,f,p){o[++s]=t(l,f,p)}),o}function Wa(e){var t=Ui(e);return t.length==1&&t[0][2]?kl(t[0][0],t[0][1]):function(s){return s===e||Ai(s,e,t)}}function Fa(e,t){return Fi(e)&&xl(t)?kl(Tt(e),t):function(s){var o=eo(s,e);return o===r&&o===t?to(s,e):mr(t,o,z|_e)}}function os(e,t,s,o,l){e!==t&&bi(t,function(f,p){if(l||(l=new kt),Ce(f))od(e,t,p,s,os,o,l);else{var m=o?o(Gi(e,p),f,p+"",e,t,l):r;m===r&&(m=f),wi(e,p,m)}},rt)}function od(e,t,s,o,l,f,p){var m=Gi(e,s),_=Gi(t,s),R=p.get(_);if(R){wi(e,s,R);return}var S=f?f(m,_,s+"",e,t,p):r,O=S===r;if(O){var L=K(_),D=!L&&nn(_),W=!L&&!D&&Un(_);S=_,L||D||W?K(m)?S=m:Te(m)?S=tt(m):D?(O=!1,S=nl(_,!0)):W?(O=!1,S=rl(_,!0)):S=[]:br(_)||xn(_)?(S=m,xn(m)?S=Ql(m):(!Ce(m)||Vt(m))&&(S=bl(_))):O=!1}O&&(p.set(_,S),l(S,_,o,f,p),p.delete(_)),wi(e,s,S)}function za(e,t){var s=e.length;if(s)return t+=t<0?s:0,Ht(t,s)?e[t]:r}function Ga(e,t,s){t.length?t=xe(t,function(f){return K(f)?function(p){return wn(p,f.length===1?f[0]:f)}:f}):t=[st];var o=-1;t=xe(t,ot(U()));var l=Ua(e,function(f,p,m){var _=xe(t,function(R){return R(f)});return{criteria:_,index:++o,value:f}});return Mf(l,function(f,p){return wd(f,p,s)})}function ad(e,t){return Ka(e,t,function(s,o){return to(e,o)})}function Ka(e,t,s){for(var o=-1,l=t.length,f={};++o<l;){var p=t[o],m=wn(e,p);s(m,p)&&vr(f,en(p,e),m)}return f}function ld(e){return function(t){return wn(t,e)}}function Si(e,t,s,o){var l=o?Pf:On,f=-1,p=t.length,m=e;for(e===t&&(t=tt(t)),s&&(m=xe(e,ot(s)));++f<p;)for(var _=0,R=t[f],S=s?s(R):R;(_=l(m,S,_,o))>-1;)m!==e&&Xr.call(m,_,1),Xr.call(e,_,1);return e}function Ya(e,t){for(var s=e?t.length:0,o=s-1;s--;){var l=t[s];if(s==o||l!==f){var f=l;Ht(l)?Xr.call(e,l,1):Pi(e,l)}}return e}function $i(e,t){return e+Qr(Sa()*(t-e+1))}function ud(e,t,s,o){for(var l=-1,f=Le(jr((t-e)/(s||1)),0),p=x(f);f--;)p[o?f:++l]=e,e+=s;return p}function Ti(e,t){var s="";if(!e||t<1||t>Rt)return s;do t%2&&(s+=e),t=Qr(t/2),t&&(e+=e);while(t);return s}function Z(e,t){return Ki(Cl(e,t,st),e+"")}function cd(e){return Oa(Wn(e))}function fd(e,t){var s=Wn(e);return ms(s,_n(t,0,s.length))}function vr(e,t,s,o){if(!Ce(e))return e;t=en(t,e);for(var l=-1,f=t.length,p=f-1,m=e;m!=null&&++l<f;){var _=Tt(t[l]),R=s;if(_==="__proto__"||_==="constructor"||_==="prototype")return e;if(l!=p){var S=m[_];R=o?o(S,_,m):r,R===r&&(R=Ce(S)?S:Ht(t[l+1])?[]:{})}dr(m,_,R),m=m[_]}return e}var Ja=es?function(e,t){return es.set(e,t),e}:st,hd=Zr?function(e,t){return Zr(e,"toString",{configurable:!0,enumerable:!1,value:ro(t),writable:!0})}:st;function dd(e){return ms(Wn(e))}function vt(e,t,s){var o=-1,l=e.length;t<0&&(t=-t>l?0:l+t),s=s>l?l:s,s<0&&(s+=l),l=t>s?0:s-t>>>0,t>>>=0;for(var f=x(l);++o<l;)f[o]=e[o+t];return f}function pd(e,t){var s;return jt(e,function(o,l,f){return s=t(o,l,f),!s}),!!s}function as(e,t,s){var o=0,l=e==null?o:e.length;if(typeof t=="number"&&t===t&&l<=nr){for(;o<l;){var f=o+l>>>1,p=e[f];p!==null&&!lt(p)&&(s?p<=t:p<t)?o=f+1:l=f}return l}return Oi(e,t,st,s)}function Oi(e,t,s,o){var l=0,f=e==null?0:e.length;if(f===0)return 0;t=s(t);for(var p=t!==t,m=t===null,_=lt(t),R=t===r;l<f;){var S=Qr((l+f)/2),O=s(e[S]),L=O!==r,D=O===null,W=O===O,X=lt(O);if(p)var F=o||W;else R?F=W&&(o||L):m?F=W&&L&&(o||!D):_?F=W&&L&&!D&&(o||!X):D||X?F=!1:F=o?O<=t:O<t;F?l=S+1:f=S}return Ge(f,tr)}function Xa(e,t){for(var s=-1,o=e.length,l=0,f=[];++s<o;){var p=e[s],m=t?t(p):p;if(!s||!Ct(m,_)){var _=m;f[l++]=p===0?0:p}}return f}function Za(e){return typeof e=="number"?e:lt(e)?dn:+e}function at(e){if(typeof e=="string")return e;if(K(e))return xe(e,at)+"";if(lt(e))return $a?$a.call(e):"";var t=e+"";return t=="0"&&1/e==-yt?"-0":t}function Qt(e,t,s){var o=-1,l=Hr,f=e.length,p=!0,m=[],_=m;if(s)p=!1,l=oi;else if(f>=c){var R=t?null:Ad(e);if(R)return Ur(R);p=!1,l=ar,_=new vn}else _=t?[]:m;e:for(;++o<f;){var S=e[o],O=t?t(S):S;if(S=s||S!==0?S:0,p&&O===O){for(var L=_.length;L--;)if(_[L]===O)continue e;t&&_.push(O),m.push(S)}else l(_,O,s)||(_!==m&&_.push(O),m.push(S))}return m}function Pi(e,t){return t=en(t,e),e=Al(e,t),e==null||delete e[Tt(_t(t))]}function ja(e,t,s,o){return vr(e,t,s(wn(e,t)),o)}function ls(e,t,s,o){for(var l=e.length,f=o?l:-1;(o?f--:++f<l)&&t(e[f],f,e););return s?vt(e,o?0:f,o?f+1:l):vt(e,o?f+1:0,o?l:f)}function Qa(e,t){var s=e;return s instanceof te&&(s=s.value()),ai(t,function(o,l){return l.func.apply(l.thisArg,Jt([o],l.args))},s)}function Mi(e,t,s){var o=e.length;if(o<2)return o?Qt(e[0]):[];for(var l=-1,f=x(o);++l<o;)for(var p=e[l],m=-1;++m<o;)m!=l&&(f[l]=pr(f[l]||p,e[m],t,s));return Qt(We(f,1),t,s)}function el(e,t,s){for(var o=-1,l=e.length,f=t.length,p={};++o<l;){var m=o<f?t[o]:r;s(p,e[o],m)}return p}function Li(e){return Te(e)?e:[]}function Ii(e){return typeof e=="function"?e:st}function en(e,t){return K(e)?e:Fi(e,t)?[e]:$l(he(e))}var gd=Z;function tn(e,t,s){var o=e.length;return s=s===r?o:s,!t&&s>=o?e:vt(e,t,s)}var tl=nh||function(e){return Ue.clearTimeout(e)};function nl(e,t){if(t)return e.slice();var s=e.length,o=ka?ka(s):new e.constructor(s);return e.copy(o),o}function Bi(e){var t=new e.constructor(e.byteLength);return new Yr(t).set(new Yr(e)),t}function md(e,t){var s=t?Bi(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.byteLength)}function vd(e){var t=new e.constructor(e.source,Do.exec(e));return t.lastIndex=e.lastIndex,t}function _d(e){return hr?me(hr.call(e)):{}}function rl(e,t){var s=t?Bi(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.length)}function sl(e,t){if(e!==t){var s=e!==r,o=e===null,l=e===e,f=lt(e),p=t!==r,m=t===null,_=t===t,R=lt(t);if(!m&&!R&&!f&&e>t||f&&p&&_&&!m&&!R||o&&p&&_||!s&&_||!l)return 1;if(!o&&!f&&!R&&e<t||R&&s&&l&&!o&&!f||m&&s&&l||!p&&l||!_)return-1}return 0}function wd(e,t,s){for(var o=-1,l=e.criteria,f=t.criteria,p=l.length,m=s.length;++o<p;){var _=sl(l[o],f[o]);if(_){if(o>=m)return _;var R=s[o];return _*(R=="desc"?-1:1)}}return e.index-t.index}function il(e,t,s,o){for(var l=-1,f=e.length,p=s.length,m=-1,_=t.length,R=Le(f-p,0),S=x(_+R),O=!o;++m<_;)S[m]=t[m];for(;++l<p;)(O||l<f)&&(S[s[l]]=e[l]);for(;R--;)S[m++]=e[l++];return S}function ol(e,t,s,o){for(var l=-1,f=e.length,p=-1,m=s.length,_=-1,R=t.length,S=Le(f-m,0),O=x(S+R),L=!o;++l<S;)O[l]=e[l];for(var D=l;++_<R;)O[D+_]=t[_];for(;++p<m;)(L||l<f)&&(O[D+s[p]]=e[l++]);return O}function tt(e,t){var s=-1,o=e.length;for(t||(t=x(o));++s<o;)t[s]=e[s];return t}function $t(e,t,s,o){var l=!s;s||(s={});for(var f=-1,p=t.length;++f<p;){var m=t[f],_=o?o(s[m],e[m],m,s,e):r;_===r&&(_=e[m]),l?Nt(s,m,_):dr(s,m,_)}return s}function yd(e,t){return $t(e,Wi(e),t)}function bd(e,t){return $t(e,wl(e),t)}function us(e,t){return function(s,o){var l=K(s)?Ef:Wh,f=t?t():{};return l(s,e,U(o,2),f)}}function Dn(e){return Z(function(t,s){var o=-1,l=s.length,f=l>1?s[l-1]:r,p=l>2?s[2]:r;for(f=e.length>3&&typeof f=="function"?(l--,f):r,p&&Ze(s[0],s[1],p)&&(f=l<3?r:f,l=1),t=me(t);++o<l;){var m=s[o];m&&e(t,m,o,f)}return t})}function al(e,t){return function(s,o){if(s==null)return s;if(!nt(s))return e(s,o);for(var l=s.length,f=t?l:-1,p=me(s);(t?f--:++f<l)&&o(p[f],f,p)!==!1;);return s}}function ll(e){return function(t,s,o){for(var l=-1,f=me(t),p=o(t),m=p.length;m--;){var _=p[e?m:++l];if(s(f[_],_,f)===!1)break}return t}}function xd(e,t,s){var o=t&ie,l=_r(e);function f(){var p=this&&this!==Ue&&this instanceof f?l:e;return p.apply(o?s:this,arguments)}return f}function ul(e){return function(t){t=he(t);var s=Pn(t)?xt(t):r,o=s?s[0]:t.charAt(0),l=s?tn(s,1).join(""):t.slice(1);return o[e]()+l}}function Hn(e){return function(t){return ai(au(ou(t).replace(hf,"")),e,"")}}function _r(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var s=qn(e.prototype),o=e.apply(s,t);return Ce(o)?o:s}}function kd(e,t,s){var o=_r(e);function l(){for(var f=arguments.length,p=x(f),m=f,_=Vn(l);m--;)p[m]=arguments[m];var R=f<3&&p[0]!==_&&p[f-1]!==_?[]:Xt(p,_);if(f-=R.length,f<s)return pl(e,t,cs,l.placeholder,r,p,R,r,r,s-f);var S=this&&this!==Ue&&this instanceof l?o:e;return it(S,this,p)}return l}function cl(e){return function(t,s,o){var l=me(t);if(!nt(t)){var f=U(s,3);t=qe(t),s=function(m){return f(l[m],m,l)}}var p=e(t,s,o);return p>-1?l[f?t[p]:p]:r}}function fl(e){return Dt(function(t){var s=t.length,o=s,l=gt.prototype.thru;for(e&&t.reverse();o--;){var f=t[o];if(typeof f!="function")throw new pt(g);if(l&&!p&&ps(f)=="wrapper")var p=new gt([],!0)}for(o=p?o:s;++o<s;){f=t[o];var m=ps(f),_=m=="wrapper"?Vi(f):r;_&&zi(_[0])&&_[1]==(Je|ye|Be|hn)&&!_[4].length&&_[9]==1?p=p[ps(_[0])].apply(p,_[3]):p=f.length==1&&zi(f)?p[m]():p.thru(f)}return function(){var R=arguments,S=R[0];if(p&&R.length==1&&K(S))return p.plant(S).value();for(var O=0,L=s?t[O].apply(this,R):S;++O<s;)L=t[O].call(this,L);return L}})}function cs(e,t,s,o,l,f,p,m,_,R){var S=t&Je,O=t&ie,L=t&ee,D=t&(ye|Ie),W=t&En,X=L?r:_r(e);function F(){for(var Q=arguments.length,oe=x(Q),ut=Q;ut--;)oe[ut]=arguments[ut];if(D)var je=Vn(F),ct=If(oe,je);if(o&&(oe=il(oe,o,l,D)),f&&(oe=ol(oe,f,p,D)),Q-=ct,D&&Q<R){var Oe=Xt(oe,je);return pl(e,t,cs,F.placeholder,s,oe,Oe,m,_,R-Q)}var At=O?s:this,Wt=L?At[e]:e;return Q=oe.length,m?oe=Wd(oe,m):W&&Q>1&&oe.reverse(),S&&_<Q&&(oe.length=_),this&&this!==Ue&&this instanceof F&&(Wt=X||_r(Wt)),Wt.apply(At,oe)}return F}function hl(e,t){return function(s,o){return Zh(s,e,t(o),{})}}function fs(e,t){return function(s,o){var l;if(s===r&&o===r)return t;if(s!==r&&(l=s),o!==r){if(l===r)return o;typeof s=="string"||typeof o=="string"?(s=at(s),o=at(o)):(s=Za(s),o=Za(o)),l=e(s,o)}return l}}function Ni(e){return Dt(function(t){return t=xe(t,ot(U())),Z(function(s){var o=this;return e(t,function(l){return it(l,o,s)})})})}function hs(e,t){t=t===r?" ":at(t);var s=t.length;if(s<2)return s?Ti(t,e):t;var o=Ti(t,jr(e/Mn(t)));return Pn(t)?tn(xt(o),0,e).join(""):o.slice(0,e)}function Cd(e,t,s,o){var l=t&ie,f=_r(e);function p(){for(var m=-1,_=arguments.length,R=-1,S=o.length,O=x(S+_),L=this&&this!==Ue&&this instanceof p?f:e;++R<S;)O[R]=o[R];for(;_--;)O[R++]=arguments[++m];return it(L,l?s:this,O)}return p}function dl(e){return function(t,s,o){return o&&typeof o!="number"&&Ze(t,s,o)&&(s=o=r),t=Ut(t),s===r?(s=t,t=0):s=Ut(s),o=o===r?t<s?1:-1:Ut(o),ud(t,s,o,e)}}function ds(e){return function(t,s){return typeof t=="string"&&typeof s=="string"||(t=wt(t),s=wt(s)),e(t,s)}}function pl(e,t,s,o,l,f,p,m,_,R){var S=t&ye,O=S?p:r,L=S?r:p,D=S?f:r,W=S?r:f;t|=S?Be:ze,t&=~(S?ze:Be),t&ae||(t&=~(ie|ee));var X=[e,t,l,D,O,W,L,m,_,R],F=s.apply(r,X);return zi(e)&&El(F,X),F.placeholder=o,Rl(F,e,t)}function qi(e){var t=Me[e];return function(s,o){if(s=wt(s),o=o==null?0:Ge(J(o),292),o&&Ra(s)){var l=(he(s)+"e").split("e"),f=t(l[0]+"e"+(+l[1]+o));return l=(he(f)+"e").split("e"),+(l[0]+"e"+(+l[1]-o))}return t(s)}}var Ad=Bn&&1/Ur(new Bn([,-0]))[1]==yt?function(e){return new Bn(e)}:oo;function gl(e){return function(t){var s=Ke(t);return s==Ve?pi(t):s==bt?Uf(t):Lf(t,e(t))}}function qt(e,t,s,o,l,f,p,m){var _=t&ee;if(!_&&typeof e!="function")throw new pt(g);var R=o?o.length:0;if(R||(t&=~(Be|ze),o=l=r),p=p===r?p:Le(J(p),0),m=m===r?m:J(m),R-=l?l.length:0,t&ze){var S=o,O=l;o=l=r}var L=_?r:Vi(e),D=[e,t,s,o,l,S,O,f,p,m];if(L&&Hd(D,L),e=D[0],t=D[1],s=D[2],o=D[3],l=D[4],m=D[9]=D[9]===r?_?0:e.length:Le(D[9]-R,0),!m&&t&(ye|Ie)&&(t&=~(ye|Ie)),!t||t==ie)var W=xd(e,t,s);else t==ye||t==Ie?W=kd(e,t,m):(t==Be||t==(ie|Be))&&!l.length?W=Cd(e,t,s,o):W=cs.apply(r,D);var X=L?Ja:El;return Rl(X(W,D),e,t)}function ml(e,t,s,o){return e===r||Ct(e,In[s])&&!de.call(o,s)?t:e}function vl(e,t,s,o,l,f){return Ce(e)&&Ce(t)&&(f.set(t,e),os(e,t,r,vl,f),f.delete(t)),e}function Ed(e){return br(e)?r:e}function _l(e,t,s,o,l,f){var p=s&z,m=e.length,_=t.length;if(m!=_&&!(p&&_>m))return!1;var R=f.get(e),S=f.get(t);if(R&&S)return R==t&&S==e;var O=-1,L=!0,D=s&_e?new vn:r;for(f.set(e,t),f.set(t,e);++O<m;){var W=e[O],X=t[O];if(o)var F=p?o(X,W,O,t,e,f):o(W,X,O,e,t,f);if(F!==r){if(F)continue;L=!1;break}if(D){if(!li(t,function(Q,oe){if(!ar(D,oe)&&(W===Q||l(W,Q,s,o,f)))return D.push(oe)})){L=!1;break}}else if(!(W===X||l(W,X,s,o,f))){L=!1;break}}return f.delete(e),f.delete(t),L}function Rd(e,t,s,o,l,f,p){switch(s){case $n:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case or:return!(e.byteLength!=t.byteLength||!f(new Yr(e),new Yr(t)));case H:case fe:case Ne:return Ct(+e,+t);case j:return e.name==t.name&&e.message==t.message;case rr:case sr:return e==t+"";case Ve:var m=pi;case bt:var _=o&z;if(m||(m=Ur),e.size!=t.size&&!_)return!1;var R=p.get(e);if(R)return R==t;o|=_e,p.set(e,t);var S=_l(m(e),m(t),o,l,f,p);return p.delete(e),S;case Br:if(hr)return hr.call(e)==hr.call(t)}return!1}function Sd(e,t,s,o,l,f){var p=s&z,m=Di(e),_=m.length,R=Di(t),S=R.length;if(_!=S&&!p)return!1;for(var O=_;O--;){var L=m[O];if(!(p?L in t:de.call(t,L)))return!1}var D=f.get(e),W=f.get(t);if(D&&W)return D==t&&W==e;var X=!0;f.set(e,t),f.set(t,e);for(var F=p;++O<_;){L=m[O];var Q=e[L],oe=t[L];if(o)var ut=p?o(oe,Q,L,t,e,f):o(Q,oe,L,e,t,f);if(!(ut===r?Q===oe||l(Q,oe,s,o,f):ut)){X=!1;break}F||(F=L=="constructor")}if(X&&!F){var je=e.constructor,ct=t.constructor;je!=ct&&"constructor"in e&&"constructor"in t&&!(typeof je=="function"&&je instanceof je&&typeof ct=="function"&&ct instanceof ct)&&(X=!1)}return f.delete(e),f.delete(t),X}function Dt(e){return Ki(Cl(e,r,Ml),e+"")}function Di(e){return qa(e,qe,Wi)}function Hi(e){return qa(e,rt,wl)}var Vi=es?function(e){return es.get(e)}:oo;function ps(e){for(var t=e.name+"",s=Nn[t],o=de.call(Nn,t)?s.length:0;o--;){var l=s[o],f=l.func;if(f==null||f==e)return l.name}return t}function Vn(e){var t=de.call(u,"placeholder")?u:e;return t.placeholder}function U(){var e=u.iteratee||so;return e=e===so?Va:e,arguments.length?e(arguments[0],arguments[1]):e}function gs(e,t){var s=e.__data__;return Bd(t)?s[typeof t=="string"?"string":"hash"]:s.map}function Ui(e){for(var t=qe(e),s=t.length;s--;){var o=t[s],l=e[o];t[s]=[o,l,xl(l)]}return t}function yn(e,t){var s=Df(e,t);return Ha(s)?s:r}function $d(e){var t=de.call(e,gn),s=e[gn];try{e[gn]=r;var o=!0}catch{}var l=Gr.call(e);return o&&(t?e[gn]=s:delete e[gn]),l}var Wi=mi?function(e){return e==null?[]:(e=me(e),Yt(mi(e),function(t){return Aa.call(e,t)}))}:ao,wl=mi?function(e){for(var t=[];e;)Jt(t,Wi(e)),e=Jr(e);return t}:ao,Ke=Xe;(vi&&Ke(new vi(new ArrayBuffer(1)))!=$n||ur&&Ke(new ur)!=Ve||_i&&Ke(_i.resolve())!=Io||Bn&&Ke(new Bn)!=bt||cr&&Ke(new cr)!=ir)&&(Ke=function(e){var t=Xe(e),s=t==Lt?e.constructor:r,o=s?bn(s):"";if(o)switch(o){case fh:return $n;case hh:return Ve;case dh:return Io;case ph:return bt;case gh:return ir}return t});function Td(e,t,s){for(var o=-1,l=s.length;++o<l;){var f=s[o],p=f.size;switch(f.type){case"drop":e+=p;break;case"dropRight":t-=p;break;case"take":t=Ge(t,e+p);break;case"takeRight":e=Le(e,t-p);break}}return{start:e,end:t}}function Od(e){var t=e.match(Bc);return t?t[1].split(Nc):[]}function yl(e,t,s){t=en(t,e);for(var o=-1,l=t.length,f=!1;++o<l;){var p=Tt(t[o]);if(!(f=e!=null&&s(e,p)))break;e=e[p]}return f||++o!=l?f:(l=e==null?0:e.length,!!l&&xs(l)&&Ht(p,l)&&(K(e)||xn(e)))}function Pd(e){var t=e.length,s=new e.constructor(t);return t&&typeof e[0]=="string"&&de.call(e,"index")&&(s.index=e.index,s.input=e.input),s}function bl(e){return typeof e.constructor=="function"&&!wr(e)?qn(Jr(e)):{}}function Md(e,t,s){var o=e.constructor;switch(t){case or:return Bi(e);case H:case fe:return new o(+e);case $n:return md(e,s);case Us:case Ws:case Fs:case zs:case Gs:case Ks:case Ys:case Js:case Xs:return rl(e,s);case Ve:return new o;case Ne:case sr:return new o(e);case rr:return vd(e);case bt:return new o;case Br:return _d(e)}}function Ld(e,t){var s=t.length;if(!s)return e;var o=s-1;return t[o]=(s>1?"& ":"")+t[o],t=t.join(s>2?", ":" "),e.replace(Ic,`{
/* [wrapped with `+t+`] */
`)}function Id(e){return K(e)||xn(e)||!!(Ea&&e&&e[Ea])}function Ht(e,t){var s=typeof e;return t=t??Rt,!!t&&(s=="number"||s!="symbol"&&Gc.test(e))&&e>-1&&e%1==0&&e<t}function Ze(e,t,s){if(!Ce(s))return!1;var o=typeof t;return(o=="number"?nt(s)&&Ht(t,s.length):o=="string"&&t in s)?Ct(s[t],e):!1}function Fi(e,t){if(K(e))return!1;var s=typeof e;return s=="number"||s=="symbol"||s=="boolean"||e==null||lt(e)?!0:Oc.test(e)||!Tc.test(e)||t!=null&&e in me(t)}function Bd(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function zi(e){var t=ps(e),s=u[t];if(typeof s!="function"||!(t in te.prototype))return!1;if(e===s)return!0;var o=Vi(s);return!!o&&e===o[0]}function Nd(e){return!!xa&&xa in e}var qd=Fr?Vt:lo;function wr(e){var t=e&&e.constructor,s=typeof t=="function"&&t.prototype||In;return e===s}function xl(e){return e===e&&!Ce(e)}function kl(e,t){return function(s){return s==null?!1:s[e]===t&&(t!==r||e in me(s))}}function Dd(e){var t=ys(e,function(o){return s.size===T&&s.clear(),o}),s=t.cache;return t}function Hd(e,t){var s=e[1],o=t[1],l=s|o,f=l<(ie|ee|Je),p=o==Je&&s==ye||o==Je&&s==hn&&e[7].length<=t[8]||o==(Je|hn)&&t[7].length<=t[8]&&s==ye;if(!(f||p))return e;o&ie&&(e[2]=t[2],l|=s&ie?0:ae);var m=t[3];if(m){var _=e[3];e[3]=_?il(_,m,t[4]):m,e[4]=_?Xt(e[3],k):t[4]}return m=t[5],m&&(_=e[5],e[5]=_?ol(_,m,t[6]):m,e[6]=_?Xt(e[5],k):t[6]),m=t[7],m&&(e[7]=m),o&Je&&(e[8]=e[8]==null?t[8]:Ge(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=l,e}function Vd(e){var t=[];if(e!=null)for(var s in me(e))t.push(s);return t}function Ud(e){return Gr.call(e)}function Cl(e,t,s){return t=Le(t===r?e.length-1:t,0),function(){for(var o=arguments,l=-1,f=Le(o.length-t,0),p=x(f);++l<f;)p[l]=o[t+l];l=-1;for(var m=x(t+1);++l<t;)m[l]=o[l];return m[t]=s(p),it(e,this,m)}}function Al(e,t){return t.length<2?e:wn(e,vt(t,0,-1))}function Wd(e,t){for(var s=e.length,o=Ge(t.length,s),l=tt(e);o--;){var f=t[o];e[o]=Ht(f,s)?l[f]:r}return e}function Gi(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var El=Sl(Ja),yr=sh||function(e,t){return Ue.setTimeout(e,t)},Ki=Sl(hd);function Rl(e,t,s){var o=t+"";return Ki(e,Ld(o,Fd(Od(o),s)))}function Sl(e){var t=0,s=0;return function(){var o=lh(),l=Vs-(o-s);if(s=o,l>0){if(++t>=Qn)return arguments[0]}else t=0;return e.apply(r,arguments)}}function ms(e,t){var s=-1,o=e.length,l=o-1;for(t=t===r?o:t;++s<t;){var f=$i(s,l),p=e[f];e[f]=e[s],e[s]=p}return e.length=t,e}var $l=Dd(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Pc,function(s,o,l,f){t.push(l?f.replace(Hc,"$1"):o||s)}),t});function Tt(e){if(typeof e=="string"||lt(e))return e;var t=e+"";return t=="0"&&1/e==-yt?"-0":t}function bn(e){if(e!=null){try{return zr.call(e)}catch{}try{return e+""}catch{}}return""}function Fd(e,t){return dt(Lo,function(s){var o="_."+s[0];t&s[1]&&!Hr(e,o)&&e.push(o)}),e.sort()}function Tl(e){if(e instanceof te)return e.clone();var t=new gt(e.__wrapped__,e.__chain__);return t.__actions__=tt(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function zd(e,t,s){(s?Ze(e,t,s):t===r)?t=1:t=Le(J(t),0);var o=e==null?0:e.length;if(!o||t<1)return[];for(var l=0,f=0,p=x(jr(o/t));l<o;)p[f++]=vt(e,l,l+=t);return p}function Gd(e){for(var t=-1,s=e==null?0:e.length,o=0,l=[];++t<s;){var f=e[t];f&&(l[o++]=f)}return l}function Kd(){var e=arguments.length;if(!e)return[];for(var t=x(e-1),s=arguments[0],o=e;o--;)t[o-1]=arguments[o];return Jt(K(s)?tt(s):[s],We(t,1))}var Yd=Z(function(e,t){return Te(e)?pr(e,We(t,1,Te,!0)):[]}),Jd=Z(function(e,t){var s=_t(t);return Te(s)&&(s=r),Te(e)?pr(e,We(t,1,Te,!0),U(s,2)):[]}),Xd=Z(function(e,t){var s=_t(t);return Te(s)&&(s=r),Te(e)?pr(e,We(t,1,Te,!0),r,s):[]});function Zd(e,t,s){var o=e==null?0:e.length;return o?(t=s||t===r?1:J(t),vt(e,t<0?0:t,o)):[]}function jd(e,t,s){var o=e==null?0:e.length;return o?(t=s||t===r?1:J(t),t=o-t,vt(e,0,t<0?0:t)):[]}function Qd(e,t){return e&&e.length?ls(e,U(t,3),!0,!0):[]}function ep(e,t){return e&&e.length?ls(e,U(t,3),!0):[]}function tp(e,t,s,o){var l=e==null?0:e.length;return l?(s&&typeof s!="number"&&Ze(e,t,s)&&(s=0,o=l),Kh(e,t,s,o)):[]}function Ol(e,t,s){var o=e==null?0:e.length;if(!o)return-1;var l=s==null?0:J(s);return l<0&&(l=Le(o+l,0)),Vr(e,U(t,3),l)}function Pl(e,t,s){var o=e==null?0:e.length;if(!o)return-1;var l=o-1;return s!==r&&(l=J(s),l=s<0?Le(o+l,0):Ge(l,o-1)),Vr(e,U(t,3),l,!0)}function Ml(e){var t=e==null?0:e.length;return t?We(e,1):[]}function np(e){var t=e==null?0:e.length;return t?We(e,yt):[]}function rp(e,t){var s=e==null?0:e.length;return s?(t=t===r?1:J(t),We(e,t)):[]}function sp(e){for(var t=-1,s=e==null?0:e.length,o={};++t<s;){var l=e[t];o[l[0]]=l[1]}return o}function Ll(e){return e&&e.length?e[0]:r}function ip(e,t,s){var o=e==null?0:e.length;if(!o)return-1;var l=s==null?0:J(s);return l<0&&(l=Le(o+l,0)),On(e,t,l)}function op(e){var t=e==null?0:e.length;return t?vt(e,0,-1):[]}var ap=Z(function(e){var t=xe(e,Li);return t.length&&t[0]===e[0]?Ci(t):[]}),lp=Z(function(e){var t=_t(e),s=xe(e,Li);return t===_t(s)?t=r:s.pop(),s.length&&s[0]===e[0]?Ci(s,U(t,2)):[]}),up=Z(function(e){var t=_t(e),s=xe(e,Li);return t=typeof t=="function"?t:r,t&&s.pop(),s.length&&s[0]===e[0]?Ci(s,r,t):[]});function cp(e,t){return e==null?"":oh.call(e,t)}function _t(e){var t=e==null?0:e.length;return t?e[t-1]:r}function fp(e,t,s){var o=e==null?0:e.length;if(!o)return-1;var l=o;return s!==r&&(l=J(s),l=l<0?Le(o+l,0):Ge(l,o-1)),t===t?Ff(e,t,l):Vr(e,pa,l,!0)}function hp(e,t){return e&&e.length?za(e,J(t)):r}var dp=Z(Il);function Il(e,t){return e&&e.length&&t&&t.length?Si(e,t):e}function pp(e,t,s){return e&&e.length&&t&&t.length?Si(e,t,U(s,2)):e}function gp(e,t,s){return e&&e.length&&t&&t.length?Si(e,t,r,s):e}var mp=Dt(function(e,t){var s=e==null?0:e.length,o=yi(e,t);return Ya(e,xe(t,function(l){return Ht(l,s)?+l:l}).sort(sl)),o});function vp(e,t){var s=[];if(!(e&&e.length))return s;var o=-1,l=[],f=e.length;for(t=U(t,3);++o<f;){var p=e[o];t(p,o,e)&&(s.push(p),l.push(o))}return Ya(e,l),s}function Yi(e){return e==null?e:ch.call(e)}function _p(e,t,s){var o=e==null?0:e.length;return o?(s&&typeof s!="number"&&Ze(e,t,s)?(t=0,s=o):(t=t==null?0:J(t),s=s===r?o:J(s)),vt(e,t,s)):[]}function wp(e,t){return as(e,t)}function yp(e,t,s){return Oi(e,t,U(s,2))}function bp(e,t){var s=e==null?0:e.length;if(s){var o=as(e,t);if(o<s&&Ct(e[o],t))return o}return-1}function xp(e,t){return as(e,t,!0)}function kp(e,t,s){return Oi(e,t,U(s,2),!0)}function Cp(e,t){var s=e==null?0:e.length;if(s){var o=as(e,t,!0)-1;if(Ct(e[o],t))return o}return-1}function Ap(e){return e&&e.length?Xa(e):[]}function Ep(e,t){return e&&e.length?Xa(e,U(t,2)):[]}function Rp(e){var t=e==null?0:e.length;return t?vt(e,1,t):[]}function Sp(e,t,s){return e&&e.length?(t=s||t===r?1:J(t),vt(e,0,t<0?0:t)):[]}function $p(e,t,s){var o=e==null?0:e.length;return o?(t=s||t===r?1:J(t),t=o-t,vt(e,t<0?0:t,o)):[]}function Tp(e,t){return e&&e.length?ls(e,U(t,3),!1,!0):[]}function Op(e,t){return e&&e.length?ls(e,U(t,3)):[]}var Pp=Z(function(e){return Qt(We(e,1,Te,!0))}),Mp=Z(function(e){var t=_t(e);return Te(t)&&(t=r),Qt(We(e,1,Te,!0),U(t,2))}),Lp=Z(function(e){var t=_t(e);return t=typeof t=="function"?t:r,Qt(We(e,1,Te,!0),r,t)});function Ip(e){return e&&e.length?Qt(e):[]}function Bp(e,t){return e&&e.length?Qt(e,U(t,2)):[]}function Np(e,t){return t=typeof t=="function"?t:r,e&&e.length?Qt(e,r,t):[]}function Ji(e){if(!(e&&e.length))return[];var t=0;return e=Yt(e,function(s){if(Te(s))return t=Le(s.length,t),!0}),hi(t,function(s){return xe(e,ui(s))})}function Bl(e,t){if(!(e&&e.length))return[];var s=Ji(e);return t==null?s:xe(s,function(o){return it(t,r,o)})}var qp=Z(function(e,t){return Te(e)?pr(e,t):[]}),Dp=Z(function(e){return Mi(Yt(e,Te))}),Hp=Z(function(e){var t=_t(e);return Te(t)&&(t=r),Mi(Yt(e,Te),U(t,2))}),Vp=Z(function(e){var t=_t(e);return t=typeof t=="function"?t:r,Mi(Yt(e,Te),r,t)}),Up=Z(Ji);function Wp(e,t){return el(e||[],t||[],dr)}function Fp(e,t){return el(e||[],t||[],vr)}var zp=Z(function(e){var t=e.length,s=t>1?e[t-1]:r;return s=typeof s=="function"?(e.pop(),s):r,Bl(e,s)});function Nl(e){var t=u(e);return t.__chain__=!0,t}function Gp(e,t){return t(e),e}function vs(e,t){return t(e)}var Kp=Dt(function(e){var t=e.length,s=t?e[0]:0,o=this.__wrapped__,l=function(f){return yi(f,e)};return t>1||this.__actions__.length||!(o instanceof te)||!Ht(s)?this.thru(l):(o=o.slice(s,+s+(t?1:0)),o.__actions__.push({func:vs,args:[l],thisArg:r}),new gt(o,this.__chain__).thru(function(f){return t&&!f.length&&f.push(r),f}))});function Yp(){return Nl(this)}function Jp(){return new gt(this.value(),this.__chain__)}function Xp(){this.__values__===r&&(this.__values__=Zl(this.value()));var e=this.__index__>=this.__values__.length,t=e?r:this.__values__[this.__index__++];return{done:e,value:t}}function Zp(){return this}function jp(e){for(var t,s=this;s instanceof ns;){var o=Tl(s);o.__index__=0,o.__values__=r,t?l.__wrapped__=o:t=o;var l=o;s=s.__wrapped__}return l.__wrapped__=e,t}function Qp(){var e=this.__wrapped__;if(e instanceof te){var t=e;return this.__actions__.length&&(t=new te(this)),t=t.reverse(),t.__actions__.push({func:vs,args:[Yi],thisArg:r}),new gt(t,this.__chain__)}return this.thru(Yi)}function eg(){return Qa(this.__wrapped__,this.__actions__)}var tg=us(function(e,t,s){de.call(e,s)?++e[s]:Nt(e,s,1)});function ng(e,t,s){var o=K(e)?ha:Gh;return s&&Ze(e,t,s)&&(t=r),o(e,U(t,3))}function rg(e,t){var s=K(e)?Yt:Ba;return s(e,U(t,3))}var sg=cl(Ol),ig=cl(Pl);function og(e,t){return We(_s(e,t),1)}function ag(e,t){return We(_s(e,t),yt)}function lg(e,t,s){return s=s===r?1:J(s),We(_s(e,t),s)}function ql(e,t){var s=K(e)?dt:jt;return s(e,U(t,3))}function Dl(e,t){var s=K(e)?Rf:Ia;return s(e,U(t,3))}var ug=us(function(e,t,s){de.call(e,s)?e[s].push(t):Nt(e,s,[t])});function cg(e,t,s,o){e=nt(e)?e:Wn(e),s=s&&!o?J(s):0;var l=e.length;return s<0&&(s=Le(l+s,0)),ks(e)?s<=l&&e.indexOf(t,s)>-1:!!l&&On(e,t,s)>-1}var fg=Z(function(e,t,s){var o=-1,l=typeof t=="function",f=nt(e)?x(e.length):[];return jt(e,function(p){f[++o]=l?it(t,p,s):gr(p,t,s)}),f}),hg=us(function(e,t,s){Nt(e,s,t)});function _s(e,t){var s=K(e)?xe:Ua;return s(e,U(t,3))}function dg(e,t,s,o){return e==null?[]:(K(t)||(t=t==null?[]:[t]),s=o?r:s,K(s)||(s=s==null?[]:[s]),Ga(e,t,s))}var pg=us(function(e,t,s){e[s?0:1].push(t)},function(){return[[],[]]});function gg(e,t,s){var o=K(e)?ai:ma,l=arguments.length<3;return o(e,U(t,4),s,l,jt)}function mg(e,t,s){var o=K(e)?Sf:ma,l=arguments.length<3;return o(e,U(t,4),s,l,Ia)}function vg(e,t){var s=K(e)?Yt:Ba;return s(e,bs(U(t,3)))}function _g(e){var t=K(e)?Oa:cd;return t(e)}function wg(e,t,s){(s?Ze(e,t,s):t===r)?t=1:t=J(t);var o=K(e)?Vh:fd;return o(e,t)}function yg(e){var t=K(e)?Uh:dd;return t(e)}function bg(e){if(e==null)return 0;if(nt(e))return ks(e)?Mn(e):e.length;var t=Ke(e);return t==Ve||t==bt?e.size:Ei(e).length}function xg(e,t,s){var o=K(e)?li:pd;return s&&Ze(e,t,s)&&(t=r),o(e,U(t,3))}var kg=Z(function(e,t){if(e==null)return[];var s=t.length;return s>1&&Ze(e,t[0],t[1])?t=[]:s>2&&Ze(t[0],t[1],t[2])&&(t=[t[0]]),Ga(e,We(t,1),[])}),ws=rh||function(){return Ue.Date.now()};function Cg(e,t){if(typeof t!="function")throw new pt(g);return e=J(e),function(){if(--e<1)return t.apply(this,arguments)}}function Hl(e,t,s){return t=s?r:t,t=e&&t==null?e.length:t,qt(e,Je,r,r,r,r,t)}function Vl(e,t){var s;if(typeof t!="function")throw new pt(g);return e=J(e),function(){return--e>0&&(s=t.apply(this,arguments)),e<=1&&(t=r),s}}var Xi=Z(function(e,t,s){var o=ie;if(s.length){var l=Xt(s,Vn(Xi));o|=Be}return qt(e,o,t,s,l)}),Ul=Z(function(e,t,s){var o=ie|ee;if(s.length){var l=Xt(s,Vn(Ul));o|=Be}return qt(t,o,e,s,l)});function Wl(e,t,s){t=s?r:t;var o=qt(e,ye,r,r,r,r,r,t);return o.placeholder=Wl.placeholder,o}function Fl(e,t,s){t=s?r:t;var o=qt(e,Ie,r,r,r,r,r,t);return o.placeholder=Fl.placeholder,o}function zl(e,t,s){var o,l,f,p,m,_,R=0,S=!1,O=!1,L=!0;if(typeof e!="function")throw new pt(g);t=wt(t)||0,Ce(s)&&(S=!!s.leading,O="maxWait"in s,f=O?Le(wt(s.maxWait)||0,t):f,L="trailing"in s?!!s.trailing:L);function D(Oe){var At=o,Wt=l;return o=l=r,R=Oe,p=e.apply(Wt,At),p}function W(Oe){return R=Oe,m=yr(Q,t),S?D(Oe):p}function X(Oe){var At=Oe-_,Wt=Oe-R,cu=t-At;return O?Ge(cu,f-Wt):cu}function F(Oe){var At=Oe-_,Wt=Oe-R;return _===r||At>=t||At<0||O&&Wt>=f}function Q(){var Oe=ws();if(F(Oe))return oe(Oe);m=yr(Q,X(Oe))}function oe(Oe){return m=r,L&&o?D(Oe):(o=l=r,p)}function ut(){m!==r&&tl(m),R=0,o=_=l=m=r}function je(){return m===r?p:oe(ws())}function ct(){var Oe=ws(),At=F(Oe);if(o=arguments,l=this,_=Oe,At){if(m===r)return W(_);if(O)return tl(m),m=yr(Q,t),D(_)}return m===r&&(m=yr(Q,t)),p}return ct.cancel=ut,ct.flush=je,ct}var Ag=Z(function(e,t){return La(e,1,t)}),Eg=Z(function(e,t,s){return La(e,wt(t)||0,s)});function Rg(e){return qt(e,En)}function ys(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new pt(g);var s=function(){var o=arguments,l=t?t.apply(this,o):o[0],f=s.cache;if(f.has(l))return f.get(l);var p=e.apply(this,o);return s.cache=f.set(l,p)||f,p};return s.cache=new(ys.Cache||Bt),s}ys.Cache=Bt;function bs(e){if(typeof e!="function")throw new pt(g);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Sg(e){return Vl(2,e)}var $g=gd(function(e,t){t=t.length==1&&K(t[0])?xe(t[0],ot(U())):xe(We(t,1),ot(U()));var s=t.length;return Z(function(o){for(var l=-1,f=Ge(o.length,s);++l<f;)o[l]=t[l].call(this,o[l]);return it(e,this,o)})}),Zi=Z(function(e,t){var s=Xt(t,Vn(Zi));return qt(e,Be,r,t,s)}),Gl=Z(function(e,t){var s=Xt(t,Vn(Gl));return qt(e,ze,r,t,s)}),Tg=Dt(function(e,t){return qt(e,hn,r,r,r,t)});function Og(e,t){if(typeof e!="function")throw new pt(g);return t=t===r?t:J(t),Z(e,t)}function Pg(e,t){if(typeof e!="function")throw new pt(g);return t=t==null?0:Le(J(t),0),Z(function(s){var o=s[t],l=tn(s,0,t);return o&&Jt(l,o),it(e,this,l)})}function Mg(e,t,s){var o=!0,l=!0;if(typeof e!="function")throw new pt(g);return Ce(s)&&(o="leading"in s?!!s.leading:o,l="trailing"in s?!!s.trailing:l),zl(e,t,{leading:o,maxWait:t,trailing:l})}function Lg(e){return Hl(e,1)}function Ig(e,t){return Zi(Ii(t),e)}function Bg(){if(!arguments.length)return[];var e=arguments[0];return K(e)?e:[e]}function Ng(e){return mt(e,N)}function qg(e,t){return t=typeof t=="function"?t:r,mt(e,N,t)}function Dg(e){return mt(e,E|N)}function Hg(e,t){return t=typeof t=="function"?t:r,mt(e,E|N,t)}function Vg(e,t){return t==null||Ma(e,t,qe(t))}function Ct(e,t){return e===t||e!==e&&t!==t}var Ug=ds(ki),Wg=ds(function(e,t){return e>=t}),xn=Da(function(){return arguments}())?Da:function(e){return Re(e)&&de.call(e,"callee")&&!Aa.call(e,"callee")},K=x.isArray,Fg=oa?ot(oa):jh;function nt(e){return e!=null&&xs(e.length)&&!Vt(e)}function Te(e){return Re(e)&&nt(e)}function zg(e){return e===!0||e===!1||Re(e)&&Xe(e)==H}var nn=ih||lo,Gg=aa?ot(aa):Qh;function Kg(e){return Re(e)&&e.nodeType===1&&!br(e)}function Yg(e){if(e==null)return!0;if(nt(e)&&(K(e)||typeof e=="string"||typeof e.splice=="function"||nn(e)||Un(e)||xn(e)))return!e.length;var t=Ke(e);if(t==Ve||t==bt)return!e.size;if(wr(e))return!Ei(e).length;for(var s in e)if(de.call(e,s))return!1;return!0}function Jg(e,t){return mr(e,t)}function Xg(e,t,s){s=typeof s=="function"?s:r;var o=s?s(e,t):r;return o===r?mr(e,t,r,s):!!o}function ji(e){if(!Re(e))return!1;var t=Xe(e);return t==j||t==$e||typeof e.message=="string"&&typeof e.name=="string"&&!br(e)}function Zg(e){return typeof e=="number"&&Ra(e)}function Vt(e){if(!Ce(e))return!1;var t=Xe(e);return t==Y||t==Ee||t==I||t==yc}function Kl(e){return typeof e=="number"&&e==J(e)}function xs(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Rt}function Ce(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Re(e){return e!=null&&typeof e=="object"}var Yl=la?ot(la):td;function jg(e,t){return e===t||Ai(e,t,Ui(t))}function Qg(e,t,s){return s=typeof s=="function"?s:r,Ai(e,t,Ui(t),s)}function em(e){return Jl(e)&&e!=+e}function tm(e){if(qd(e))throw new G(h);return Ha(e)}function nm(e){return e===null}function rm(e){return e==null}function Jl(e){return typeof e=="number"||Re(e)&&Xe(e)==Ne}function br(e){if(!Re(e)||Xe(e)!=Lt)return!1;var t=Jr(e);if(t===null)return!0;var s=de.call(t,"constructor")&&t.constructor;return typeof s=="function"&&s instanceof s&&zr.call(s)==Qf}var Qi=ua?ot(ua):nd;function sm(e){return Kl(e)&&e>=-Rt&&e<=Rt}var Xl=ca?ot(ca):rd;function ks(e){return typeof e=="string"||!K(e)&&Re(e)&&Xe(e)==sr}function lt(e){return typeof e=="symbol"||Re(e)&&Xe(e)==Br}var Un=fa?ot(fa):sd;function im(e){return e===r}function om(e){return Re(e)&&Ke(e)==ir}function am(e){return Re(e)&&Xe(e)==xc}var lm=ds(Ri),um=ds(function(e,t){return e<=t});function Zl(e){if(!e)return[];if(nt(e))return ks(e)?xt(e):tt(e);if(lr&&e[lr])return Vf(e[lr]());var t=Ke(e),s=t==Ve?pi:t==bt?Ur:Wn;return s(e)}function Ut(e){if(!e)return e===0?e:0;if(e=wt(e),e===yt||e===-yt){var t=e<0?-1:1;return t*er}return e===e?e:0}function J(e){var t=Ut(e),s=t%1;return t===t?s?t-s:t:0}function jl(e){return e?_n(J(e),0,et):0}function wt(e){if(typeof e=="number")return e;if(lt(e))return dn;if(Ce(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ce(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=va(e);var s=Wc.test(e);return s||zc.test(e)?Cf(e.slice(2),s?2:8):Uc.test(e)?dn:+e}function Ql(e){return $t(e,rt(e))}function cm(e){return e?_n(J(e),-Rt,Rt):e===0?e:0}function he(e){return e==null?"":at(e)}var fm=Dn(function(e,t){if(wr(t)||nt(t)){$t(t,qe(t),e);return}for(var s in t)de.call(t,s)&&dr(e,s,t[s])}),eu=Dn(function(e,t){$t(t,rt(t),e)}),Cs=Dn(function(e,t,s,o){$t(t,rt(t),e,o)}),hm=Dn(function(e,t,s,o){$t(t,qe(t),e,o)}),dm=Dt(yi);function pm(e,t){var s=qn(e);return t==null?s:Pa(s,t)}var gm=Z(function(e,t){e=me(e);var s=-1,o=t.length,l=o>2?t[2]:r;for(l&&Ze(t[0],t[1],l)&&(o=1);++s<o;)for(var f=t[s],p=rt(f),m=-1,_=p.length;++m<_;){var R=p[m],S=e[R];(S===r||Ct(S,In[R])&&!de.call(e,R))&&(e[R]=f[R])}return e}),mm=Z(function(e){return e.push(r,vl),it(tu,r,e)});function vm(e,t){return da(e,U(t,3),St)}function _m(e,t){return da(e,U(t,3),xi)}function wm(e,t){return e==null?e:bi(e,U(t,3),rt)}function ym(e,t){return e==null?e:Na(e,U(t,3),rt)}function bm(e,t){return e&&St(e,U(t,3))}function xm(e,t){return e&&xi(e,U(t,3))}function km(e){return e==null?[]:is(e,qe(e))}function Cm(e){return e==null?[]:is(e,rt(e))}function eo(e,t,s){var o=e==null?r:wn(e,t);return o===r?s:o}function Am(e,t){return e!=null&&yl(e,t,Yh)}function to(e,t){return e!=null&&yl(e,t,Jh)}var Em=hl(function(e,t,s){t!=null&&typeof t.toString!="function"&&(t=Gr.call(t)),e[t]=s},ro(st)),Rm=hl(function(e,t,s){t!=null&&typeof t.toString!="function"&&(t=Gr.call(t)),de.call(e,t)?e[t].push(s):e[t]=[s]},U),Sm=Z(gr);function qe(e){return nt(e)?Ta(e):Ei(e)}function rt(e){return nt(e)?Ta(e,!0):id(e)}function $m(e,t){var s={};return t=U(t,3),St(e,function(o,l,f){Nt(s,t(o,l,f),o)}),s}function Tm(e,t){var s={};return t=U(t,3),St(e,function(o,l,f){Nt(s,l,t(o,l,f))}),s}var Om=Dn(function(e,t,s){os(e,t,s)}),tu=Dn(function(e,t,s,o){os(e,t,s,o)}),Pm=Dt(function(e,t){var s={};if(e==null)return s;var o=!1;t=xe(t,function(f){return f=en(f,e),o||(o=f.length>1),f}),$t(e,Hi(e),s),o&&(s=mt(s,E|P|N,Ed));for(var l=t.length;l--;)Pi(s,t[l]);return s});function Mm(e,t){return nu(e,bs(U(t)))}var Lm=Dt(function(e,t){return e==null?{}:ad(e,t)});function nu(e,t){if(e==null)return{};var s=xe(Hi(e),function(o){return[o]});return t=U(t),Ka(e,s,function(o,l){return t(o,l[0])})}function Im(e,t,s){t=en(t,e);var o=-1,l=t.length;for(l||(l=1,e=r);++o<l;){var f=e==null?r:e[Tt(t[o])];f===r&&(o=l,f=s),e=Vt(f)?f.call(e):f}return e}function Bm(e,t,s){return e==null?e:vr(e,t,s)}function Nm(e,t,s,o){return o=typeof o=="function"?o:r,e==null?e:vr(e,t,s,o)}var ru=gl(qe),su=gl(rt);function qm(e,t,s){var o=K(e),l=o||nn(e)||Un(e);if(t=U(t,4),s==null){var f=e&&e.constructor;l?s=o?new f:[]:Ce(e)?s=Vt(f)?qn(Jr(e)):{}:s={}}return(l?dt:St)(e,function(p,m,_){return t(s,p,m,_)}),s}function Dm(e,t){return e==null?!0:Pi(e,t)}function Hm(e,t,s){return e==null?e:ja(e,t,Ii(s))}function Vm(e,t,s,o){return o=typeof o=="function"?o:r,e==null?e:ja(e,t,Ii(s),o)}function Wn(e){return e==null?[]:di(e,qe(e))}function Um(e){return e==null?[]:di(e,rt(e))}function Wm(e,t,s){return s===r&&(s=t,t=r),s!==r&&(s=wt(s),s=s===s?s:0),t!==r&&(t=wt(t),t=t===t?t:0),_n(wt(e),t,s)}function Fm(e,t,s){return t=Ut(t),s===r?(s=t,t=0):s=Ut(s),e=wt(e),Xh(e,t,s)}function zm(e,t,s){if(s&&typeof s!="boolean"&&Ze(e,t,s)&&(t=s=r),s===r&&(typeof t=="boolean"?(s=t,t=r):typeof e=="boolean"&&(s=e,e=r)),e===r&&t===r?(e=0,t=1):(e=Ut(e),t===r?(t=e,e=0):t=Ut(t)),e>t){var o=e;e=t,t=o}if(s||e%1||t%1){var l=Sa();return Ge(e+l*(t-e+kf("1e-"+((l+"").length-1))),t)}return $i(e,t)}var Gm=Hn(function(e,t,s){return t=t.toLowerCase(),e+(s?iu(t):t)});function iu(e){return no(he(e).toLowerCase())}function ou(e){return e=he(e),e&&e.replace(Kc,Bf).replace(df,"")}function Km(e,t,s){e=he(e),t=at(t);var o=e.length;s=s===r?o:_n(J(s),0,o);var l=s;return s-=t.length,s>=0&&e.slice(s,l)==t}function Ym(e){return e=he(e),e&&Rc.test(e)?e.replace(No,Nf):e}function Jm(e){return e=he(e),e&&Mc.test(e)?e.replace(Zs,"\\$&"):e}var Xm=Hn(function(e,t,s){return e+(s?"-":"")+t.toLowerCase()}),Zm=Hn(function(e,t,s){return e+(s?" ":"")+t.toLowerCase()}),jm=ul("toLowerCase");function Qm(e,t,s){e=he(e),t=J(t);var o=t?Mn(e):0;if(!t||o>=t)return e;var l=(t-o)/2;return hs(Qr(l),s)+e+hs(jr(l),s)}function ev(e,t,s){e=he(e),t=J(t);var o=t?Mn(e):0;return t&&o<t?e+hs(t-o,s):e}function tv(e,t,s){e=he(e),t=J(t);var o=t?Mn(e):0;return t&&o<t?hs(t-o,s)+e:e}function nv(e,t,s){return s||t==null?t=0:t&&(t=+t),uh(he(e).replace(js,""),t||0)}function rv(e,t,s){return(s?Ze(e,t,s):t===r)?t=1:t=J(t),Ti(he(e),t)}function sv(){var e=arguments,t=he(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var iv=Hn(function(e,t,s){return e+(s?"_":"")+t.toLowerCase()});function ov(e,t,s){return s&&typeof s!="number"&&Ze(e,t,s)&&(t=s=r),s=s===r?et:s>>>0,s?(e=he(e),e&&(typeof t=="string"||t!=null&&!Qi(t))&&(t=at(t),!t&&Pn(e))?tn(xt(e),0,s):e.split(t,s)):[]}var av=Hn(function(e,t,s){return e+(s?" ":"")+no(t)});function lv(e,t,s){return e=he(e),s=s==null?0:_n(J(s),0,e.length),t=at(t),e.slice(s,s+t.length)==t}function uv(e,t,s){var o=u.templateSettings;s&&Ze(e,t,s)&&(t=r),e=he(e),t=Cs({},t,o,ml);var l=Cs({},t.imports,o.imports,ml),f=qe(l),p=di(l,f),m,_,R=0,S=t.interpolate||Nr,O="__p += '",L=gi((t.escape||Nr).source+"|"+S.source+"|"+(S===qo?Vc:Nr).source+"|"+(t.evaluate||Nr).source+"|$","g"),D="//# sourceURL="+(de.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++_f+"]")+`
`;e.replace(L,function(F,Q,oe,ut,je,ct){return oe||(oe=ut),O+=e.slice(R,ct).replace(Yc,qf),Q&&(m=!0,O+=`' +
__e(`+Q+`) +
'`),je&&(_=!0,O+=`';
`+je+`;
__p += '`),oe&&(O+=`' +
((__t = (`+oe+`)) == null ? '' : __t) +
'`),R=ct+F.length,F}),O+=`';
`;var W=de.call(t,"variable")&&t.variable;if(!W)O=`with (obj) {
`+O+`
}
`;else if(Dc.test(W))throw new G(A);O=(_?O.replace(kc,""):O).replace(Cc,"$1").replace(Ac,"$1;"),O="function("+(W||"obj")+`) {
`+(W?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(m?", __e = _.escape":"")+(_?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+O+`return __p
}`;var X=lu(function(){return le(f,D+"return "+O).apply(r,p)});if(X.source=O,ji(X))throw X;return X}function cv(e){return he(e).toLowerCase()}function fv(e){return he(e).toUpperCase()}function hv(e,t,s){if(e=he(e),e&&(s||t===r))return va(e);if(!e||!(t=at(t)))return e;var o=xt(e),l=xt(t),f=_a(o,l),p=wa(o,l)+1;return tn(o,f,p).join("")}function dv(e,t,s){if(e=he(e),e&&(s||t===r))return e.slice(0,ba(e)+1);if(!e||!(t=at(t)))return e;var o=xt(e),l=wa(o,xt(t))+1;return tn(o,0,l).join("")}function pv(e,t,s){if(e=he(e),e&&(s||t===r))return e.replace(js,"");if(!e||!(t=at(t)))return e;var o=xt(e),l=_a(o,xt(t));return tn(o,l).join("")}function gv(e,t){var s=Mr,o=Lr;if(Ce(t)){var l="separator"in t?t.separator:l;s="length"in t?J(t.length):s,o="omission"in t?at(t.omission):o}e=he(e);var f=e.length;if(Pn(e)){var p=xt(e);f=p.length}if(s>=f)return e;var m=s-Mn(o);if(m<1)return o;var _=p?tn(p,0,m).join(""):e.slice(0,m);if(l===r)return _+o;if(p&&(m+=_.length-m),Qi(l)){if(e.slice(m).search(l)){var R,S=_;for(l.global||(l=gi(l.source,he(Do.exec(l))+"g")),l.lastIndex=0;R=l.exec(S);)var O=R.index;_=_.slice(0,O===r?m:O)}}else if(e.indexOf(at(l),m)!=m){var L=_.lastIndexOf(l);L>-1&&(_=_.slice(0,L))}return _+o}function mv(e){return e=he(e),e&&Ec.test(e)?e.replace(Bo,zf):e}var vv=Hn(function(e,t,s){return e+(s?" ":"")+t.toUpperCase()}),no=ul("toUpperCase");function au(e,t,s){return e=he(e),t=s?r:t,t===r?Hf(e)?Yf(e):Of(e):e.match(t)||[]}var lu=Z(function(e,t){try{return it(e,r,t)}catch(s){return ji(s)?s:new G(s)}}),_v=Dt(function(e,t){return dt(t,function(s){s=Tt(s),Nt(e,s,Xi(e[s],e))}),e});function wv(e){var t=e==null?0:e.length,s=U();return e=t?xe(e,function(o){if(typeof o[1]!="function")throw new pt(g);return[s(o[0]),o[1]]}):[],Z(function(o){for(var l=-1;++l<t;){var f=e[l];if(it(f[0],this,o))return it(f[1],this,o)}})}function yv(e){return zh(mt(e,E))}function ro(e){return function(){return e}}function bv(e,t){return e==null||e!==e?t:e}var xv=fl(),kv=fl(!0);function st(e){return e}function so(e){return Va(typeof e=="function"?e:mt(e,E))}function Cv(e){return Wa(mt(e,E))}function Av(e,t){return Fa(e,mt(t,E))}var Ev=Z(function(e,t){return function(s){return gr(s,e,t)}}),Rv=Z(function(e,t){return function(s){return gr(e,s,t)}});function io(e,t,s){var o=qe(t),l=is(t,o);s==null&&!(Ce(t)&&(l.length||!o.length))&&(s=t,t=e,e=this,l=is(t,qe(t)));var f=!(Ce(s)&&"chain"in s)||!!s.chain,p=Vt(e);return dt(l,function(m){var _=t[m];e[m]=_,p&&(e.prototype[m]=function(){var R=this.__chain__;if(f||R){var S=e(this.__wrapped__),O=S.__actions__=tt(this.__actions__);return O.push({func:_,args:arguments,thisArg:e}),S.__chain__=R,S}return _.apply(e,Jt([this.value()],arguments))})}),e}function Sv(){return Ue._===this&&(Ue._=eh),this}function oo(){}function $v(e){return e=J(e),Z(function(t){return za(t,e)})}var Tv=Ni(xe),Ov=Ni(ha),Pv=Ni(li);function uu(e){return Fi(e)?ui(Tt(e)):ld(e)}function Mv(e){return function(t){return e==null?r:wn(e,t)}}var Lv=dl(),Iv=dl(!0);function ao(){return[]}function lo(){return!1}function Bv(){return{}}function Nv(){return""}function qv(){return!0}function Dv(e,t){if(e=J(e),e<1||e>Rt)return[];var s=et,o=Ge(e,et);t=U(t),e-=et;for(var l=hi(o,t);++s<e;)t(s);return l}function Hv(e){return K(e)?xe(e,Tt):lt(e)?[e]:tt($l(he(e)))}function Vv(e){var t=++jf;return he(e)+t}var Uv=fs(function(e,t){return e+t},0),Wv=qi("ceil"),Fv=fs(function(e,t){return e/t},1),zv=qi("floor");function Gv(e){return e&&e.length?ss(e,st,ki):r}function Kv(e,t){return e&&e.length?ss(e,U(t,2),ki):r}function Yv(e){return ga(e,st)}function Jv(e,t){return ga(e,U(t,2))}function Xv(e){return e&&e.length?ss(e,st,Ri):r}function Zv(e,t){return e&&e.length?ss(e,U(t,2),Ri):r}var jv=fs(function(e,t){return e*t},1),Qv=qi("round"),e_=fs(function(e,t){return e-t},0);function t_(e){return e&&e.length?fi(e,st):0}function n_(e,t){return e&&e.length?fi(e,U(t,2)):0}return u.after=Cg,u.ary=Hl,u.assign=fm,u.assignIn=eu,u.assignInWith=Cs,u.assignWith=hm,u.at=dm,u.before=Vl,u.bind=Xi,u.bindAll=_v,u.bindKey=Ul,u.castArray=Bg,u.chain=Nl,u.chunk=zd,u.compact=Gd,u.concat=Kd,u.cond=wv,u.conforms=yv,u.constant=ro,u.countBy=tg,u.create=pm,u.curry=Wl,u.curryRight=Fl,u.debounce=zl,u.defaults=gm,u.defaultsDeep=mm,u.defer=Ag,u.delay=Eg,u.difference=Yd,u.differenceBy=Jd,u.differenceWith=Xd,u.drop=Zd,u.dropRight=jd,u.dropRightWhile=Qd,u.dropWhile=ep,u.fill=tp,u.filter=rg,u.flatMap=og,u.flatMapDeep=ag,u.flatMapDepth=lg,u.flatten=Ml,u.flattenDeep=np,u.flattenDepth=rp,u.flip=Rg,u.flow=xv,u.flowRight=kv,u.fromPairs=sp,u.functions=km,u.functionsIn=Cm,u.groupBy=ug,u.initial=op,u.intersection=ap,u.intersectionBy=lp,u.intersectionWith=up,u.invert=Em,u.invertBy=Rm,u.invokeMap=fg,u.iteratee=so,u.keyBy=hg,u.keys=qe,u.keysIn=rt,u.map=_s,u.mapKeys=$m,u.mapValues=Tm,u.matches=Cv,u.matchesProperty=Av,u.memoize=ys,u.merge=Om,u.mergeWith=tu,u.method=Ev,u.methodOf=Rv,u.mixin=io,u.negate=bs,u.nthArg=$v,u.omit=Pm,u.omitBy=Mm,u.once=Sg,u.orderBy=dg,u.over=Tv,u.overArgs=$g,u.overEvery=Ov,u.overSome=Pv,u.partial=Zi,u.partialRight=Gl,u.partition=pg,u.pick=Lm,u.pickBy=nu,u.property=uu,u.propertyOf=Mv,u.pull=dp,u.pullAll=Il,u.pullAllBy=pp,u.pullAllWith=gp,u.pullAt=mp,u.range=Lv,u.rangeRight=Iv,u.rearg=Tg,u.reject=vg,u.remove=vp,u.rest=Og,u.reverse=Yi,u.sampleSize=wg,u.set=Bm,u.setWith=Nm,u.shuffle=yg,u.slice=_p,u.sortBy=kg,u.sortedUniq=Ap,u.sortedUniqBy=Ep,u.split=ov,u.spread=Pg,u.tail=Rp,u.take=Sp,u.takeRight=$p,u.takeRightWhile=Tp,u.takeWhile=Op,u.tap=Gp,u.throttle=Mg,u.thru=vs,u.toArray=Zl,u.toPairs=ru,u.toPairsIn=su,u.toPath=Hv,u.toPlainObject=Ql,u.transform=qm,u.unary=Lg,u.union=Pp,u.unionBy=Mp,u.unionWith=Lp,u.uniq=Ip,u.uniqBy=Bp,u.uniqWith=Np,u.unset=Dm,u.unzip=Ji,u.unzipWith=Bl,u.update=Hm,u.updateWith=Vm,u.values=Wn,u.valuesIn=Um,u.without=qp,u.words=au,u.wrap=Ig,u.xor=Dp,u.xorBy=Hp,u.xorWith=Vp,u.zip=Up,u.zipObject=Wp,u.zipObjectDeep=Fp,u.zipWith=zp,u.entries=ru,u.entriesIn=su,u.extend=eu,u.extendWith=Cs,io(u,u),u.add=Uv,u.attempt=lu,u.camelCase=Gm,u.capitalize=iu,u.ceil=Wv,u.clamp=Wm,u.clone=Ng,u.cloneDeep=Dg,u.cloneDeepWith=Hg,u.cloneWith=qg,u.conformsTo=Vg,u.deburr=ou,u.defaultTo=bv,u.divide=Fv,u.endsWith=Km,u.eq=Ct,u.escape=Ym,u.escapeRegExp=Jm,u.every=ng,u.find=sg,u.findIndex=Ol,u.findKey=vm,u.findLast=ig,u.findLastIndex=Pl,u.findLastKey=_m,u.floor=zv,u.forEach=ql,u.forEachRight=Dl,u.forIn=wm,u.forInRight=ym,u.forOwn=bm,u.forOwnRight=xm,u.get=eo,u.gt=Ug,u.gte=Wg,u.has=Am,u.hasIn=to,u.head=Ll,u.identity=st,u.includes=cg,u.indexOf=ip,u.inRange=Fm,u.invoke=Sm,u.isArguments=xn,u.isArray=K,u.isArrayBuffer=Fg,u.isArrayLike=nt,u.isArrayLikeObject=Te,u.isBoolean=zg,u.isBuffer=nn,u.isDate=Gg,u.isElement=Kg,u.isEmpty=Yg,u.isEqual=Jg,u.isEqualWith=Xg,u.isError=ji,u.isFinite=Zg,u.isFunction=Vt,u.isInteger=Kl,u.isLength=xs,u.isMap=Yl,u.isMatch=jg,u.isMatchWith=Qg,u.isNaN=em,u.isNative=tm,u.isNil=rm,u.isNull=nm,u.isNumber=Jl,u.isObject=Ce,u.isObjectLike=Re,u.isPlainObject=br,u.isRegExp=Qi,u.isSafeInteger=sm,u.isSet=Xl,u.isString=ks,u.isSymbol=lt,u.isTypedArray=Un,u.isUndefined=im,u.isWeakMap=om,u.isWeakSet=am,u.join=cp,u.kebabCase=Xm,u.last=_t,u.lastIndexOf=fp,u.lowerCase=Zm,u.lowerFirst=jm,u.lt=lm,u.lte=um,u.max=Gv,u.maxBy=Kv,u.mean=Yv,u.meanBy=Jv,u.min=Xv,u.minBy=Zv,u.stubArray=ao,u.stubFalse=lo,u.stubObject=Bv,u.stubString=Nv,u.stubTrue=qv,u.multiply=jv,u.nth=hp,u.noConflict=Sv,u.noop=oo,u.now=ws,u.pad=Qm,u.padEnd=ev,u.padStart=tv,u.parseInt=nv,u.random=zm,u.reduce=gg,u.reduceRight=mg,u.repeat=rv,u.replace=sv,u.result=Im,u.round=Qv,u.runInContext=v,u.sample=_g,u.size=bg,u.snakeCase=iv,u.some=xg,u.sortedIndex=wp,u.sortedIndexBy=yp,u.sortedIndexOf=bp,u.sortedLastIndex=xp,u.sortedLastIndexBy=kp,u.sortedLastIndexOf=Cp,u.startCase=av,u.startsWith=lv,u.subtract=e_,u.sum=t_,u.sumBy=n_,u.template=uv,u.times=Dv,u.toFinite=Ut,u.toInteger=J,u.toLength=jl,u.toLower=cv,u.toNumber=wt,u.toSafeInteger=cm,u.toString=he,u.toUpper=fv,u.trim=hv,u.trimEnd=dv,u.trimStart=pv,u.truncate=gv,u.unescape=mv,u.uniqueId=Vv,u.upperCase=vv,u.upperFirst=no,u.each=ql,u.eachRight=Dl,u.first=Ll,io(u,function(){var e={};return St(u,function(t,s){de.call(u.prototype,s)||(e[s]=t)}),e}(),{chain:!1}),u.VERSION=a,dt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){u[e].placeholder=u}),dt(["drop","take"],function(e,t){te.prototype[e]=function(s){s=s===r?1:Le(J(s),0);var o=this.__filtered__&&!t?new te(this):this.clone();return o.__filtered__?o.__takeCount__=Ge(s,o.__takeCount__):o.__views__.push({size:Ge(s,et),type:e+(o.__dir__<0?"Right":"")}),o},te.prototype[e+"Right"]=function(s){return this.reverse()[e](s).reverse()}}),dt(["filter","map","takeWhile"],function(e,t){var s=t+1,o=s==Rn||s==Sn;te.prototype[e]=function(l){var f=this.clone();return f.__iteratees__.push({iteratee:U(l,3),type:s}),f.__filtered__=f.__filtered__||o,f}}),dt(["head","last"],function(e,t){var s="take"+(t?"Right":"");te.prototype[e]=function(){return this[s](1).value()[0]}}),dt(["initial","tail"],function(e,t){var s="drop"+(t?"":"Right");te.prototype[e]=function(){return this.__filtered__?new te(this):this[s](1)}}),te.prototype.compact=function(){return this.filter(st)},te.prototype.find=function(e){return this.filter(e).head()},te.prototype.findLast=function(e){return this.reverse().find(e)},te.prototype.invokeMap=Z(function(e,t){return typeof e=="function"?new te(this):this.map(function(s){return gr(s,e,t)})}),te.prototype.reject=function(e){return this.filter(bs(U(e)))},te.prototype.slice=function(e,t){e=J(e);var s=this;return s.__filtered__&&(e>0||t<0)?new te(s):(e<0?s=s.takeRight(-e):e&&(s=s.drop(e)),t!==r&&(t=J(t),s=t<0?s.dropRight(-t):s.take(t-e)),s)},te.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},te.prototype.toArray=function(){return this.take(et)},St(te.prototype,function(e,t){var s=/^(?:filter|find|map|reject)|While$/.test(t),o=/^(?:head|last)$/.test(t),l=u[o?"take"+(t=="last"?"Right":""):t],f=o||/^find/.test(t);l&&(u.prototype[t]=function(){var p=this.__wrapped__,m=o?[1]:arguments,_=p instanceof te,R=m[0],S=_||K(p),O=function(Q){var oe=l.apply(u,Jt([Q],m));return o&&L?oe[0]:oe};S&&s&&typeof R=="function"&&R.length!=1&&(_=S=!1);var L=this.__chain__,D=!!this.__actions__.length,W=f&&!L,X=_&&!D;if(!f&&S){p=X?p:new te(this);var F=e.apply(p,m);return F.__actions__.push({func:vs,args:[O],thisArg:r}),new gt(F,L)}return W&&X?e.apply(this,m):(F=this.thru(O),W?o?F.value()[0]:F.value():F)})}),dt(["pop","push","shift","sort","splice","unshift"],function(e){var t=Wr[e],s=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",o=/^(?:pop|shift)$/.test(e);u.prototype[e]=function(){var l=arguments;if(o&&!this.__chain__){var f=this.value();return t.apply(K(f)?f:[],l)}return this[s](function(p){return t.apply(K(p)?p:[],l)})}}),St(te.prototype,function(e,t){var s=u[t];if(s){var o=s.name+"";de.call(Nn,o)||(Nn[o]=[]),Nn[o].push({name:t,func:s})}}),Nn[cs(r,ee).name]=[{name:"wrapper",func:r}],te.prototype.clone=mh,te.prototype.reverse=vh,te.prototype.value=_h,u.prototype.at=Kp,u.prototype.chain=Yp,u.prototype.commit=Jp,u.prototype.next=Xp,u.prototype.plant=jp,u.prototype.reverse=Qp,u.prototype.toJSON=u.prototype.valueOf=u.prototype.value=eg,u.prototype.first=u.prototype.head,lr&&(u.prototype[lr]=Zp),u},Ln=Jf();pn?((pn.exports=Ln)._=Ln,si._=Ln):Ue._=Ln}).call(kr)})(I0,Ls);const B0={"===":(i,n)=>i===n,"!==":(i,n)=>i!==n,"<":(i,n)=>i<n,">":(i,n)=>i>n,"<=":(i,n)=>i<=n,">=":(i,n)=>i>=n},N0=(i,n)=>i&&n?B0[i.operator](Ls.get(n,i.lCondition),i.rCondition):!0,q0={condition:{lCondition:"culture.culture",rCondition:"dwarf",operator:"==="},modFalse:[],modTrue:[{identifier:"armorWeight",mod:1/2,op:"*"},{identifier:"shieldWeight",mod:1/2,op:"*"}]},Au=[q0],D0=i=>{const n=i.culture.derivedCharacteristics,r={modFalse:[],modTrue:[n.modEndurance,n.modHope,n.modParade]};Au.push(r),Au.map(a=>{N0(a.condition,i)?a.modTrue.map(c=>{i.modifiers[c.identifier]||(i.modifiers[c.identifier]=new ln),i.modifiers[c.identifier].addModifiers([c])}):a.modFalse.map(c=>{i.modifiers[c.identifier]||(i.modifiers[c.identifier]=new ln),i.modifiers[c.identifier].addModifiers([c])})})};class ue{identifier;value;constructor(n){this.identifier=n?.identifier||"unknown",this.value=n?.value||0}}class Ft{identifier;name;protection;parade;weight;constructor(n){switch(this.identifier=n?.identifier||"unknown",this.name=n?.name||"",this.identifier){case"armor":this.protection=new ue({identifier:"armorProtection",value:n?.protection?.value}),this.parade=new ue({}),this.weight=new ue({identifier:"armorWeight",value:n?.weight?.value});break;case"helm":this.protection=new ue({identifier:"helmProtection",value:n?.protection?.value}),this.parade=new ue({}),this.weight=new ue({identifier:"helmWeight",value:n?.weight?.value});break;case"shield":this.protection=new ue({}),this.parade=new ue({identifier:"shieldParade",value:n?.parade?.value}),this.weight=new ue({identifier:"shieldWeight",value:n?.weight?.value});break;default:this.protection=new ue({}),this.parade=new ue({}),this.weight=new ue({});break}}}class Eu{strength;heart;mind;constructor(n){this.strength=new ue(n?.strength),this.heart=new ue(n?.heart),this.mind=new ue(n?.mind)}}class H0{endurance;hope;parade;constructor(n){this.endurance=new ue(n?.endurance),this.hope=new ue(n?.hope),this.parade=new ue(n?.parade)}}class V0{values;sr;secondary;constructor(n){this.values=new Eu({strength:new ue({identifier:"strength",value:n?.strength?.value}),heart:new ue({identifier:"heart",value:n?.heart?.value}),mind:new ue({identifier:"mind",value:n?.mind?.value})}),this.sr=new Eu({strength:new ue({identifier:"strengthSR",value:n?.strength?.value?20-n?.strength?.value:0}),heart:new ue({identifier:"heartSR",value:n?.heart?.value?20-n?.heart?.value:0}),mind:new ue({identifier:"mindSR",value:n?.mind?.value?20-n?.mind?.value:0})}),this.secondary=new H0({endurance:new ue({identifier:"enduranceMax",value:n?.strength?.value}),hope:new ue({identifier:"hopeMax",value:n?.heart?.value}),parade:new ue({identifier:"parade",value:n?.mind?.value})})}}class U0 extends Jn{constructor(){const n={modEndurance:{identifier:"enduranceMax",mod:20,op:"+"},modHope:{identifier:"hopeMax",mod:8,op:"+"},modParade:{identifier:"parade",mod:12,op:"+"}},r=[1,1,0,2,1,1,2,1,2,0,2,2,3,0,1,1,0,1],a=[1,6],c={defaultRank:2,possibleSkills:["bows","swords"],otherDefaultRank:1},h=[new se({strength:5,heart:7,mind:2}),new se({strength:4,heart:7,mind:3}),new se({strength:5,heart:6,mind:3}),new se({strength:4,heart:6,mind:4}),new se({strength:5,heart:5,mind:4}),new se({strength:6,heart:6,mind:2})],g=new Ye(2,["Beau","Courageux","Entêté","Fier","Généreux","Grand","Impétueux","Passioné"]);super("bardide",["intrepid"],"prosperous",14,h,n,r,a,c,g)}}const W0=new U0;class F0 extends Jn{constructor(){const n={modEndurance:{identifier:"enduranceMax",mod:18,op:"+"},modHope:{identifier:"hopeMax",mod:10,op:"+"},modParade:{identifier:"parade",mod:12,op:"+"}},r=[0,0,2,0,2,1,0,0,2,1,2,0,2,3,0,0,3,0],a=[10,13],c={defaultRank:2,possibleSkills:["bows","swords"],otherDefaultRank:1},h=[new se({strength:3,heart:6,mind:5}),new se({strength:3,heart:7,mind:4}),new se({strength:2,heart:7,mind:5}),new se({strength:4,heart:6,mind:4}),new se({strength:4,heart:5,mind:5}),new se({strength:2,heart:6,mind:6})],g=new Ye(2,["Affable","Curieux","Honorable","Jovial","Loyal","Passionné","Rustre","Vue perçante"]);super("hobbit",["goodSense","semiMan"],"common",14,h,n,r,a,c,g)}}const z0=new F0;class G0 extends Jn{constructor(){const n={modEndurance:{identifier:"enduranceMax",mod:20,op:"+"},modHope:{identifier:"hopeMax",mod:8,op:"+"},modParade:{identifier:"parade",mod:12,op:"+"}},r=[2,2,2,0,2,2,1,0,0,1,0,0,0,3,0,0,0,3],a=[4,17],c={defaultRank:2,possibleSkills:["bows","spears"],otherDefaultRank:1},h=[new se({strength:5,heart:2,mind:7}),new se({strength:4,heart:3,mind:7}),new se({strength:5,heart:3,mind:6}),new se({strength:4,heart:4,mind:6}),new se({strength:5,heart:4,mind:5}),new se({strength:6,heart:2,mind:6})],g=new Ye(2,["Beau","Circonspect","Jovial","Majestueux","Patient","Rapide","Subtil","Vue perçante"]);super("lindonElf",["elvenPrecision","longDefeat"],"modest",14,h,n,r,a,c,g)}}const K0=new G0;class Y0 extends Jn{constructor(){const n={modEndurance:{identifier:"enduranceMax",mod:20,op:"+"},modHope:{identifier:"hopeMax",mod:10,op:"+"},modParade:{identifier:"parade",mod:10,op:"+"}},r=[0,1,1,1,1,2,2,1,2,0,3,0,2,1,1,1,2,0],a=[8,16],c={defaultRank:2,possibleSkills:["axes","spears"],otherDefaultRank:1},h=[new se({strength:2,heart:5,mind:7}),new se({strength:3,heart:4,mind:7}),new se({strength:3,heart:5,mind:6}),new se({strength:4,heart:4,mind:6}),new se({strength:4,heart:5,mind:5}),new se({strength:2,heart:6,mind:6})],g=new Ye(2,["Affable","Curieux","Généreux","Loyal","Malin","Patient","Rustre","Sincère"]);super("breeHuman",["fromBree"],"common",14,h,n,r,a,c,g)}}const J0=new Y0;class X0 extends Jn{constructor(){const n={modEndurance:{identifier:"enduranceMax",mod:22,op:"+"},modHope:{identifier:"hopeMax",mod:8,op:"+"},modParade:{identifier:"parade",mod:10,op:"+"}},r=[2,1,0,0,1,2,0,3,0,0,1,1,0,0,3,2,2,1],a=[5,7],c={defaultRank:2,possibleSkills:["axes","swords"],otherDefaultRank:1},h=[new se({strength:7,heart:2,mind:5}),new se({strength:7,heart:3,mind:4}),new se({strength:6,heart:3,mind:5}),new se({strength:6,heart:4,mind:4}),new se({strength:5,heart:4,mind:5}),new se({strength:6,heart:2,mind:6})],g=new Ye(2,["Circonspect","Entêté","Fier","Impétueux","Majestueux","Malin","Secret","Sévère"]);super("durinDwarf",["tireless","naugrim"],"prosperous",14,h,n,r,a,c,g)}}const Z0=new X0;class j0 extends Jn{constructor(){const n={modEndurance:{identifier:"enduranceMax",mod:20,op:"+"},modHope:{identifier:"hopeMax",mod:6,op:"+"},modParade:{identifier:"parade",mod:14,op:"+"}},r=[1,2,2,2,0,0,0,2,0,2,0,2,0,2,1,2,0,2],a=[3,17],c={defaultRank:2,possibleSkills:["spears","swords"],otherDefaultRank:1},h=[new se({strength:7,heart:5,mind:2}),new se({strength:7,heart:4,mind:3}),new se({strength:6,heart:5,mind:3}),new se({strength:6,heart:4,mind:4}),new se({strength:5,heart:5,mind:4}),new se({strength:6,heart:6,mind:2})],g=new Ye(2,["Courageux","Grand","Honorable","Rapide","Secret","Sévère","Sincère","Subtil"]);super("northRanger",["kingOfMen","dunedainAllegiance"],"modest",14,h,n,r,a,c,g)}}const Q0=new j0;class tc{identifier;defaultInfo;choice;chosen;_choice;constructor(n){this.identifier=n?.identifier||"unknown",this.chosen=n?.chosen!==void 0?n.chosen:-1,this.choice=n?.choice||[],this.defaultInfo=n?.defaultInfo||new Ms("","",[]),n?.choice!==void 0&&n.choice.length>0?(this._choice=new Ye(1,this.choice),this.chosen!==-1&&this.setChosen(this.chosen)):(this._choice=new Ye(1,[this.defaultInfo]),this.setChosen(0))}setChosen(n){n!==void 0&&n>=0&&(this._choice.setChosen([n]),this.chosen=this._choice.getChosenId()[0])}getChosen(){return this._choice.getChosen()[0]}isChosen(){return this.chosen!==-1}getInfos(){return this._choice.getPossibleChoice()}}class e1{rank;virtues;constructor(n,r){this.rank=n?.rank||0,this.virtues=[],r&&n?.virtues&&n.virtues.map(a=>{if(a.identifier!="unknown"){const c=new tc(r[a.identifier]);c.setChosen(a.chosen),this.virtues.push(c)}})}getModifiers(){return this.virtues.filter(n=>n.isChosen()).map(n=>n.getChosen()).map(n=>n.modifiers).flatMap(n=>n)}}class t1{rank;rewards;constructor(n,r){this.rank=n?.rank||0,this.rewards=[],r&&n?.rewards&&n.rewards.map(a=>{if(a.identifier!="unknown"){const c=new Ro(r[a.identifier]);c.setChosen(a.applyTo),this.rewards.push(c)}})}getModifiers(){return this.rewards.filter(n=>n.isChosen()).map(n=>n.getChosen()).map(n=>n.modifiers).flatMap(n=>n)}}const Ru={bardide:W0,lindonElf:K0,hobbit:z0,breeHuman:J0,durinDwarf:Z0,northRanger:Q0};class He{name;favored;rank;constructor(n){this.name=n?.name||"",this.favored=n?.favored||!1,this.rank=n?.rank||0}}class As{name;rank;constructor(n){this.name=n?.name||"",this.rank=n?.rank||0}}class n1{axes;bows;spears;swords;constructor(n){this.axes=new As({name:"Haches",rank:n?.axes?.rank}),this.bows=new As({name:"Arcs",rank:n?.bows?.rank}),this.spears=new As({name:"Lances",rank:n?.spears?.rank}),this.swords=new As({name:"Epées",rank:n?.swords?.rank})}}class r1{awe;athletics;awareness;hunting;song;craft;constructor(n){this.awe=new He({name:"Présence",favored:n?.awe?.favored,rank:n?.awe?.rank}),this.athletics=new He({name:"Athélisme",favored:n?.athletics?.favored,rank:n?.athletics?.rank}),this.awareness=new He({name:"Vigilance",favored:n?.awareness?.favored,rank:n?.awareness?.rank}),this.hunting=new He({name:"Chasse",favored:n?.hunting?.favored,rank:n?.hunting?.rank}),this.song=new He({name:"Chant",favored:n?.song?.favored,rank:n?.song?.rank}),this.craft=new He({name:"Artisanat",favored:n?.craft?.favored,rank:n?.craft?.rank})}}class s1{enhearten;travel;insight;healing;courtesy;battle;constructor(n){this.enhearten=new He({name:"Inspiration",favored:n?.enhearten?.favored,rank:n?.enhearten?.rank}),this.travel=new He({name:"Voyage",favored:n?.travel?.favored,rank:n?.travel?.rank}),this.insight=new He({name:"Intuition",favored:n?.insight?.favored,rank:n?.insight?.rank}),this.healing=new He({name:"Soins",favored:n?.healing?.favored,rank:n?.healing?.rank}),this.courtesy=new He({name:"Courtoisie",favored:n?.courtesy?.favored,rank:n?.courtesy?.rank}),this.battle=new He({name:"Art de la guerre",favored:n?.battle?.favored,rank:n?.battle?.rank})}}class i1{persuade;stealth;scan;explore;riddle;lore;constructor(n){this.persuade=new He({name:"Persuasion",favored:n?.persuade?.favored,rank:n?.persuade?.rank}),this.stealth=new He({name:"Discrétion",favored:n?.stealth?.favored,rank:n?.stealth?.rank}),this.scan=new He({name:"Inspection",favored:n?.scan?.favored,rank:n?.scan?.rank}),this.explore=new He({name:"Exploration",favored:n?.explore?.favored,rank:n?.explore?.rank}),this.riddle=new He({name:"Enigmes",favored:n?.riddle?.favored,rank:n?.riddle?.rank}),this.lore=new He({name:"Connaissances",favored:n?.lore?.favored,rank:n?.lore?.rank})}}class o1{_id;name;vocation;age;qualityLife;garant;particularities;particularitiesId;faults;culture;treasure;attributes;strengthSkills;heartSkills;mindSkills;combatSkills;armor;helm;shield;wisdom;valiance;adventurePoints;progressPoints;communityPoints;fatigue;shadows;sequels;currentEndurance;currentHope;states;travelEquipment;modifiers;weapons;constructor(n,r,a){this._id=n?._id||"",this.name=n?.name||"",this.vocation=n?.vocation||"captain",this.age=n?.age||0,this.qualityLife=n?.qualityLife||"poor",this.garant=n?.garant||"",this.particularities=n?.particularities||[],this.particularitiesId=n?.particularitiesId||[],this.faults=n?.faults||[],this.culture=n?.culture?Ru[n.culture.culture]:Ru.hobbit,this.treasure=n?.treasure||0,this.attributes=new V0(n?.attributes?.values),this.strengthSkills=new r1(n?.strengthSkills),this.heartSkills=new s1(n?.heartSkills),this.mindSkills=new i1(n?.mindSkills),this.combatSkills=new n1(n?.combatSkills),this.weapons=[];try{this.culture.possibleParticularities.setChosen(this.particularitiesId),this.particularities=this.culture.possibleParticularities.getChosen()}catch(c){console.log("particularitiesId on PlayerType constructor: ",c)}n?.weapons?.map(c=>{this.weapons.push(new Ds(c,a))}),this.armor=new Ft(n?.armor),this.helm=new Ft(n?.helm),this.shield=new Ft(n?.shield),this.wisdom=new e1(n?.wisdom,r),this.valiance=new t1(n?.valiance,a),this.adventurePoints=n?.adventurePoints||0,this.progressPoints=n?.progressPoints||0,this.communityPoints=n?.communityPoints||0,this.fatigue=new ue({identifier:n?.fatigue?.identifier||"fatigue",value:n?.fatigue?.value||0}),this.shadows=new ue({identifier:n?.shadows?.identifier||"shadows",value:n?.shadows?.value||0}),this.sequels=n?.sequels||0,this.currentEndurance=new ue({identifier:n?.currentEndurance?.identifier||"currentEndurance",value:n?.currentEndurance?.value||this.attributes.secondary.endurance.value}),this.currentHope=new ue({identifier:n?.currentHope?.identifier||"currentHope",value:n?.currentHope?.value||this.attributes.secondary.hope.value}),this.states={exhaust:n?.states?.exhaust||!1,melancholic:n?.states?.melancholic||!1,hurt:n?.states?.hurt||!1,injuries:{value:n?.states?.injuries?.value||0,unit:n?.states?.injuries?.unit||"hours"}},this.travelEquipment=[],n?.travelEquipment?.map(c=>{this.travelEquipment.push({name:c?.name||"Equipement",skillRef:c?.skillRef})}),this.modifiers={},D0(this),this.addModifiers(this.valiance.getModifiers()),this.addModifiers(this.wisdom.getModifiers())}removeTravelEquipment(n){this.travelEquipment=this.travelEquipment.filter(r=>r!==n)}addTravelEquipment(n){this.travelEquipment.push(n)}addWeapon(n){this.weapons.push(n)}addVirtue(n){this.wisdom.virtues.push(n),n.isChosen()&&this.addModifiers(n.getChosen().modifiers)}addReward(n){this.valiance.rewards.push(n)}removeWeapon(n){this.valiance.rewards.filter(a=>n.rewardsMod.includes(a)).map(a=>a.resetChoices()),this.weapons=this.weapons.filter(a=>a!==n)}changeArmor(n,r){switch((n.identifier==="unknown"||this.armor!=new Ft(n))&&this.resetRewardsChoiceArmor(r),r){case"armor":this.armor=new Ft(n);break;case"helm":this.helm=new Ft(n);break;case"shield":this.shield=new Ft(n);break}}getModifiedValue(n){return n==="unknown"?0:n==="weight"?this.weapons.reduce((r,a)=>r+a.weight,0)+this.getModifiedValue("armorWeight")+this.getModifiedValue("helmWeight")+this.getModifiedValue("shieldWeight"):this.modifiers[n]?this.modifiers[n].getModified(this.getValue(n)):this.getValue(n)}getHeaderValues(){return{heroicCulture:E0[this.culture.culture],culturalAdvantage:this.culture.culturalAdvantages,vocation:L0[this.vocation],qualityLife:So[R0(this.treasure)],name:this.name,age:this.age,garant:this.garant,treasure:this.treasure,particularities:this.particularities,faults:this.faults}}setValue(n,r){switch(n){case"unknown":return;case"currentEndurance":this.setCurrentEndurance(r);break;case"currentHope":this.setCurrentHope(r);break;case"fatigue":this.setFatigue(r);break;case"shadows":this.setShadows(r);break;case"sequels":this.setSequels(r);break;case"adventurePoints":this.setAdventurePoints(r);break;case"progressPoints":this.setProgressPoints(r);break;case"communityPoints":this.setCommunityPoints(r);break}}setCurrentEndurance(n){if(n<0)n=0;else{let a=this.getModifiedValue("enduranceMax");n>a&&(n=a)}this.currentEndurance.value=n;let r=this.getModifiedValue("currentEndurance");this.states.exhaust=r<this.getModifiedValue("weight")+this.getModifiedValue("fatigue")}getSkill(n){switch(n=n,n){case"awe":return this.strengthSkills.awe;case"athletics":return this.strengthSkills.athletics;case"awareness":return this.strengthSkills.awareness;case"hunting":return this.strengthSkills.hunting;case"song":return this.strengthSkills.song;case"craft":return this.strengthSkills.craft;case"enhearten":return this.heartSkills.enhearten;case"travel":return this.heartSkills.travel;case"insight":return this.heartSkills.insight;case"healing":return this.heartSkills.healing;case"courtesy":return this.heartSkills.courtesy;case"battle":return this.heartSkills.battle;case"persuade":return this.mindSkills.persuade;case"stealth":return this.mindSkills.stealth;case"scan":return this.mindSkills.scan;case"explore":return this.mindSkills.explore;case"riddle":return this.mindSkills.riddle;case"lore":return this.mindSkills.lore}}addInjury(n){n.value>0&&(this.states.injuries=n,this.states.hurt=!0)}removeInjury(){this.states.injuries={value:0,unit:"hours"},this.states.hurt=!1}setVirtueChoice(n,r){if(this.wisdom.virtues[n]===void 0)throw new Error("Not find virtue with index: "+n);this.wisdom.virtues[n].setChosen(r);const a=this.wisdom.virtues[n].getChosen();this.addModifiers(a.modifiers)}setRewardChoiceArmor(n,r){if(this.valiance.rewards[n]===void 0)throw new Error("Not find virtue with index: "+n);this.valiance.rewards[n].setChosen(r);const a=this.valiance.rewards[n].getChosen();this.addModifiers(a.modifiers)}setRewardChoiceWeapon(n,r){if(this.valiance.rewards[n]===void 0)throw new Error("Not find virtue with index: "+n);this.valiance.rewards[n].setChosen("weapon"),this.weapons[r].rewardsMod.push(this.valiance.rewards[n])}addModifiers(n){n.map(r=>{this.modifiers[r.identifier]||(this.modifiers[r.identifier]=new ln),this.modifiers[r.identifier].addModifiers([r])})}removeModifiers(n){n.map(r=>{this.modifiers[r.identifier]&&(console.log("remove",r.identifier,r),this.modifiers[r.identifier].removeModifiers(r))})}async saveOnDb(){await Ot.Character.update(this._id,this)}getValue(n){switch(n){case"unknown":return 0;case"sequels":return this.sequels;case"adventurePoints":return this.adventurePoints;case"progressPoints":return this.progressPoints;case"communityPoints":return this.communityPoints;case"strength":return this.attributes.values.strength.value;case"heart":return this.attributes.values.heart.value;case"mind":return this.attributes.values.mind.value;case"strengthSR":return this.attributes.sr.strength.value;case"heartSR":return this.attributes.sr.heart.value;case"mindSR":return this.attributes.sr.mind.value;case"enduranceMax":return this.attributes.secondary.endurance.value;case"hopeMax":return this.attributes.secondary.hope.value;case"parade":return this.attributes.secondary.parade.value;case"fatigue":return this.fatigue.value;case"shadows":return this.shadows.value;case"currentEndurance":return this.currentEndurance.value;case"currentHope":return this.currentHope.value;case"armorWeight":return this.armor.weight.value;case"armorProtection":return this.armor.protection.value;case"helmWeight":return this.helm.weight.value;case"helmProtection":return this.helm.protection.value;case"shieldWeight":return this.shield.weight.value;case"shieldParade":return this.shield.parade.value;default:return 0}}resetRewardsChoiceArmor(n){this.valiance.rewards.map(r=>{r.isChosen()&&r.getChosen().applyTo===n&&(this.removeModifiers(r.getChosen().modifiers),r.resetChoices())})}setCurrentHope(n){if(n<0)n=0;else{let a=this.getModifiedValue("hopeMax");n>a&&(n=a)}this.currentHope.value=n;let r=this.getModifiedValue("currentHope");this.states.melancholic=r<this.getModifiedValue("shadows")}setFatigue(n){n<0&&(n=0),this.fatigue.value=n,this.states.exhaust=this.getModifiedValue("currentEndurance")<this.getModifiedValue("weight")+this.getModifiedValue("fatigue")}setShadows(n){if(n<0)n=0;else{let a=this.getModifiedValue("hopeMax");n>a&&(n=a)}this.shadows.value=n;let r=this.getModifiedValue("shadows");this.states.melancholic=r>this.getModifiedValue("currentHope")}setSequels(n){n<0&&(n=0),this.sequels=n}setAdventurePoints(n){n<0&&(n=0),this.adventurePoints=n}setProgressPoints(n){n<0&&(n=0),this.progressPoints=n}setCommunityPoints(n){n<0&&(n=0),this.communityPoints=n}}const ft={token:"",headers:new Headers({Accept:"application/json","Content-Type":"application/json"}),baseURL:"http://localhost:8000/api/",socketURL:"http://192.168.1.32:8000"},Ot={Character:{getAllCharacters:async()=>{const n=await(await fetch(ft.baseURL+"character",{method:"GET",headers:ft.headers})).json(),r=await Ot.Virtues.getAllVirtues(),a=await Ot.Rewards.getAllRewards();return n.map(c=>new o1(c,r,a))},update:async(i,n)=>await(await fetch(ft.baseURL+"character/"+i,{method:"PUT",headers:ft.headers,body:JSON.stringify(n)})).json()},Weapons:{getAllWeapons:async()=>{const n=await(await fetch(ft.baseURL+"weapon/",{method:"GET",headers:ft.headers})).json(),r=await Ot.Rewards.getAllRewards();return n.map(a=>new Ds(a,r))}},Armors:{getAllArmors:async()=>(await(await fetch(ft.baseURL+"armor/",{method:"GET",headers:ft.headers})).json()).map(r=>new Ft(r))},Virtues:{getAllVirtues:async()=>{const n=await(await fetch(ft.baseURL+"virtue/",{method:"GET",headers:ft.headers})).json();return{empoweredVirtue:n.filter(a=>a.identifier==="empoweredVirtue")[0],livenessVirtue:n.filter(a=>a.identifier==="livenessVirtue")[0],resistanceVirtue:n.filter(a=>a.identifier==="resistanceVirtue")[0],masteryVirtue:n.filter(a=>a.identifier==="masteryVirtue")[0],steadyVirtue:n.filter(a=>a.identifier==="steadyVirtue")[0],assuranceVirtue:n.filter(a=>a.identifier==="assuranceVirtue")[0]}}},Rewards:{getAllRewards:async()=>{const n=await(await fetch(ft.baseURL+"reward/",{method:"GET",headers:ft.headers})).json();return{sharpReward:n.filter(a=>a.identifier==="sharpReward")[0],adjustedReward:n.filter(a=>a.identifier==="adjustedReward")[0],cleverReward:n.filter(a=>a.identifier==="cleverReward")[0],devastatingReward:n.filter(a=>a.identifier==="devastatingReward")[0],ferociousReward:n.filter(a=>a.identifier==="ferociousReward")[0],reinforcedReward:n.filter(a=>a.identifier==="reinforcedReward")[0]}}}};function a1(i,n){return y(),b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[d("path",{"fill-rule":"evenodd",d:"M20.03 4.72a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06 0l-7.5-7.5a.75.75 0 011.06-1.06L12 11.69l6.97-6.97a.75.75 0 011.06 0zm0 6a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06 0l-7.5-7.5a.75.75 0 111.06-1.06L12 17.69l6.97-6.97a.75.75 0 011.06 0z","clip-rule":"evenodd"})])}function l1(i,n){return y(),b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[d("path",{"fill-rule":"evenodd",d:"M11.47 4.72a.75.75 0 011.06 0l7.5 7.5a.75.75 0 11-1.06 1.06L12 6.31l-6.97 6.97a.75.75 0 01-1.06-1.06l7.5-7.5zm.53 7.59l-6.97 6.97a.75.75 0 01-1.06-1.06l7.5-7.5a.75.75 0 011.06 0l7.5 7.5a.75.75 0 11-1.06 1.06L12 12.31z","clip-rule":"evenodd"})])}function u1(i,n){return y(),b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[d("path",{"fill-rule":"evenodd",d:"M12.53 16.28a.75.75 0 01-1.06 0l-7.5-7.5a.75.75 0 011.06-1.06L12 14.69l6.97-6.97a.75.75 0 111.06 1.06l-7.5 7.5z","clip-rule":"evenodd"})])}function c1(i,n){return y(),b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[d("path",{"fill-rule":"evenodd",d:"M11.47 7.72a.75.75 0 011.06 0l7.5 7.5a.75.75 0 11-1.06 1.06L12 9.31l-6.97 6.97a.75.75 0 01-1.06-1.06l7.5-7.5z","clip-rule":"evenodd"})])}function f1(i,n){return y(),b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[d("path",{"fill-rule":"evenodd",d:"M11.078 2.25c-.917 0-1.699.663-1.85 1.567L9.05 4.889c-.02.12-.115.26-.297.348a7.493 7.493 0 00-.986.57c-.166.115-.334.126-.45.083L6.3 5.508a1.875 1.875 0 00-2.282.819l-.922 1.597a1.875 1.875 0 00.432 2.385l.84.692c.095.078.17.229.154.43a7.598 7.598 0 000 1.139c.015.2-.059.352-.153.43l-.841.692a1.875 1.875 0 00-.432 2.385l.922 1.597a1.875 1.875 0 002.282.818l1.019-.382c.115-.043.283-.031.45.082.312.214.641.405.985.57.182.088.277.228.297.35l.178 1.071c.151.904.933 1.567 1.85 1.567h1.844c.916 0 1.699-.663 1.85-1.567l.178-1.072c.02-.12.114-.26.297-.349.344-.165.673-.356.985-.57.167-.114.335-.125.45-.082l1.02.382a1.875 1.875 0 002.28-.819l.923-1.597a1.875 1.875 0 00-.432-2.385l-.84-.692c-.095-.078-.17-.229-.154-.43a7.614 7.614 0 000-1.139c-.016-.2.059-.352.153-.43l.84-.692c.708-.582.891-1.59.433-2.385l-.922-1.597a1.875 1.875 0 00-2.282-.818l-1.02.382c-.114.043-.282.031-.449-.083a7.49 7.49 0 00-.985-.57c-.183-.087-.277-.227-.297-.348l-.179-1.072a1.875 1.875 0 00-1.85-1.567h-1.843zM12 15.75a3.75 3.75 0 100-7.5 3.75 3.75 0 000 7.5z","clip-rule":"evenodd"})])}function h1(i,n){return y(),b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[d("path",{"fill-rule":"evenodd",d:"M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z","clip-rule":"evenodd"})])}const Zn=(i,n)=>{const r=i.__vccOpts||i;for(const[a,c]of n)r[a]=c;return r},d1={},p1={class:"absolute h-full w-full grayscale line-bottom-sm"};function g1(i,n){return y(),b("div",p1)}const De=Zn(d1,[["render",g1]]);function m1(i,n){return y(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}function $o(i,n){return y(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})])}const v1=["onClick"],_1={class:"relative z-10 font-UncialAntiqua whitespace-nowrap"},w1={key:0,class:"flex absolute z-50 text-xs font-sansserif font-semibold leading-4 bg-white rounded border border-gray/40 p-3 shadow-md top-6 after:absolute after:content-[''] after:h-4 after:w-4 after:rotate-45 after:-top-[0.54rem] after:border-l after:border-t after:rounded-tl after:border-gray/40 after:bg-white"},un=ce({__name:"DescribableName",props:{values:null},setup(i){const n=i,r=Ae({hover:!1}),a=()=>{r.hover=Se.GetInstance().tryChangeHover(r.hover,()=>{r.hover=!1})};return(c,h)=>(y(),b("div",{class:"flex font-medium cursor-pointer",onClick:Kt(a,["prevent","stop"])},[d("span",_1,V(n.values.name),1),M(Fe($o),{class:"relative z-10 h-3 w-3 ml-2 mb-auto"}),r.hover?(y(),b("div",w1,V(n.values.description),1)):re("",!0)],8,v1))}}),y1={class:"relative w-full flex text-[0.6rem] leading-[1.2rem] font-sansserif font-bold"},b1={class:"absolute -top-11 left-[50%] mx-2 text-xl text-center w-80 font-UncialAntiqua font-medium"},x1={class:"h-full w-1/3 flex flex-col pl-2 pr-5 py-2 space-y-2"},k1={class:"relative h-5 flex gap-3"},C1=d("span",{class:"text-[0.5rem] leading-[0.7rem] mb-auto"},"Culture héroïque",-1),A1={class:"font-UncialAntiqua font-medium"},E1={class:"relative h-5 flex"},R1=d("span",{class:"text-[0.5rem] leading-[0.7rem] mb-auto mr-2 whitespace-nowrap"},"Avantage culturel",-1),S1={class:"relative h-5 flex gap-3"},$1=d("span",{class:"text-[0.5rem] leading-[0.7rem] mb-auto"},"Vocation",-1),T1={class:"h-full w-1/3 flex flex-col pl-2 pr-5 py-2 space-y-2"},O1={class:"flex"},P1={class:"flex flex-col w-11/12 space-y-2"},M1={class:"h-5 flex"},L1={class:"relative flex gap-3 w-1/5 mr-2"},I1=d("span",{class:"text-[0.5rem] leading-[0.7rem] mb-auto"},"Age",-1),B1={class:"font-UncialAntiqua font-medium"},N1={class:"relative flex gap-3 w-4/5 mr-2"},q1=d("span",{class:"text-[0.5rem] leading-[0.7rem] mb-auto"},"Niveau de vie",-1),D1={class:"font-UncialAntiqua font-medium"},H1={class:"h-5"},V1={class:"relative h-5 flex gap-3 mr-2"},U1=d("span",{class:"text-[0.5rem] leading-[0.7rem] mb-auto"},"Garant",-1),W1={class:"font-UncialAntiqua font-medium"},F1={class:"flex flex-col grow aspect-square m-auto"},z1=d("span",null,"Trésor",-1),G1={class:"square-xl"},K1={class:"relative h-5 flex gap-3 mr-2"},Y1=d("span",{class:"text-[0.5rem] leading-[0.7rem] mb-auto"},"Voie de l'ombre",-1),J1={class:"h-full w-1/3 flex flex-col pl-2 pr-5 py-2 space-y-2"},X1={class:"relative h-5 flex gap-3"},Z1=d("span",{class:"text-[0.5rem] leading-[0.7rem] mb-auto"},"Particularités",-1),j1={class:"font-UncialAntiqua font-medium"},Q1={class:"relative h-5 flex gap-3"},ew={class:"pl-4"},tw={class:"relative h-5 flex gap-3"},nw=d("span",{class:"text-[0.5rem] leading-[0.7rem] mb-auto"},"Défauts",-1),rw={class:"font-UncialAntiqua font-medium"},sw=ce({__name:"HeaderPlayerSheet",props:{values:null},setup(i){const n=i,r=Ae({culturalAdvantage:n.values.culturalAdvantage});return(a,c)=>(y(),b("div",y1,[d("div",b1,V(n.values.name),1),d("div",x1,[d("span",k1,[C1,d("span",A1,V(n.values.heroicCulture),1),M(De)]),d("span",E1,[R1,(y(!0),b(ge,null,ke(r.culturalAdvantage,h=>(y(),b("span",{key:h.name,class:"font-medium"},[M(un,{values:h},null,8,["values"])]))),128)),M(De)]),d("span",S1,[$1,M(un,{values:n.values.vocation.name},null,8,["values"]),M(De)])]),d("div",T1,[d("div",O1,[d("div",P1,[d("div",M1,[d("span",L1,[I1,d("span",B1,V(n.values.age),1),M(De)]),d("span",N1,[q1,d("span",D1,V(n.values.qualityLife.name),1),M(De)])]),d("div",H1,[d("span",V1,[U1,d("span",W1,V(n.values.garant),1),M(De)])])]),d("div",F1,[z1,d("span",G1,V(n.values.treasure),1)])]),d("span",K1,[Y1,M(un,{values:n.values.vocation.shadowPath},null,8,["values"]),M(De)])]),d("div",J1,[d("span",X1,[Z1,d("span",j1,V(n.values.particularities.join(", ")),1),M(De)]),d("span",Q1,[d("span",ew,[M(un,{values:n.values.vocation.particularity},null,8,["values"])]),M(De)]),d("span",tw,[nw,d("span",rw,V(n.values.faults.join(", ")),1),M(De)])])]))}}),iw={},ow={class:"absolute h-full w-full double-line-right left-1"};function aw(i,n){return y(),b("div",ow)}const To=Zn(iw,[["render",aw]]),lw={},uw={class:"absolute h-full w-full line-top"};function cw(i,n){return y(),b("div",uw)}const fn=Zn(lw,[["render",cw]]),fw={class:"flex mx-3"},hw={key:0,class:"square relative mr-2 flex"},dw={key:0,class:"absolute h-3 w-3 rotate-45 bg-check bg-cover bg-center bg-no-repeat"},pw={class:"line-bottom-sm relative mr-2 h-[1.375rem] grow font-serif text-[0.8rem] font-bold leading-[rem]"},gw={class:"square mx-1.5 rotate-45"},mw={key:0,class:"absolute h-3 w-3 bg-check bg-cover bg-center bg-no-repeat"},vw={class:"square mx-1.5 rotate-45"},_w={key:0,class:"absolute h-3 w-3 bg-check bg-cover bg-center bg-no-repeat"},ww={class:"square mx-1.5 rotate-45"},yw={key:0,class:"absolute h-3 w-3 bg-check bg-cover bg-center bg-no-repeat"},bw={class:"square mx-1.5 rotate-45"},xw={key:0,class:"absolute h-3 w-3 bg-check bg-cover bg-center bg-no-repeat"},kw={class:"square mx-1.5 rotate-45"},Cw={key:0,class:"absolute h-3 w-3 bg-check bg-cover bg-center bg-no-repeat"},Aw={class:"square mx-1.5 rotate-45"},Ew={key:0,class:"absolute h-3 w-3 bg-check bg-cover bg-center bg-no-repeat"},Is=ce({__name:"SkillRow",props:{favorisable:{type:Boolean},skill:null},setup(i){const n=i;return(r,a)=>(y(),b("div",fw,[n.favorisable?(y(),b("span",hw,[i.skill.favored?(y(),b("span",dw)):re("",!0)])):re("",!0),d("span",pw,V(n.skill.name),1),d("span",gw,[n.skill.rank>=1?(y(),b("span",mw)):re("",!0)]),d("span",vw,[n.skill.rank>=2?(y(),b("span",_w)):re("",!0)]),d("span",ww,[n.skill.rank>=3?(y(),b("span",yw)):re("",!0)]),d("span",bw,[n.skill.rank>=4?(y(),b("span",xw)):re("",!0)]),d("span",kw,[n.skill.rank>=5?(y(),b("span",Cw)):re("",!0)]),d("span",Aw,[n.skill.rank>=6?(y(),b("span",Ew)):re("",!0)])]))}}),Rw={class:"flex mx-3"},Sw={key:0,class:"square relative mr-2 flex"},$w=d("span",{class:"absolute h-3 w-3 rotate-45 bg-check bg-cover bg-center bg-no-repeat opacity-10 animate-ping"},null,-1),Tw=d("span",{class:"absolute z-40 h-3 w-3 rotate-45 bg-check bg-cover bg-center bg-no-repeat opacity-10"},null,-1),Ow=[$w,Tw],Pw={class:"line-bottom-sm relative mr-2 h-[1.375rem] grow font-serif text-[0.8rem] font-bold leading-[rem]"},Mw=["onClick"],Lw=["onClick"],Iw=d("span",{class:"absolute h-3 w-3 rotate-45 bg-check bg-cover bg-center bg-no-repeat opacity-10 animate-ping"},null,-1),Bw=d("span",{class:"absolute z-40 h-3 w-3 rotate-45 bg-check bg-cover bg-center bg-no-repeat opacity-10"},null,-1),Nw=[Iw,Bw],Bs=ce({__name:"SkillRowModification",props:{favorisable:{type:Boolean},skill:null},setup(i){const n=i,r=Ae({modifSkill:n.skill}),a=h=>h>=0&&h<=6,c=h=>{"rank"in r.modifSkill&&a(h)&&(r.modifSkill.rank=h)};return(h,g)=>(y(),b("div",Rw,[n.favorisable?(y(),b("span",Sw,["favored"in n.skill&&n.skill.favored?(y(),b("span",{key:0,class:"absolute h-3 w-3 rotate-45 bg-check bg-cover bg-center bg-no-repeat cursor-pointer",onClick:g[0]||(g[0]=A=>"favored"in r.modifSkill&&(r.modifSkill.favored=!1))})):(y(),b("span",{key:1,class:"absolute flex -inset-0.5 cursor-pointer",onClick:g[1]||(g[1]=A=>"favored"in r.modifSkill&&(r.modifSkill.favored=!0))},Ow))])):re("",!0),d("span",Pw,V("name"in n.skill?n.skill.name:""),1),(y(),b(ge,null,ke(6,A=>d("span",{key:A,class:"square relative mx-1.5 rotate-45"},["rank"in n.skill&&n.skill.rank>=A?(y(),b("span",{key:0,class:"absolute h-3 w-3 bg-check bg-cover bg-center bg-no-repeat cursor-pointer",onClick:w=>c(A-1)},null,8,Mw)):(y(),b("span",{key:1,class:"absolute flex -inset-0.5 -rotate-45 cursor-pointer",onClick:w=>c(A)},Nw,8,Lw))])),64))]))}});class Gt{static instance={};onModification;callbacks;constructor(){this.onModification=!1,this.callbacks=[]}static GetInstance(n){return Gt.instance[n]||(Gt.instance[n]=new Gt),Gt.instance[n]}registerCallback(n){this.callbacks.push(n)}setOnModification(n){this.onModification=n,this.callbacks.map(r=>r(n))}}const qw={class:"relative h-full w-full"},Dw={class:"flex flex-col h-full w-full pr-3"},Hw={class:"flex flex-col h-1/3 w-full justify-center mb-2"},Vw=d("span",{class:"mx-auto text-red"},"CORPS",-1),Uw={class:"flex flex-col h-full justify-center mr-10"},Ww={class:"diamond diamond-lg relative top-2.5 ml-[56.7%] mr-auto"},Fw=d("span",{class:"absolute -top-8 left-0 text-xs"},"Valeur",-1),zw={class:"diamond diamond-double diamond-xl mx-auto"},Gw=d("span",{class:"absolute right-3 -bottom-7 text-xs"},"SR",-1),Kw={class:"diamond diamond-lg relative -top-2.5 ml-[56.7%] mr-auto"},Yw=d("span",{class:"absolute -top-3 left-9 text-xs"},"Endurance",-1),Jw={class:"relative grow w-full"},Xw={key:0,class:"flex flex-col h-full justify-between pt-[18px] pb-2"},Zw={key:1,class:"flex flex-col h-full justify-between pt-[18px] pb-2"},jw={class:"relative h-40"},Qw={class:"flex flex-col h-full justify-between pt-2 pb-[10px]"},ey=d("span",{class:"text-red text-sm"},"COMPETENCES DE COMBATS",-1),ty={key:0,class:"my-auto flex flex-col justify-center gap-1"},ny={key:1,class:"my-auto flex flex-col justify-center gap-1"},ry=ce({__name:"StrengthColumn",props:{player:null},setup(i){const n=i,r=Ae({onModification:!1});return Gt.GetInstance(n.player._id).registerCallback(a=>r.onModification=a),(a,c)=>(y(),b("div",qw,[M(To),d("div",Dw,[d("div",Hw,[Vw,d("div",Uw,[d("span",Ww,[d("span",null,V(n.player.getModifiedValue("strength")),1),Fw]),d("span",zw,[d("span",null,V(n.player.getModifiedValue("strengthSR")),1),Gw]),d("span",Kw,[d("span",null,V(n.player.getModifiedValue("enduranceMax")),1),Yw])])]),d("div",Jw,[M(fn),r.onModification?(y(),b("div",Zw,[(y(!0),b(ge,null,ke(n.player.strengthSkills,h=>(y(),b("div",{key:JSON.stringify(h)},[M(Bs,{favorisable:!0,skill:h},null,8,["skill"])]))),128))])):(y(),b("div",Xw,[(y(!0),b(ge,null,ke(n.player.strengthSkills,h=>(y(),b("div",{key:JSON.stringify(h)},[M(Is,{favorisable:!0,skill:h},null,8,["skill"])]))),128))]))]),d("div",jw,[M(fn),d("div",Qw,[ey,r.onModification?(y(),b("div",ny,[(y(!0),b(ge,null,ke(n.player.combatSkills,h=>(y(),b("div",{key:JSON.stringify(h)},[M(Bs,{favorisable:!1,skill:h},null,8,["skill"])]))),128))])):(y(),b("div",ty,[(y(!0),b(ge,null,ke(n.player.combatSkills,h=>(y(),b("div",{key:JSON.stringify(h)},[M(Is,{favorisable:!1,skill:h},null,8,["skill"])]))),128))]))])])])]))}}),sy={class:"border-red border rounded text-2xs px-1 cursor-pointer"},Or=ce({__name:"Button",props:{content:null},setup(i){const n=i;return(r,a)=>(y(),b("span",sy,V(n.content),1))}}),iy={class:"flex relative h-full"},oy={class:"break-words relative"},ay=ce({__name:"AddReward",props:{player:null},setup(i){const n=i,r=Ae({rewardsDB:{},hover:!1});Ns(async()=>{r.rewardsDB=await Ot.Rewards.getAllRewards()});const a=()=>{r.hover=Se.GetInstance().tryChangeHover(r.hover,()=>{r.hover=!1})},c=g=>{n.player.addReward(new Ro(r.rewardsDB[g])),n.player.saveOnDb()},h=g=>g&&g.getChosen?g.getChosen():g?g.defaultChoice||new _o("",""):new _o("","");return(g,A)=>(y(),b("div",iy,[M(Or,{class:"text-red",content:"Ajouter",onClick:a}),r.hover?(y(),b("div",{key:0,class:"flex flex-col absolute z-50 text-2xs text-black font-sansserif font-semibold leading-4 bg-white w-80 rounded border border-gray/40 p-3 shadow-md left-[125%] top-0 -translate-y-[80%] after:absolute after:content-[''] after:h-4 after:w-4 after:-rotate-45 after:-left-[0.54rem] after:top-[75%] after:translate-y-[50%] after:border-l after:border-t after:rounded-tl after:border-gray/40 after:bg-white",onClick:a},[(y(!0),b(ge,null,ke(r.rewardsDB,w=>(y(),b("div",{key:w.identifier,class:"whitespace-normal text-xs relative mb-0.5 ml-3"},[d("span",oy,[M(un,{values:h(w),onClick:T=>w.identifier&&c(w.identifier)},null,8,["values","onClick"])])]))),128))])):re("",!0)]))}});function ly(i,n){return y(),b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[d("path",{"fill-rule":"evenodd",d:"M2 10a.75.75 0 01.75-.75h12.59l-2.1-1.95a.75.75 0 111.02-1.1l3.5 3.25a.75.75 0 010 1.1l-3.5 3.25a.75.75 0 11-1.02-1.1l2.1-1.95H2.75A.75.75 0 012 10z","clip-rule":"evenodd"})])}const uy={class:"relative z-10 font-UncialAntiqua whitespace-nowrap"},cy={key:0,class:"flex absolute z-40 text-xs font-sansserif font-semibold leading-4 bg-white rounded border border-gray/40 p-3 shadow-md top-6 after:absolute after:content-[''] after:h-4 after:w-4 after:rotate-45 after:-top-[0.54rem] after:border-l after:border-t after:rounded-tl after:border-gray/40 after:bg-white"},fy={key:0,class:"flex flex-col absolute w-72 z-50 text-xs font-sansserif font-semibold text-black leading-4 bg-white gap-2 rounded border border-gray/40 p-3 shadow-md top-6 after:absolute after:content-[''] after:h-4 after:w-4 after:rotate-45 after:-top-[0.54rem] after:border-l after:border-t after:rounded-tl after:border-gray/40 after:bg-white"},hy=d("div",{class:"grid grid-cols-2 mb-2"},[d("span",null,"Equipements"),d("span",{class:"mx-auto"},"Valeur modifié")],-1),dy=["onClick"],py={class:"flex"},gy={key:0,class:"flex"},my=d("span",{class:"h-0.5 w-full mr-2 my-auto rounded bg-slate-600"},null,-1),vy=[my],_y={key:1,class:"flex mx-auto"},wy={class:"px-1 text-slate-400"},yy={class:"px-1 text-red"},by=ce({__name:"DescribableNameRewardNotChosen",props:{reward:null,rewardId:null,player:null},setup(i){const n=i,r=Ae({hover:!1,hoverChoice:!1}),a=qu(null),c=()=>{a.value&&console.log(a)},h=()=>{r.hover=Se.GetInstance().tryChangeHover(r.hover,()=>{r.hover=!1,r.hoverChoice=!1})},g=(T,k)=>{T!=="weapon"?(n.player.setRewardChoiceArmor(n.rewardId,T),n.player.saveOnDb(),console.log("default")):k.id!==void 0&&(n.player.setRewardChoiceWeapon(n.rewardId,k.id),n.player.saveOnDb(),console.log("weapon : ",k.id))},A=T=>{switch(T){case"notApply":return!1;case"armor":return n.player.armor.identifier!=="unknown";case"helm":return n.player.helm.identifier!=="unknown";case"shield":return n.player.shield.identifier!=="unknown";case"weapon":return n.player.weapons.length>0}},w=(T,k)=>{if(A(T))switch(T){case"notApply":break;case"armor":return[{identifier:"armor",name:n.player.armor.name,value:k.map(E=>n.player.getValue(E.identifier)),modifiedValue:k.map(E=>ln.tryModify(n.player.getValue(E.identifier),[E]))}];case"helm":return[{identifier:"armor",name:n.player.helm.name,value:k.map(E=>n.player.getValue(E.identifier)),modifiedValue:k.map(E=>ln.tryModify(n.player.getValue(E.identifier),[E]))}];case"shield":return[{identifier:"armor",name:n.player.shield.name,value:k.map(E=>n.player.getValue(E.identifier)),modifiedValue:k.map(E=>ln.tryModify(n.player.getValue(E.identifier),[E]))}];case"weapon":return n.player.weapons.map((E,P)=>({identifier:"weapon",id:P,name:E.name,value:[...new Set(k.map(N=>E.getModifiedValue(N.identifier)))],modifiedValue:[...new Set(k.map(N=>ln.tryModify(E.getModifiedValue(N.identifier),[N])))]}))}return[]};return(T,k)=>(y(),b("div",{class:"flex font-medium cursor-pointer",onClick:h},[d("span",uy,V(n.reward.defaultChoice.name),1),M(Fe($o),{class:"relative z-10 h-3 w-3 ml-2 mb-auto text-red"}),r.hover?(y(),b("div",cy,[d("span",null,V(n.reward.defaultChoice.description),1),d("span",{class:"relative text-red ml-2",onClick:k[0]||(k[0]=Kt(E=>r.hoverChoice=!r.hoverChoice,["stop","prevent"]))},[Qe(" (Appliquer) "),r.hoverChoice?(y(),b("div",fy,[hy,d("div",{ref_key:"equipements",ref:a,class:"flex flex-col"},[(y(!0),b(ge,null,ke(n.reward.getInfos(),(E,P)=>(y(),b("div",{key:P,class:"flex flex-col text-xs font-normal"},[(y(!0),b(ge,null,ke(w(E.applyTo,E.modifiers),(N,z)=>(y(),b("div",{key:z,class:"grid grid-cols-2 rounded hover:bg-slate-200/40",onClick:_e=>g(E.applyTo,N)},[d("div",py,V(N.name),1),N.value.length===0&&N.modifiedValue.length===0?(y(),b("div",gy,vy)):(y(),b("div",_y,[d("span",wy,V(N.value.join("/")),1),M(Fe(ly),{class:"h-4 w-4"}),d("span",yy,V(N.modifiedValue.join("/")),1)]))],8,dy))),128))]))),128)),d("span",null,V(c()),1)],512)])):re("",!0)])])):re("",!0)]))}}),xy={class:"relative h-full w-full px-3"},ky={class:"absolute z-50 top-1/3 left-[50%] -translate-x-[50%]"},Cy=d("span",{class:"relative z-40 text-red bg-yellow pl-2 pr-8"},"COMPETENCES",-1),Ay={class:"flex flex-col h-full w-full"},Ey={class:"flex flex-col h-1/3 w-full justify-center mb-2"},Ry=d("span",{class:"mx-auto text-red"},"CŒUR",-1),Sy={class:"flex flex-col h-full justify-center mr-10"},$y={class:"diamond diamond-lg relative top-2.5 ml-[56.7%] mr-auto"},Ty=d("span",{class:"absolute -top-8 left-0 text-xs"},"Valeur",-1),Oy={class:"diamond diamond-double diamond-xl mx-auto"},Py=d("span",{class:"absolute right-3 -bottom-7 text-xs"},"SR",-1),My={class:"diamond diamond-lg relative -top-2.5 ml-[56.7%] mr-auto"},Ly=d("span",{class:"absolute -top-1 left-10 text-xs"},"Espoir",-1),Iy={class:"relative grow w-full"},By={key:0,class:"flex flex-col h-full justify-between pt-[18px] pb-2"},Ny={key:1,class:"flex flex-col h-full justify-between pt-[18px] pb-2"},qy={class:"relative h-40"},Dy={class:"flex flex-col h-full pt-2"},Hy={class:"flex h-5 w-full justify-between mb-2"},Vy=d("span",{class:"text-red text-sm"},"RECOMPENSES",-1),Uy={key:0,class:"relative flex mr-auto my-0.5 ml-8"},Wy={class:"relative diamond diamond-md top-3"},Fy=d("span",{class:"absolute top-5 -left-16 font-serif text-[0.65rem]"}," VAILLANCE ",-1),zy={key:0,class:"whitespace-nowrap relative"},Gy={key:1,class:"whitespace-nowrap relative"},Ky=ce({__name:"HeartColumn",props:{player:null},setup(i){const n=i,r=Ae({onModification:!1});Gt.GetInstance(n.player._id).registerCallback(c=>r.onModification=c);const a=()=>{Gt.GetInstance(n.player._id).setOnModification(!r.onModification),r.onModification||n.player.saveOnDb()};return(c,h)=>(y(),b("div",xy,[M(To),d("div",ky,[Cy,r.onModification?(y(),Cn(Fe(m1),{key:1,class:"absolute right-2 top-[50%] -translate-y-[50%] z-50 w-4 h-4 text-green-600 cursor-pointer",onClick:a})):(y(),Cn(Fe(f1),{key:0,class:"absolute right-2 top-[50%] -translate-y-[50%] z-50 w-4 h-4 text-gray cursor-pointer",onClick:a}))]),d("div",Ay,[d("div",Ey,[Ry,d("div",Sy,[d("span",$y,[d("span",null,V(n.player.getModifiedValue("heart")),1),Ty]),d("span",Oy,[d("span",null,V(n.player.getModifiedValue("heartSR")),1),Py]),d("span",My,[d("span",null,V(n.player.getModifiedValue("hopeMax")),1),Ly])])]),d("div",Iy,[M(fn),r.onModification?(y(),b("div",Ny,[(y(!0),b(ge,null,ke(n.player.heartSkills,g=>(y(),b("div",{key:JSON.stringify(g)},[M(Bs,{favorisable:!0,skill:g},null,8,["skill"])]))),128))])):(y(),b("div",By,[(y(!0),b(ge,null,ke(n.player.heartSkills,g=>(y(),b("div",{key:JSON.stringify(g)},[M(Is,{favorisable:!0,skill:g},null,8,["skill"])]))),128))]))]),d("div",qy,[M(fn),d("div",Dy,[d("div",Hy,[Vy,i.player.valiance.rank>i.player.valiance.rewards.length?(y(),b("span",Uy,[M(ay,{player:n.player},null,8,["player"])])):re("",!0),d("span",Wy,[d("span",null,V(n.player.valiance.rank),1),Fy])]),(y(!0),b(ge,null,ke(n.player.valiance.rewards,(g,A)=>(y(),b("div",{key:A,class:"whitespace-normal text-xs relative mb-0.5 ml-3"},[g.isChosen()?(y(),b("span",zy,[M(un,{values:g.getChosen()},null,8,["values"])])):(y(),b("span",Gy,[M(by,{player:n.player,reward:g,"reward-id":A},null,8,["player","reward","reward-id"])]))]))),128))])])])]))}}),Yy={class:"relative z-10 font-UncialAntiqua whitespace-nowrap"},Jy={key:0,class:"flex absolute z-40 text-xs font-sansserif font-semibold leading-4 bg-white w-72 rounded border border-gray/40 p-3 shadow-md top-6 after:absolute after:content-[''] after:h-4 after:w-4 after:rotate-45 after:-top-[0.54rem] after:border-l after:border-t after:rounded-tl after:border-gray/40 after:bg-white"},Xy={key:0,class:"flex flex-col absolute z-50 text-xs font-sansserif font-semibold text-black leading-4 bg-white w-52 gap-2 rounded border border-gray/40 p-3 shadow-md top-6 after:absolute after:content-[''] after:h-4 after:w-4 after:rotate-45 after:-top-[0.54rem] after:border-l after:border-t after:rounded-tl after:border-gray/40 after:bg-white"},Zy=["onClick"],jy=ce({__name:"DescribableNameVirtueNotChosen",props:{virtue:null,virtueId:null,player:null},setup(i){const n=i,r=Ae({hover:!1,hoverChoice:!1}),a=()=>{r.hover=Se.GetInstance().tryChangeHover(r.hover,()=>{r.hover=!1,r.hoverChoice=!1})},c=h=>{n.player.setVirtueChoice(n.virtueId,h),n.player.saveOnDb()};return(h,g)=>(y(),b("div",{class:"flex font-medium cursor-pointer",onClick:a},[d("span",Yy,V(n.virtue.defaultInfo.name),1),M(Fe($o),{class:"relative z-10 h-3 w-3 ml-2 mb-auto text-red"}),r.hover?(y(),b("div",Jy,[Qe(V(n.virtue.defaultInfo.description)+" ",1),d("span",{class:"relative text-red mr-2 ml-auto",onClick:g[0]||(g[0]=Kt(A=>r.hoverChoice=!r.hoverChoice,["stop","prevent"]))},[Qe(" (Choisir) "),r.hoverChoice?(y(),b("div",Xy,[(y(!0),b(ge,null,ke(n.virtue.getInfos(),(A,w)=>(y(),b("span",{key:w,onClick:T=>c(w)},V(A.description),9,Zy))),128))])):re("",!0)])])):re("",!0)]))}}),Qy={class:"flex relative h-full"},eb={class:"break-words relative"},tb=ce({__name:"AddVirtue",props:{player:null},setup(i){const n=i,r=Ae({virtuesDB:{},hover:!1});Ns(async()=>{r.virtuesDB=await Ot.Virtues.getAllVirtues()});const a=()=>{r.hover=Se.GetInstance().tryChangeHover(r.hover,()=>{r.hover=!1})},c=g=>{n.player.addVirtue(new tc(r.virtuesDB[g])),n.player.saveOnDb()},h=g=>g&&g.getChosen?g.getChosen():g?g.defaultInfo||new Ms("",""):new Ms("","");return(g,A)=>(y(),b("div",Qy,[M(Or,{class:"text-red",content:"Ajouter",onClick:a}),r.hover?(y(),b("div",{key:0,class:"flex flex-col absolute z-50 text-2xs text-black font-sansserif font-semibold leading-4 bg-white w-36 rounded border border-gray/40 p-3 shadow-md left-[125%] top-0 -translate-y-[80%] after:absolute after:content-[''] after:h-4 after:w-4 after:-rotate-45 after:-left-[0.54rem] after:top-[75%] after:translate-y-[50%] after:border-l after:border-t after:rounded-tl after:border-gray/40 after:bg-white",onClick:a},[(y(!0),b(ge,null,ke(r.virtuesDB,w=>(y(),b("div",{key:w.identifier,class:"whitespace-normal text-xs relative mb-0.5 ml-3"},[d("span",eb,[M(un,{values:h(w),onClick:T=>w.identifier&&c(w.identifier)},null,8,["values","onClick"])])]))),128))])):re("",!0)]))}}),nb={class:"relative h-full w-full px-3"},rb={class:"flex flex-col h-full w-full"},sb={class:"flex flex-col h-1/3 w-full justify-center mb-2"},ib=d("span",{class:"mx-auto text-red"},"ESPRIT",-1),ob={class:"flex flex-col h-full justify-center mr-10"},ab={class:"diamond diamond-lg relative top-2.5 ml-[56.7%] mr-auto"},lb=d("span",{class:"absolute -top-8 left-0 text-xs"},"Valeur",-1),ub={class:"diamond diamond-double diamond-xl mx-auto"},cb=d("span",{class:"absolute right-3 -bottom-7 text-xs"},"SR",-1),fb={class:"diamond diamond-lg relative -top-2.5 ml-[56.7%] mr-auto"},hb={key:0,class:"absolute -top-7 left-8 text-sm text-red"},db=d("span",{class:"absolute -top-2 left-10 text-xs"},"Parade",-1),pb={class:"relative grow w-full"},gb={key:0,class:"flex flex-col h-full justify-between pt-[18px] pb-2"},mb={key:1,class:"flex flex-col h-full justify-between pt-[18px] pb-2"},vb={class:"relative h-40"},_b={class:"flex flex-col h-full pt-2"},wb={class:"flex h-5 w-full justify-between mb-2"},yb=d("span",{class:"text-red text-sm"},"VERTUS",-1),bb={key:0,class:"relative flex mr-auto my-0.5 ml-8"},xb={class:"relative diamond diamond-md top-3"},kb=d("span",{class:"absolute top-4 -left-14 font-serif text-[0.65rem]"}," SAGESSE ",-1),Cb={key:0,class:"break-words relative"},Ab={key:1,class:"break-words relative"},Eb=ce({__name:"MindColumn",props:{player:null},setup(i){const n=i,r=Ae({onModification:!1});return Gt.GetInstance(n.player._id).registerCallback(a=>r.onModification=a),(a,c)=>(y(),b("div",nb,[d("div",rb,[d("div",sb,[ib,d("div",ob,[d("span",ab,[d("span",null,V(n.player.getModifiedValue("mind")),1),lb]),d("span",ub,[d("span",null,V(n.player.getModifiedValue("mindSR")),1),cb]),d("span",fb,[d("span",null,V(n.player.getModifiedValue("parade")),1),n.player.getModifiedValue("shieldParade")>0?(y(),b("span",hb,"+"+V(n.player.getModifiedValue("shieldParade")),1)):re("",!0),db])])]),d("div",pb,[M(fn),r.onModification?(y(),b("div",mb,[(y(!0),b(ge,null,ke(n.player.mindSkills,h=>(y(),b("div",{key:JSON.stringify(h)},[M(Bs,{favorisable:!0,skill:h},null,8,["skill"])]))),128))])):(y(),b("div",gb,[(y(!0),b(ge,null,ke(n.player.mindSkills,h=>(y(),b("div",{key:JSON.stringify(h)},[M(Is,{favorisable:!0,skill:h},null,8,["skill"])]))),128))]))]),d("div",vb,[M(fn),d("div",_b,[d("div",wb,[yb,i.player.wisdom.rank>i.player.wisdom.virtues.length?(y(),b("span",bb,[M(tb,{player:n.player},null,8,["player"])])):re("",!0),d("span",xb,[d("span",null,V(n.player.wisdom.rank),1),kb])]),(y(!0),b(ge,null,ke(n.player.wisdom.virtues,(h,g)=>(y(),b("div",{key:h.identifier+"-"+g,class:"whitespace-normal text-xs relative mb-0.5 ml-3"},[h.isChosen()?(y(),b("span",Cb,[M(un,{values:h.getChosen()},null,8,["values"])])):(y(),b("span",Ab,[M(jy,{player:n.player,virtue:h,"virtue-id":g},null,8,["player","virtue","virtue-id"])]))]))),128))])])])]))}}),Rb={class:"flex w-full gap-1 font-sansserif font-bold text-[0.6rem] leading-[0.8rem]"},Sb={class:"relative flex grow h-[1.125rem] rounded hover:bg-slate-200/40 cursor-pointer"},$b={key:0,class:"ml-1"},Tb={class:"relative flex w-1/5 justify-center h-[1.125rem] my-auto"},Ob={class:"relative flex w-1/5 justify-center h-[1.125rem] my-auto"},Ss=ce({__name:"ArmorRow",props:{player:null,armor:null},setup(i){const n=i,r=()=>{if(n.player)switch(n.armor.identifier){case"unknown":return"";case"armor":return n.player.getModifiedValue("armorWeight");case"helm":return n.player.getModifiedValue("helmWeight");case"shield":return n.player.getModifiedValue("shieldWeight")}else return n.armor.weight.value},a=()=>{if(n.player)switch(n.armor.identifier){case"unknown":return"";case"armor":return n.player.getModifiedValue("armorProtection")+"d";case"helm":return"+"+n.player.getModifiedValue("helmProtection")+"d";case"shield":return"+"+n.player.getModifiedValue("shieldParade")}else return n.armor.identifier==="unknown"?"":n.armor.identifier==="shield"?"+"+n.armor.parade.value:n.armor.identifier==="armor"?n.armor.protection.value+"d":"+"+n.armor.protection.value+"d"},c=()=>n.armor.identifier==="unknown"?"":n.armor.name,h=()=>!n.player||n.armor.identifier==="unknown"?[]:n.player.valiance.rewards.filter(g=>g.applyTo===n.armor.identifier).map(g=>g.defaultChoice.name);return(g,A)=>(y(),b("div",Rb,[d("span",Sb,[Qe(V(c())+" ",1),h().length>0?(y(),b("span",$b,"( "+V(h().map(w=>w.match(/^[\w\s\u00C0-\u017F]*/)).join(", "))+" )",1)):re("",!0),M(De)]),d("span",Tb,[Qe(V(a())+" ",1),M(De)]),d("span",Ob,[Qe(V(r())+" ",1),M(De)])]))}}),Pb={class:"relative flex w-full gap-1 font-sansserif text-[0.6rem] font-bold leading-[0.8rem]"},Mb=["onClick"],Lb=["onClick"],Ib={key:0,class:"relative flex my-auto h-[1.125rem] w-4/12"},nc=ce({__name:"WeaponRow",props:{player:null,hideNote:{type:Boolean},weapon:{default:()=>new Ds({})}},setup(i){const n=i,r=Ae({hover:!1}),a=()=>{n.player&&n.weapon.name!==""&&(r.hover=Se.GetInstance().tryChangeHover(r.hover,()=>{r.hover=!1}))},c=()=>{n.player&&n.weapon.name!==""&&(a(),n.player.removeWeapon(n.weapon),n.player.saveOnDb())},h=()=>n.weapon?.rewardsMod.map(g=>g.getChosen().name.match(/^[\w\s\u00C0-\u017F]*/)).join(", ");return(g,A)=>(y(),b("div",Pb,[d("span",{class:Ar([{"cursor-pointer hover:bg-slate-200/40":n.player&&n.weapon?.name!==""},"relative flex my-auto h-[1.125rem] grow rounded"]),onClick:a},[Qe(V(n.weapon?.name+(n.weapon?.rewardsMod.length>0?" ( "+h()+" )":""))+" ",1),n.player&&n.weapon?.name!==""&&r.hover?(y(),b("div",{key:0,class:"flex flex-col absolute right-0 -top-2.5 z-50 text-2xs text-black font-sansserif font-semibold leading-4 bg-white w-20 rounded border border-gray/40 p-3 shadow-md after:absolute after:content-[''] after:h-4 after:w-4 after:-rotate-45 after:-left-[0.54rem] after:border-l after:border-t after:rounded-tl after:border-gray/40 after:bg-white",onClick:Kt(a,["stop"])},[d("span",{class:"pl-2 rounded hover:bg-slate-200",onClick:Kt(c,["stop"])},"Jeter",8,Lb)],8,Mb)):re("",!0),M(De)],2),d("span",{class:Ar([{"w-1/12":!n.hideNote,"w-1/6":n.hideNote},"relative flex my-auto h-[1.125rem] justify-center"])},[Qe(V(n.weapon?.name!==""?n.weapon.getModifiedValue("weaponDamage"):"")+" ",1),M(De)],2),d("span",{class:Ar([{"w-1/12":!n.hideNote,"w-1/6":n.hideNote},"relative flex my-auto h-[1.125rem] justify-center"])},[Qe(V(n.weapon?.name!==""?n.weapon.getModifiedValue("weaponInjuryOneHand")===n.weapon.getModifiedValue("weaponInjuryTwoHand")?n.weapon.getModifiedValue("weaponInjuryOneHand"):n.weapon.getModifiedValue("weaponInjuryOneHand")+" / "+n.weapon.getModifiedValue("weaponInjuryTwoHand"):"")+" ",1),M(De)],2),d("span",{class:Ar([{"w-1/12":!n.hideNote,"w-1/6":n.hideNote},"relative flex my-auto h-[1.125rem] justify-center"])},[Qe(V(n.weapon?.name!==""?n.weapon.weight:"")+" ",1),M(De)],2),n.hideNote?re("",!0):(y(),b("span",Ib,[Qe(V(n.weapon.note)+" ",1),M(De)]))]))}}),Bb={},Nb={class:"absolute h-full w-full line-right left-0.5"};function qb(i,n){return y(),b("div",Nb)}const Db=Zn(Bb,[["render",qb]]),Hb={},Vb={class:"absolute h-full w-full double-line-top"};function Ub(i,n){return y(),b("div",Vb)}const Wb=Zn(Hb,[["render",Ub]]),Fb={class:"relative h-full"},zb=Du('<div class="flex w-full h-4 gap-1 font-sansserif font-bold text-2xs mb-2"><span class="grow my-auto h-2.5"> Nom </span><span class="my-auto h-2.5 w-1/6 text-center">Dégats</span><span class="my-auto h-2.5 w-1/6 text-center">Blessure</span><span class="my-auto h-2.5 w-1/6 text-center">Charge</span></div>',1),Gb=ce({__name:"AddWeapon",props:{player:null},setup(i){const n=i,r=Ae({weaponsDB:[],rewardsDB:{},hover:!1});Ns(async()=>{r.weaponsDB=await Ot.Weapons.getAllWeapons(),r.rewardsDB=await Ot.Rewards.getAllRewards()});const a=()=>{r.hover=Se.GetInstance().tryChangeHover(r.hover,()=>{r.hover=!1})},c=h=>{n.player.addWeapon(new Ds(h,r.rewardsDB)),n.player.saveOnDb()};return(h,g)=>(y(),b("div",Fb,[M(Or,{content:"Ajouter",onClick:a}),r.hover?(y(),b("div",{key:0,class:"flex flex-col absolute z-50 text-2xs text-black font-sansserif font-semibold leading-4 bg-white w-96 rounded border border-gray/40 p-3 shadow-md left-[125%] top-0 -translate-y-[90%] after:absolute after:content-[''] after:h-4 after:w-4 after:-rotate-45 after:-left-[0.54rem] after:top-[89%] after:translate-y-[50%] after:border-l after:border-t after:rounded-tl after:border-gray/40 after:bg-white",onClick:a},[zb,(y(!0),b(ge,null,ke(r.weaponsDB.filter(A=>!n.player.weapons.includes(A)),A=>(y(),b("span",{key:JSON.stringify(A),class:"cursor-pointer hover:bg-slate-200 px-1 rounded-sm pt-0.5"},[M(nc,{"hide-note":!0,player:i.player,weapon:A,onClick:Kt(w=>c(A),["prevent","stop"])},null,8,["player","weapon","onClick"])]))),128))])):re("",!0)]))}}),Kb={class:"flex flex-col absolute left-0 translate-x-[45%] -top-8 z-50 text-2xs text-black font-sansserif font-semibold leading-4 bg-white w-96 rounded border border-gray/40 p-3 shadow-md after:absolute after:content-[''] after:h-4 after:w-4 after:-rotate-45 after:-left-[0.54rem] after:top-11 after:border-l after:border-t after:rounded-tl after:border-gray/40 after:bg-white"},Yb={class:"flex w-full h-4 gap-1 font-sansserif font-bold text-2xs mb-2"},Jb=d("span",{class:"grow"},null,-1),Xb={key:0,class:"my-auto h-2.5 w-1/5 text-center"},Zb={key:1,class:"my-auto h-2.5 w-1/5 text-center"},jb=d("span",{class:"my-auto h-2.5 w-1/5 text-center"},"Charge",-1),po=ce({__name:"ModifArmor",props:{armors:null,player:null,changeIdentifier:null},setup(i){const n=i,r=a=>{Se.GetInstance().tryChangeHover(!0,()=>{}),n.player.changeArmor(a,n.changeIdentifier),n.player.saveOnDb()};return(a,c)=>(y(),b("div",Kb,[d("div",Yb,[Jb,n.changeIdentifier==="shield"?(y(),b("span",Xb,"Parade")):(y(),b("span",Zb,"Protection")),jb]),(y(!0),b(ge,null,ke(n.armors,h=>(y(),b("span",{key:JSON.stringify(h),class:"cursor-pointer hover:bg-slate-200 px-1 rounded-sm pt-0.5"},[M(Ss,{armor:h,onClick:Kt(g=>r(h),["stop"])},null,8,["armor","onClick"])]))),128)),d("span",{class:"mt-3 ml-1 px-2 border border-red rounded w-fit font-UncialAntiqua text-red text-2xs font-normal cursor-pointer",onClick:c[0]||(c[0]=Kt(h=>r(new Fe(Ft)()),["stop"]))},"Jeter")]))}}),Qb={class:"relative flex flex-col h-full w-2/3 pt-2 pr-2"},ex={class:"flex w-full gap-1 font-sansserif text-[0.6rem] font-bold leading-[0.8rem]"},tx={class:"relative grow flex justify-between font-UncialAntiqua text-sm font-normal text-red"},nx=d("span",{class:"my-auto h-2.5 w-1/12 text-center"},"Dégats",-1),rx=d("span",{class:"my-auto h-2.5 w-1/12 text-center"},"Blessure",-1),sx=d("span",{class:"my-auto h-2.5 w-1/12 text-center"},"Charge",-1),ix=d("span",{class:"my-auto h-2.5 w-4/12"},"Notes",-1),ox={class:"flex h-full grow flex-col justify-between pt-2 pl-2 pr-2"},ax={class:"mt-1"},lx={class:"relative flex flex-col"},ux=d("div",{class:"mb-1 flex w-full gap-1 text-[0.6rem] leading-[0.8rem]"},[d("span",{class:"grow font-serif font-bold"},"ARMURE"),d("span",{class:"my-auto h-2.5 w-1/5 text-center font-sansserif font-bold"},"Protection"),d("span",{class:"my-auto h-2.5 w-1/5 text-center font-sansserif font-bold"},"Charge")],-1),cx={class:"relative flex flex-col"},fx=d("div",{class:"flex w-full gap-1 text-[0.6rem] leading-[0.8rem]"},[d("span",{class:"grow font-serif font-bold"},"CASQUE")],-1),hx={class:"relative"},dx=d("div",{class:"mb-1 flex w-full gap-1 text-[0.6rem] leading-[0.8rem]"},[d("span",{class:"grow font-serif font-bold"},"BOUCLIER"),d("span",{class:"my-auto h-2.5 w-1/5 text-center font-sansserif font-bold"},"Parade"),d("span",{class:"my-auto h-2.5 w-1/5 text-center font-sansserif font-bold"},"Charge")],-1),px=ce({__name:"WarGear",props:{player:null},setup(i){const n=i,r=Ae({armors:[],hover:{armor:!1,helm:!1,shield:!1}});Ns(async()=>{r.armors=await Ot.Armors.getAllArmors()});const a=()=>{r.hover.armor=Se.GetInstance().tryChangeHover(r.hover.armor,()=>{r.hover.armor=!1})},c=()=>{r.hover.helm=Se.GetInstance().tryChangeHover(r.hover.helm,()=>{r.hover.helm=!1})},h=()=>{r.hover.shield=Se.GetInstance().tryChangeHover(r.hover.shield,()=>{r.hover.shield=!1})};return(g,A)=>(y(),b(ge,null,[M(Wb,{class:"w-[99%]"}),d("div",Qb,[M(Db,{class:"h-[80%] mt-1"}),d("div",ex,[d("span",tx,[Qe(" ATTIRAIL DE GUERRE "),n.player.weapons.length<4?(y(),Cn(Gb,{key:0,player:n.player},null,8,["player"])):re("",!0)]),nx,rx,sx,ix]),(y(),b(ge,null,ke(4,w=>d("div",{key:w-1,class:"flex grow flex-col justify-center"},[M(nc,{"hide-note":!1,player:n.player,weapon:n.player.weapons[w-1]},null,8,["player","weapon"])])),64))]),d("div",ox,[d("div",ax,[d("div",lx,[ux,M(Ss,{armor:n.player.armor,player:n.player,onClick:a},null,8,["armor","player"]),r.hover.armor?(y(),Cn(po,{key:0,armors:r.armors.filter(w=>w.identifier==="armor").sort((w,T)=>w.protection.value-T.protection.value),"change-identifier":"armor",player:n.player},null,8,["armors","player"])):re("",!0)]),d("div",cx,[fx,M(Ss,{armor:n.player.helm,player:n.player,onClick:c},null,8,["armor","player"]),r.hover.helm?(y(),Cn(po,{key:0,armors:r.armors.filter(w=>w.identifier==="helm").sort((w,T)=>w.protection.value-T.protection.value),"change-identifier":"helm",player:n.player},null,8,["armors","player"])):re("",!0)])]),d("div",hx,[dx,M(Ss,{armor:n.player.shield,player:n.player,onClick:h},null,8,["armor","player"]),r.hover.shield?(y(),Cn(po,{key:0,armors:r.armors.filter(w=>w.identifier==="shield").sort((w,T)=>w.parade.value-T.parade.value),"change-identifier":"shield",player:n.player},null,8,["armors","player"])):re("",!0)])])],64))}}),gx={class:"absolute z-50 flex -translate-x-[100%] -translate-y-[50%] top-4 -left-3"},mx=d("div",{class:"absolute h-full w-full simple-border"},null,-1),vx={class:"flex flex-col z-50 text-xs font-sansserif font-semibold leading-4 m-[0.2rem] p-2 bg-sheet bg-cover bg-center"},_x={class:"mx-auto w-fit select-none"},wx=ce({__name:"TooltipsOneNumberValue",props:{player:null,identifierAttr:null},setup(i){const n=i,r=()=>n.player.getModifiedValue(n.identifierAttr),a=c=>{n.player.setValue(n.identifierAttr,n.player.getModifiedValue(n.identifierAttr)+c)};return(c,h)=>(y(),b("div",gx,[mx,d("div",vx,[M(Fe(l1),{class:"mx-auto h-6 w-6 cursor-pointer",onClick:h[0]||(h[0]=g=>a(5))}),M(Fe(c1),{class:"mx-auto h-6 w-6 cursor-pointer",onClick:h[1]||(h[1]=g=>a(1))}),d("span",_x,V(r()),1),M(Fe(u1),{class:"mx-auto h-6 w-6 cursor-pointer",onClick:h[2]||(h[2]=g=>a(-1))}),M(Fe(a1),{class:"mx-auto h-6 w-6 cursor-pointer",onClick:h[3]||(h[3]=g=>a(-5))})])]))}}),yx={class:"relative flex w-fit mx-auto"},bx={key:0},xx={key:0},kx={key:1},Cx={key:1},on=ce({__name:"EditablePoints",props:{player:null,identifierAttr:null,sizeDiamond:null,strToZero:null},setup(i){const n=i,r=Ae({stateClick:"unknown",hover:!1}),a=()=>{r.hover=Se.GetInstance().tryChangeHover(r.hover,()=>{r.hover=!1,n.player.saveOnDb()})};return(c,h)=>(y(),b("div",yx,[d("span",{class:Ar([{"diamond-md":n.sizeDiamond==="medium","diamond-lg":n.sizeDiamond==="large"},"diamond cursor-pointer select-none"]),onClick:a},[n?.strToZero?(y(),b("span",bx,[n.player.getModifiedValue(n.identifierAttr)>0?(y(),b("span",xx,V(n.player.getModifiedValue(n.identifierAttr)),1)):(y(),b("span",kx,V(n.strToZero),1))])):(y(),b("span",Cx,V(n.player.getModifiedValue(n.identifierAttr)),1))],2),An(M(wx,{"identifier-attr":n.identifierAttr,player:n.player},null,8,["identifier-attr","player"]),[[Co,r.hover]])]))}}),Ax={class:"flex"},Ex={class:"relative flex w-1/3 flex-col justify-center"},Rx=d("span",{class:"mx-auto mb-2 whitespace-pre-line text-center text-2xs text-red"},"POINTS D'AVENTURE",-1),Sx={class:"flex w-1/3 flex-col justify-center"},$x=d("span",{class:"mx-auto mb-2 whitespace-pre-line text-center text-2xs text-red"},"POINTS DE PROGRESSION",-1),Tx={class:"flex w-1/3 flex-col justify-center"},Ox=d("span",{class:"mx-auto mb-2 whitespace-pre-line text-center text-2xs text-red"},"POINTS DE COMMUNAUTE",-1),Px={class:"flex grow py-8"},Mx={class:"flex w-1/2 flex-col justify-between"},Lx=d("span",{class:"text-xs mx-2 mb-auto whitespace-pre-line text-center text-red"},"ENDURANCE ACTUELLE",-1),Ix={class:"mr-6 mt-6 flex flex-col"},Bx={class:"relative top-3.5 -right-2 ml-[55.5%] mr-auto"},Nx={class:"relative flex w-fit mx-auto diamond diamond-md"},qx={class:"cursor-pointer select-none"},Dx=d("span",{class:"absolute -top-6 -right-1 text-xs"},"Charge",-1),Hx={class:"relative -top-3.5 -right-2 ml-[55.5%] mr-auto"},Vx=d("span",{class:"absolute top-10 -left-2 text-xs"},"Fatigue",-1),Ux={class:"flex w-1/2 flex-col justify-between"},Wx=d("span",{class:"text-xs mx-8 mb-auto whitespace-pre-line text-center text-red"},"ESPOIR ACTUEL",-1),Fx={class:"mr-6 mt-6 flex flex-col"},zx={class:"relative top-3.5 -right-2 ml-[55.5%] mr-auto"},Gx=d("span",{class:"absolute -top-6 -right-2 text-xs"},"Ombres",-1),Kx={class:"relative -top-3.5 -right-2 ml-[55.5%] mr-auto"},Yx=d("span",{class:"absolute top-10 -left-3 text-xs"},"Séquelles",-1),Jx=ce({__name:"XpSecondaryPoints",props:{player:null},setup(i){const n=i;return(r,a)=>(y(),b(ge,null,[d("div",Ax,[d("div",Ex,[Rx,M(on,{"identifier-attr":"adventurePoints",player:n.player,"size-diamond":"medium"},null,8,["player"])]),d("div",Sx,[$x,M(on,{"identifier-attr":"progressPoints",player:n.player,"size-diamond":"medium"},null,8,["player"])]),d("div",Tx,[Ox,M(on,{"identifier-attr":"communityPoints",player:n.player,"size-diamond":"medium"},null,8,["player"])])]),d("div",Px,[d("div",Mx,[Lx,d("div",Ix,[d("span",Bx,[d("span",Nx,[d("span",qx,V(n.player.getModifiedValue("weight")),1)]),Dx]),M(on,{"identifier-attr":"currentEndurance",player:n.player,"size-diamond":"large","str-to-zero":"-"},null,8,["player"]),d("span",Hx,[M(on,{"identifier-attr":"fatigue",player:n.player,"size-diamond":"medium","str-to-zero":"-"},null,8,["player"]),Vx])])]),d("div",Ux,[Wx,d("div",Fx,[d("span",zx,[M(on,{"identifier-attr":"shadows",player:n.player,"size-diamond":"medium","str-to-zero":"-"},null,8,["player"]),Gx]),M(on,{"identifier-attr":"currentHope",player:n.player,"size-diamond":"large"},null,8,["player"]),d("span",Kx,[M(on,{"identifier-attr":"sequels",player:n.player,"size-diamond":"medium","str-to-zero":"-"},null,8,["player"]),Yx])])])])],64))}}),Xx={class:"absolute z-50 flex -translate-y-[100%] translate-x-[50%] top-4 -left-3"},Zx=d("div",{class:"absolute h-full w-full simple-border"},null,-1),jx={class:"flex flex-col gap-2 z-50 text-xs font-sansserif font-semibold leading-4 m-[0.2rem] p-4 bg-sheet bg-cover bg-center"},Qx=d("span",null,"Gravité de la blessure",-1),e2={class:"flex text-sm"},t2=d("option",{value:"hours"},"Heures",-1),n2=d("option",{value:"days"},"Jours",-1),r2=[t2,n2],s2=ce({__name:"TooltipsAddInjury",props:{player:null},setup(i){const n=i,r=Ae({injury:{value:0,unit:"hours"}}),a=()=>{n.player.addInjury(r.injury),n.player.saveOnDb(),Se.GetInstance().tryChangeHover(!0,()=>{})};return(c,h)=>(y(),b("div",Xx,[Zx,d("div",jx,[Qx,d("div",e2,[An(d("input",{"onUpdate:modelValue":h[0]||(h[0]=g=>r.injury.value=g),class:"w-10 p-1 h-6 my-auto",name:"value",type:"number"},null,512),[[Hu,r.injury.value]]),An(d("select",{"onUpdate:modelValue":h[1]||(h[1]=g=>r.injury.unit=g),class:"block py-1 pl-2 pr-4 text-sm text-gray-500 bg-transparent border-0 border-b-2 border-gray-200 appearance-none focus:outline-none focus:ring-0 focus:border-gray-200"},r2,512),[[Vu,r.injury.unit]])]),d("button",{class:"bg-transparent w-16 mx-auto text-blue-700 hover:text-red font-semibold border py-1 border-red rounded",onClick:a}," Valider ")])]))}}),i2={class:"relative flex flex-col h-full w-full"},o2={class:"relative flex flex-col"},a2=d("span",{class:"text-sm mx-auto mb-2 text-center text-red"},"ETATS",-1),l2={class:"flex pl-4"},u2={class:"flex h-full w-1/2 flex-col gap-1"},c2={class:"flex"},f2={class:"square mr-2 cursor-not-allowed"},h2={key:0,class:"absolute h-3 w-3 rotate-45 bg-check bg-cover bg-center bg-no-repeat"},d2=d("span",{class:"my-auto font-serif text-xs font-semibold leading-3"},"Epuisé",-1),p2={class:"flex"},g2={class:"square mr-2 cursor-not-allowed"},m2={key:0,class:"absolute h-3 w-3 rotate-45 bg-check bg-cover bg-center bg-no-repeat"},v2=d("span",{class:"my-auto font-serif text-xs font-semibold leading-3"},"Mélancolique",-1),_2={class:"flex relative"},w2={key:0,class:"absolute h-3 w-3 rotate-45 bg-check bg-cover bg-center bg-no-repeat"},y2=d("span",{class:"my-auto font-serif text-xs font-semibold leading-3"},"Blessé",-1),b2={class:"flex h-full w-1/2 flex-col"},x2=d("span",{class:"my-auto font-serif text-xs font-semibold italic leading-3"},"Blessure",-1),k2={class:"rect w-24 text-sm"},C2={key:0},A2=ce({__name:"States",props:{player:null},setup(i){const n=i,r=Ae({hover:!1}),a=()=>{n.player.states.injuries.value>0?(n.player.removeInjury(),n.player.saveOnDb()):c()},c=()=>{r.hover=Se.GetInstance().tryChangeHover(r.hover,()=>{r.hover=!1})};return(h,g)=>(y(),b("div",i2,[M(fn,{class:"-top-2 left-2"}),d("div",o2,[a2,d("div",l2,[d("div",u2,[d("div",c2,[d("span",f2,[n.player.states.exhaust?(y(),b("span",h2)):re("",!0)]),d2]),d("div",p2,[d("span",g2,[n.player.states.melancholic?(y(),b("span",m2)):re("",!0)]),v2]),d("div",_2,[d("span",{class:"square mr-2 cursor-pointer",onClick:a},[n.player.states.hurt?(y(),b("span",w2)):re("",!0)]),y2,An(M(s2,{player:n.player},null,8,["player"]),[[Co,r.hover]])])]),d("div",b2,[x2,d("span",k2,[n.player.states.injuries.value>0?(y(),b("span",C2,V(n.player.states.injuries.value+" "+n.player.states.injuries.unit),1)):re("",!0)])])])])]))}}),E2={class:"relative"},R2={key:0,class:"flex flex-col absolute z-50 text-xs text-black font-sansserif font-semibold leading-4 bg-white w-80 rounded border border-gray/40 p-3 shadow-md -left-10 top-0 after:absolute after:content-[''] after:h-4 after:w-4 after:-rotate-45 after:-right-[0.54rem] after:top-0 after:translate-y-[50%] after:border-r after:border-b after:rounded-tl after:border-gray/40 after:bg-white"},S2={class:"grid grid-cols-3 w-full px-2"},$2=d("label",{class:"mr-2",for:"name"},"Nom :",-1),T2=d("label",{class:"mr-2 mt-2 whitespace-nowrap",for:"name"},"Compétences :",-1),O2=Du('<option value="unknown">Aucune</option><option value="awe">Présence</option><option value="athletics">Athlétisme</option><option value="awareness">Vigilance</option><option value="hunting">Chasse</option><option value="song">Chant</option><option value="craft">Artisanat</option><option value="enhearten">Inspiration</option><option value="travel">Voyage</option><option value="insight">Intuition</option><option value="healing">Soins</option><option value="courtesy">Courtoisie</option><option value="battle">Art de la guerre</option><option value="persuade">Persuasion</option><option value="stealth">Discrétion</option><option value="scan">Inspection</option><option value="explore">Exploration</option><option value="riddle">Enigmes</option><option value="lore">Connaissances</option>',19),P2=[O2],M2=d("span",{class:"ml-3 text-slate-400"},"( Optionnel )",-1),L2=d("span",{class:"col-span-2"},null,-1),I2={class:"mt-4 col-span-3 flex justify-center"},B2=ce({__name:"AddTravelEquipment",props:{player:null},setup(i){const n=i,r=Ae({hover:!1,name:"",skillRef:"unknown"}),a=()=>{r.hover=Se.GetInstance().tryChangeHover(r.hover,()=>{r.hover=!1})},c=()=>{r.name!==""&&(n.player.addTravelEquipment({name:r.name,skillRef:r.skillRef}),n.player.saveOnDb(),r.name="",r.skillRef="unknown"),a()};return(h,g)=>(y(),b(ge,null,[d("div",E2,[M(Or,{class:"absolute right-4 top-0.5 text-red",content:"+",onClick:a})]),r.hover?(y(),b("div",R2,[d("div",S2,[$2,An(d("input",{"onUpdate:modelValue":g[0]||(g[0]=A=>r.name=A),class:"col-span-2 p-1 h-5 my-auto rounded border border-slate-200",name:"name",type:"text"},null,512),[[Hu,r.name]]),T2,An(d("select",{"onUpdate:modelValue":g[1]||(g[1]=A=>r.skillRef=A),class:"col-span-2 mt-2 pl-2 text-xs text-gray-500 cursor-pointer bg-transparent"},P2,512),[[Vu,r.skillRef]]),M2,L2,d("div",I2,[M(Or,{class:"text-red text-sm",content:"Ajouter",onClick:c})])])])):re("",!0)],64))}}),N2={key:0},q2={class:"font-semibold"},D2={key:0,class:"flex flex-col absolute right-0 -top-2.5 z-50 text-2xs text-black font-sansserif font-semibold leading-4 bg-white w-20 rounded border border-gray/40 p-3 shadow-md after:absolute after:content-[''] after:h-4 after:w-4 after:-rotate-45 after:-left-[0.54rem] after:border-l after:border-t after:rounded-tl after:border-gray/40 after:bg-white"},H2=["onClick"],V2=ce({__name:"TravelEquipment",props:{player:null,equip:null},setup(i){const n=i,r=Ae({hover:!1}),a=()=>{r.hover=Se.GetInstance().tryChangeHover(r.hover,()=>{r.hover=!1})},c=()=>{n.player.removeTravelEquipment(n.equip),n.player.saveOnDb()};return(h,g)=>(y(),b(ge,null,[d("span",{class:"hover:bg-slate-200/40 rounded cursor-pointer",onClick:a},[Qe(V(i.equip.name)+" ",1),i.equip.skillRef&&i.equip.skillRef!=="unknown"?(y(),b("span",N2,[Qe(" ( "),d("span",q2,V(n.player.getSkill(i.equip.skillRef).name),1),Qe(" ) ")])):re("",!0)]),r.hover?(y(),b("div",D2,[d("span",{class:"pl-2 rounded hover:bg-slate-200/40 cursor-pointer",onClick:Kt(c,["prevent","stop"])},"Jeter",8,H2)])):re("",!0)],64))}}),U2={class:"relative h-full"},W2={class:"flex flex-col h-full pt-1"},F2=d("span",{class:"text-sm mx-auto mb-2 text-center text-red"},"EQUIPEMENT DE VOYAGE",-1),z2=ce({__name:"TravelEquipmentList",props:{player:null},setup(i){const n=i;return(r,a)=>(y(),b("div",U2,[M(fn,{class:"left-2 -top-1"}),d("div",W2,[M(B2,{player:n.player},null,8,["player"]),F2,(y(!0),b(ge,null,ke(n.player.travelEquipment,(c,h)=>(y(),b("div",{key:h,class:"relative flex flex-col text-xs pl-4"},[M(V2,{equip:c,player:n.player},null,8,["equip","player"])]))),128))])]))}}),G2={class:"relative mx-auto flex min-w-[90rem] border-t-80 border-b-56 border-red/0 bg-sheet bg-cover bg-clip-border bg-center bg-origin-border"},K2=d("div",{class:"absolute -top-20 h-20 w-full bg-topSheet bg-contain bg-center brightness-75 contrast-125 saturate-150"},null,-1),Y2=d("div",{class:"absolute -bottom-14 h-16 w-full bg-bottomSheet bg-cover bg-clip-border bg-center bg-origin-border"},null,-1),J2={class:"flex h-full w-[74.2%] flex-col border-l-18 border-red/0"},X2={class:"h-24 w-full"},Z2={class:"relative flex flex-col w-full grow"},j2={class:"flex flex-col h-full w-full"},Q2={class:"relative flex grow"},ek={class:"flex flex-col h-full w-1/3"},tk={class:"flex flex-col h-full w-1/3"},nk={class:"flex flex-col h-full w-1/3"},rk={class:"relative flex h-1/5 w-full pt-1"},sk={class:"flex h-full w-[24.7%] flex-col border-r-18 border-red/0 px-1"},ik=d("div",{class:"flex h-1/3 flex-col p-3"},[d("div",{class:"simple-border h-full w-full"})],-1),ok={class:"flex grow flex-col"},ak={class:"flex h-1/6"},lk={class:"relative flex h-1/5 flex-col"},uk=ce({__name:"PlayerSheet",props:{player:null},setup(i){const n=i;return(r,a)=>(y(),b("div",G2,[K2,Y2,d("div",J2,[d("div",X2,[M(sw,{values:n.player.getHeaderValues()},null,8,["values"])]),d("div",Z2,[M(To),d("div",j2,[d("div",Q2,[d("div",ek,[M(ry,{player:n.player},null,8,["player"])]),d("div",tk,[M(Ky,{player:n.player},null,8,["player"])]),d("div",nk,[M(Eb,{player:n.player},null,8,["player"])])]),d("div",rk,[M(px,{player:n.player},null,8,["player"])])])])]),d("div",sk,[ik,d("div",ok,[M(Jx,{player:n.player},null,8,["player"])]),d("div",ak,[M(A2,{player:n.player},null,8,["player"])]),d("div",lk,[M(z2,{player:n.player},null,8,["player"])])])]))}}),Mt=Object.create(null);Mt.open="0";Mt.close="1";Mt.ping="2";Mt.pong="3";Mt.message="4";Mt.upgrade="5";Mt.noop="6";const $s=Object.create(null);Object.keys(Mt).forEach(i=>{$s[Mt[i]]=i});const ck={type:"error",data:"parser error"},fk=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",hk=typeof ArrayBuffer=="function",dk=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer,rc=({type:i,data:n},r,a)=>fk&&n instanceof Blob?r?a(n):Su(n,a):hk&&(n instanceof ArrayBuffer||dk(n))?r?a(n):Su(new Blob([n]),a):a(Mt[i]+(n||"")),Su=(i,n)=>{const r=new FileReader;return r.onload=function(){const a=r.result.split(",")[1];n("b"+(a||""))},r.readAsDataURL(i)},$u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Er=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let i=0;i<$u.length;i++)Er[$u.charCodeAt(i)]=i;const pk=i=>{let n=i.length*.75,r=i.length,a,c=0,h,g,A,w;i[i.length-1]==="="&&(n--,i[i.length-2]==="="&&n--);const T=new ArrayBuffer(n),k=new Uint8Array(T);for(a=0;a<r;a+=4)h=Er[i.charCodeAt(a)],g=Er[i.charCodeAt(a+1)],A=Er[i.charCodeAt(a+2)],w=Er[i.charCodeAt(a+3)],k[c++]=h<<2|g>>4,k[c++]=(g&15)<<4|A>>2,k[c++]=(A&3)<<6|w&63;return T},gk=typeof ArrayBuffer=="function",sc=(i,n)=>{if(typeof i!="string")return{type:"message",data:ic(i,n)};const r=i.charAt(0);return r==="b"?{type:"message",data:mk(i.substring(1),n)}:$s[r]?i.length>1?{type:$s[r],data:i.substring(1)}:{type:$s[r]}:ck},mk=(i,n)=>{if(gk){const r=pk(i);return ic(r,n)}else return{base64:!0,data:i}},ic=(i,n)=>{switch(n){case"blob":return i instanceof ArrayBuffer?new Blob([i]):i;case"arraybuffer":default:return i}},oc=String.fromCharCode(30),vk=(i,n)=>{const r=i.length,a=new Array(r);let c=0;i.forEach((h,g)=>{rc(h,!1,A=>{a[g]=A,++c===r&&n(a.join(oc))})})},_k=(i,n)=>{const r=i.split(oc),a=[];for(let c=0;c<r.length;c++){const h=sc(r[c],n);if(a.push(h),h.type==="error")break}return a},ac=4;function Pe(i){if(i)return wk(i)}function wk(i){for(var n in Pe.prototype)i[n]=Pe.prototype[n];return i}Pe.prototype.on=Pe.prototype.addEventListener=function(i,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(n),this};Pe.prototype.once=function(i,n){function r(){this.off(i,r),n.apply(this,arguments)}return r.fn=n,this.on(i,r),this};Pe.prototype.off=Pe.prototype.removeListener=Pe.prototype.removeAllListeners=Pe.prototype.removeEventListener=function(i,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+i];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var a,c=0;c<r.length;c++)if(a=r[c],a===n||a.fn===n){r.splice(c,1);break}return r.length===0&&delete this._callbacks["$"+i],this};Pe.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),r=this._callbacks["$"+i],a=1;a<arguments.length;a++)n[a-1]=arguments[a];if(r){r=r.slice(0);for(var a=0,c=r.length;a<c;++a)r[a].apply(this,n)}return this};Pe.prototype.emitReserved=Pe.prototype.emit;Pe.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]};Pe.prototype.hasListeners=function(i){return!!this.listeners(i).length};const cn=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function lc(i,...n){return n.reduce((r,a)=>(i.hasOwnProperty(a)&&(r[a]=i[a]),r),{})}const yk=setTimeout,bk=clearTimeout;function Hs(i,n){n.useNativeTimers?(i.setTimeoutFn=yk.bind(cn),i.clearTimeoutFn=bk.bind(cn)):(i.setTimeoutFn=setTimeout.bind(cn),i.clearTimeoutFn=clearTimeout.bind(cn))}const xk=1.33;function kk(i){return typeof i=="string"?Ck(i):Math.ceil((i.byteLength||i.size)*xk)}function Ck(i){let n=0,r=0;for(let a=0,c=i.length;a<c;a++)n=i.charCodeAt(a),n<128?r+=1:n<2048?r+=2:n<55296||n>=57344?r+=3:(a++,r+=4);return r}class Ak extends Error{constructor(n,r,a){super(n),this.description=r,this.context=a,this.type="TransportError"}}class uc extends Pe{constructor(n){super(),this.writable=!1,Hs(this,n),this.opts=n,this.query=n.query,this.readyState="",this.socket=n.socket}onError(n,r,a){return super.emitReserved("error",new Ak(n,r,a)),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(n){this.readyState==="open"&&this.write(n)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(n){const r=sc(n,this.socket.binaryType);this.onPacket(r)}onPacket(n){super.emitReserved("packet",n)}onClose(n){this.readyState="closed",super.emitReserved("close",n)}}const cc="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),wo=64,Ek={};let Tu=0,Es=0,Ou;function Pu(i){let n="";do n=cc[i%wo]+n,i=Math.floor(i/wo);while(i>0);return n}function fc(){const i=Pu(+new Date);return i!==Ou?(Tu=0,Ou=i):i+"."+Pu(Tu++)}for(;Es<wo;Es++)Ek[cc[Es]]=Es;function hc(i){let n="";for(let r in i)i.hasOwnProperty(r)&&(n.length&&(n+="&"),n+=encodeURIComponent(r)+"="+encodeURIComponent(i[r]));return n}function Rk(i){let n={},r=i.split("&");for(let a=0,c=r.length;a<c;a++){let h=r[a].split("=");n[decodeURIComponent(h[0])]=decodeURIComponent(h[1])}return n}let dc=!1;try{dc=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Sk=dc;function pc(i){const n=i.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!n||Sk))return new XMLHttpRequest}catch{}if(!n)try{return new cn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function $k(){}const Tk=function(){return new pc({xdomain:!1}).responseType!=null}();class Ok extends uc{constructor(n){if(super(n),this.polling=!1,typeof location<"u"){const a=location.protocol==="https:";let c=location.port;c||(c=a?"443":"80"),this.xd=typeof location<"u"&&n.hostname!==location.hostname||c!==n.port,this.xs=n.secure!==a}const r=n&&n.forceBase64;this.supportsBinary=Tk&&!r}get name(){return"polling"}doOpen(){this.poll()}pause(n){this.readyState="pausing";const r=()=>{this.readyState="paused",n()};if(this.polling||!this.writable){let a=0;this.polling&&(a++,this.once("pollComplete",function(){--a||r()})),this.writable||(a++,this.once("drain",function(){--a||r()}))}else r()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(n){const r=a=>{if(this.readyState==="opening"&&a.type==="open"&&this.onOpen(),a.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(a)};_k(n,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const n=()=>{this.write([{type:"close"}])};this.readyState==="open"?n():this.once("open",n)}write(n){this.writable=!1,vk(n,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let n=this.query||{};const r=this.opts.secure?"https":"http";let a="";this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=fc()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.opts.port&&(r==="https"&&Number(this.opts.port)!==443||r==="http"&&Number(this.opts.port)!==80)&&(a=":"+this.opts.port);const c=hc(n),h=this.opts.hostname.indexOf(":")!==-1;return r+"://"+(h?"["+this.opts.hostname+"]":this.opts.hostname)+a+this.opts.path+(c.length?"?"+c:"")}request(n={}){return Object.assign(n,{xd:this.xd,xs:this.xs},this.opts),new Pt(this.uri(),n)}doWrite(n,r){const a=this.request({method:"POST",data:n});a.on("success",r),a.on("error",(c,h)=>{this.onError("xhr post error",c,h)})}doPoll(){const n=this.request();n.on("data",this.onData.bind(this)),n.on("error",(r,a)=>{this.onError("xhr poll error",r,a)}),this.pollXhr=n}}class Pt extends Pe{constructor(n,r){super(),Hs(this,r),this.opts=r,this.method=r.method||"GET",this.uri=n,this.async=r.async!==!1,this.data=r.data!==void 0?r.data:null,this.create()}create(){const n=lc(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd,n.xscheme=!!this.opts.xs;const r=this.xhr=new pc(n);try{r.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let a in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(a)&&r.setRequestHeader(a,this.opts.extraHeaders[a])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(a){this.setTimeoutFn(()=>{this.onError(a)},0);return}typeof document<"u"&&(this.index=Pt.requestsCount++,Pt.requests[this.index]=this)}onError(n){this.emitReserved("error",n,this.xhr),this.cleanup(!0)}cleanup(n){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=$k,n)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Pt.requests[this.index],this.xhr=null}}onLoad(){const n=this.xhr.responseText;n!==null&&(this.emitReserved("data",n),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}Pt.requestsCount=0;Pt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Mu);else if(typeof addEventListener=="function"){const i="onpagehide"in cn?"pagehide":"unload";addEventListener(i,Mu,!1)}}function Mu(){for(let i in Pt.requests)Pt.requests.hasOwnProperty(i)&&Pt.requests[i].abort()}const gc=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?n=>Promise.resolve().then(n):(n,r)=>r(n,0))(),Rs=cn.WebSocket||cn.MozWebSocket,Lu=!0,Pk="arraybuffer",Iu=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Mk extends uc{constructor(n){super(n),this.supportsBinary=!n.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const n=this.uri(),r=this.opts.protocols,a=Iu?{}:lc(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(a.headers=this.opts.extraHeaders);try{this.ws=Lu&&!Iu?r?new Rs(n,r):new Rs(n):new Rs(n,r,a)}catch(c){return this.emitReserved("error",c)}this.ws.binaryType=this.socket.binaryType||Pk,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=n=>this.onClose({description:"websocket connection closed",context:n}),this.ws.onmessage=n=>this.onData(n.data),this.ws.onerror=n=>this.onError("websocket error",n)}write(n){this.writable=!1;for(let r=0;r<n.length;r++){const a=n[r],c=r===n.length-1;rc(a,this.supportsBinary,h=>{const g={};try{Lu&&this.ws.send(h)}catch{}c&&gc(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let n=this.query||{};const r=this.opts.secure?"wss":"ws";let a="";this.opts.port&&(r==="wss"&&Number(this.opts.port)!==443||r==="ws"&&Number(this.opts.port)!==80)&&(a=":"+this.opts.port),this.opts.timestampRequests&&(n[this.opts.timestampParam]=fc()),this.supportsBinary||(n.b64=1);const c=hc(n),h=this.opts.hostname.indexOf(":")!==-1;return r+"://"+(h?"["+this.opts.hostname+"]":this.opts.hostname)+a+this.opts.path+(c.length?"?"+c:"")}check(){return!!Rs}}const Lk={websocket:Mk,polling:Ok},Ik=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Bk=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function yo(i){const n=i,r=i.indexOf("["),a=i.indexOf("]");r!=-1&&a!=-1&&(i=i.substring(0,r)+i.substring(r,a).replace(/:/g,";")+i.substring(a,i.length));let c=Ik.exec(i||""),h={},g=14;for(;g--;)h[Bk[g]]=c[g]||"";return r!=-1&&a!=-1&&(h.source=n,h.host=h.host.substring(1,h.host.length-1).replace(/;/g,":"),h.authority=h.authority.replace("[","").replace("]","").replace(/;/g,":"),h.ipv6uri=!0),h.pathNames=Nk(h,h.path),h.queryKey=qk(h,h.query),h}function Nk(i,n){const r=/\/{2,9}/g,a=n.replace(r,"/").split("/");return(n.slice(0,1)=="/"||n.length===0)&&a.splice(0,1),n.slice(-1)=="/"&&a.splice(a.length-1,1),a}function qk(i,n){const r={};return n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,c,h){c&&(r[c]=h)}),r}let kn=class extends Pe{constructor(n,r={}){super(),n&&typeof n=="object"&&(r=n,n=null),n?(n=yo(n),r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)):r.host&&(r.hostname=yo(r.host).host),Hs(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},r),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=Rk(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(n){const r=Object.assign({},this.opts.query);r.EIO=ac,r.transport=n,this.id&&(r.sid=this.id);const a=Object.assign({},this.opts.transportOptions[n],this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Lk[n](a)}open(){let n;if(this.opts.rememberUpgrade&&kn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)n="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else n=this.transports[0];this.readyState="opening";try{n=this.createTransport(n)}catch{this.transports.shift(),this.open();return}n.open(),this.setTransport(n)}setTransport(n){this.transport&&this.transport.removeAllListeners(),this.transport=n,n.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",r=>this.onClose("transport close",r))}probe(n){let r=this.createTransport(n),a=!1;kn.priorWebsocketSuccess=!1;const c=()=>{a||(r.send([{type:"ping",data:"probe"}]),r.once("packet",E=>{if(!a)if(E.type==="pong"&&E.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;kn.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{a||this.readyState!=="closed"&&(k(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const P=new Error("probe error");P.transport=r.name,this.emitReserved("upgradeError",P)}}))};function h(){a||(a=!0,k(),r.close(),r=null)}const g=E=>{const P=new Error("probe error: "+E);P.transport=r.name,h(),this.emitReserved("upgradeError",P)};function A(){g("transport closed")}function w(){g("socket closed")}function T(E){r&&E.name!==r.name&&h()}const k=()=>{r.removeListener("open",c),r.removeListener("error",g),r.removeListener("close",A),this.off("close",w),this.off("upgrading",T)};r.once("open",c),r.once("error",g),r.once("close",A),this.once("close",w),this.once("upgrading",T),r.open()}onOpen(){if(this.readyState="open",kn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){let n=0;const r=this.upgrades.length;for(;n<r;n++)this.probe(this.upgrades[n])}}onPacket(n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",n),this.emitReserved("heartbeat"),n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const r=new Error("server error");r.code=n.data,this.onError(r);break;case"message":this.emitReserved("data",n.data),this.emitReserved("message",n.data);break}}onHandshake(n){this.emitReserved("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this.upgrades=this.filterUpgrades(n.upgrades),this.pingInterval=n.pingInterval,this.pingTimeout=n.pingTimeout,this.maxPayload=n.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const n=this.getWritablePackets();this.transport.send(n),this.prevBufferLen=n.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let a=0;a<this.writeBuffer.length;a++){const c=this.writeBuffer[a].data;if(c&&(r+=kk(c)),a>0&&r>this.maxPayload)return this.writeBuffer.slice(0,a);r+=2}return this.writeBuffer}write(n,r,a){return this.sendPacket("message",n,r,a),this}send(n,r,a){return this.sendPacket("message",n,r,a),this}sendPacket(n,r,a,c){if(typeof r=="function"&&(c=r,r=void 0),typeof a=="function"&&(c=a,a=null),this.readyState==="closing"||this.readyState==="closed")return;a=a||{},a.compress=a.compress!==!1;const h={type:n,data:r,options:a};this.emitReserved("packetCreate",h),this.writeBuffer.push(h),c&&this.once("flush",c),this.flush()}close(){const n=()=>{this.onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),n()},a=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?a():n()}):this.upgrading?a():n()),this}onError(n){kn.priorWebsocketSuccess=!1,this.emitReserved("error",n),this.onClose("transport error",n)}onClose(n,r){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",n,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(n){const r=[];let a=0;const c=n.length;for(;a<c;a++)~this.transports.indexOf(n[a])&&r.push(n[a]);return r}};kn.protocol=ac;function Dk(i,n="",r){let a=i;r=r||typeof location<"u"&&location,i==null&&(i=r.protocol+"//"+r.host),typeof i=="string"&&(i.charAt(0)==="/"&&(i.charAt(1)==="/"?i=r.protocol+i:i=r.host+i),/^(https?|wss?):\/\//.test(i)||(typeof r<"u"?i=r.protocol+"//"+i:i="https://"+i),a=yo(i)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const h=a.host.indexOf(":")!==-1?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+h+":"+a.port+n,a.href=a.protocol+"://"+h+(r&&r.port===a.port?"":":"+a.port),a}const Hk=typeof ArrayBuffer=="function",Vk=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i.buffer instanceof ArrayBuffer,mc=Object.prototype.toString,Uk=typeof Blob=="function"||typeof Blob<"u"&&mc.call(Blob)==="[object BlobConstructor]",Wk=typeof File=="function"||typeof File<"u"&&mc.call(File)==="[object FileConstructor]";function Oo(i){return Hk&&(i instanceof ArrayBuffer||Vk(i))||Uk&&i instanceof Blob||Wk&&i instanceof File}function Ts(i,n){if(!i||typeof i!="object")return!1;if(Array.isArray(i)){for(let r=0,a=i.length;r<a;r++)if(Ts(i[r]))return!0;return!1}if(Oo(i))return!0;if(i.toJSON&&typeof i.toJSON=="function"&&arguments.length===1)return Ts(i.toJSON(),!0);for(const r in i)if(Object.prototype.hasOwnProperty.call(i,r)&&Ts(i[r]))return!0;return!1}function Fk(i){const n=[],r=i.data,a=i;return a.data=bo(r,n),a.attachments=n.length,{packet:a,buffers:n}}function bo(i,n){if(!i)return i;if(Oo(i)){const r={_placeholder:!0,num:n.length};return n.push(i),r}else if(Array.isArray(i)){const r=new Array(i.length);for(let a=0;a<i.length;a++)r[a]=bo(i[a],n);return r}else if(typeof i=="object"&&!(i instanceof Date)){const r={};for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=bo(i[a],n));return r}return i}function zk(i,n){return i.data=xo(i.data,n),delete i.attachments,i}function xo(i,n){if(!i)return i;if(i&&i._placeholder===!0){if(typeof i.num=="number"&&i.num>=0&&i.num<n.length)return n[i.num];throw new Error("illegal attachments")}else if(Array.isArray(i))for(let r=0;r<i.length;r++)i[r]=xo(i[r],n);else if(typeof i=="object")for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&(i[r]=xo(i[r],n));return i}const Gk=5;var ne;(function(i){i[i.CONNECT=0]="CONNECT",i[i.DISCONNECT=1]="DISCONNECT",i[i.EVENT=2]="EVENT",i[i.ACK=3]="ACK",i[i.CONNECT_ERROR=4]="CONNECT_ERROR",i[i.BINARY_EVENT=5]="BINARY_EVENT",i[i.BINARY_ACK=6]="BINARY_ACK"})(ne||(ne={}));class Kk{constructor(n){this.replacer=n}encode(n){return(n.type===ne.EVENT||n.type===ne.ACK)&&Ts(n)?this.encodeAsBinary({type:n.type===ne.EVENT?ne.BINARY_EVENT:ne.BINARY_ACK,nsp:n.nsp,data:n.data,id:n.id}):[this.encodeAsString(n)]}encodeAsString(n){let r=""+n.type;return(n.type===ne.BINARY_EVENT||n.type===ne.BINARY_ACK)&&(r+=n.attachments+"-"),n.nsp&&n.nsp!=="/"&&(r+=n.nsp+","),n.id!=null&&(r+=n.id),n.data!=null&&(r+=JSON.stringify(n.data,this.replacer)),r}encodeAsBinary(n){const r=Fk(n),a=this.encodeAsString(r.packet),c=r.buffers;return c.unshift(a),c}}class Po extends Pe{constructor(n){super(),this.reviver=n}add(n){let r;if(typeof n=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(n);const a=r.type===ne.BINARY_EVENT;a||r.type===ne.BINARY_ACK?(r.type=a?ne.EVENT:ne.ACK,this.reconstructor=new Yk(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Oo(n)||n.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(n),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+n)}decodeString(n){let r=0;const a={type:Number(n.charAt(0))};if(ne[a.type]===void 0)throw new Error("unknown packet type "+a.type);if(a.type===ne.BINARY_EVENT||a.type===ne.BINARY_ACK){const h=r+1;for(;n.charAt(++r)!=="-"&&r!=n.length;);const g=n.substring(h,r);if(g!=Number(g)||n.charAt(r)!=="-")throw new Error("Illegal attachments");a.attachments=Number(g)}if(n.charAt(r+1)==="/"){const h=r+1;for(;++r&&!(n.charAt(r)===","||r===n.length););a.nsp=n.substring(h,r)}else a.nsp="/";const c=n.charAt(r+1);if(c!==""&&Number(c)==c){const h=r+1;for(;++r;){const g=n.charAt(r);if(g==null||Number(g)!=g){--r;break}if(r===n.length)break}a.id=Number(n.substring(h,r+1))}if(n.charAt(++r)){const h=this.tryParse(n.substr(r));if(Po.isPayloadValid(a.type,h))a.data=h;else throw new Error("invalid payload")}return a}tryParse(n){try{return JSON.parse(n,this.reviver)}catch{return!1}}static isPayloadValid(n,r){switch(n){case ne.CONNECT:return typeof r=="object";case ne.DISCONNECT:return r===void 0;case ne.CONNECT_ERROR:return typeof r=="string"||typeof r=="object";case ne.EVENT:case ne.BINARY_EVENT:return Array.isArray(r)&&r.length>0;case ne.ACK:case ne.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Yk{constructor(n){this.packet=n,this.buffers=[],this.reconPack=n}takeBinaryData(n){if(this.buffers.push(n),this.buffers.length===this.reconPack.attachments){const r=zk(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Jk=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Po,Encoder:Kk,get PacketType(){return ne},protocol:Gk},Symbol.toStringTag,{value:"Module"}));function Et(i,n,r){return i.on(n,r),function(){i.off(n,r)}}const Xk=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class vc extends Pe{constructor(n,r,a){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=n,this.nsp=r,a&&a.auth&&(this.auth=a.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const n=this.io;this.subs=[Et(n,"open",this.onopen.bind(this)),Et(n,"packet",this.onpacket.bind(this)),Et(n,"error",this.onerror.bind(this)),Et(n,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...n){return n.unshift("message"),this.emit.apply(this,n),this}emit(n,...r){if(Xk.hasOwnProperty(n))throw new Error('"'+n.toString()+'" is a reserved event name');r.unshift(n);const a={type:ne.EVENT,data:r};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const g=this.ids++,A=r.pop();this._registerAckCallback(g,A),a.id=g}const c=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!c||!this.connected)||(this.connected?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(n,r){const a=this.flags.timeout;if(a===void 0){this.acks[n]=r;return}const c=this.io.setTimeoutFn(()=>{delete this.acks[n];for(let h=0;h<this.sendBuffer.length;h++)this.sendBuffer[h].id===n&&this.sendBuffer.splice(h,1);r.call(this,new Error("operation has timed out"))},a);this.acks[n]=(...h)=>{this.io.clearTimeoutFn(c),r.apply(this,[null,...h])}}packet(n){n.nsp=this.nsp,this.io._packet(n)}onopen(){typeof this.auth=="function"?this.auth(n=>{this.packet({type:ne.CONNECT,data:n})}):this.packet({type:ne.CONNECT,data:this.auth})}onerror(n){this.connected||this.emitReserved("connect_error",n)}onclose(n,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",n,r)}onpacket(n){if(n.nsp===this.nsp)switch(n.type){case ne.CONNECT:if(n.data&&n.data.sid){const c=n.data.sid;this.onconnect(c)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ne.EVENT:case ne.BINARY_EVENT:this.onevent(n);break;case ne.ACK:case ne.BINARY_ACK:this.onack(n);break;case ne.DISCONNECT:this.ondisconnect();break;case ne.CONNECT_ERROR:this.destroy();const a=new Error(n.data.message);a.data=n.data.data,this.emitReserved("connect_error",a);break}}onevent(n){const r=n.data||[];n.id!=null&&r.push(this.ack(n.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(n){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const a of r)a.apply(this,n)}super.emit.apply(this,n)}ack(n){const r=this;let a=!1;return function(...c){a||(a=!0,r.packet({type:ne.ACK,id:n,data:c}))}}onack(n){const r=this.acks[n.id];typeof r=="function"&&(r.apply(this,n.data),delete this.acks[n.id])}onconnect(n){this.id=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(n=>this.emitEvent(n)),this.receiveBuffer=[],this.sendBuffer.forEach(n=>{this.notifyOutgoingListeners(n),this.packet(n)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(n=>n()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ne.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(n){return this.flags.compress=n,this}get volatile(){return this.flags.volatile=!0,this}timeout(n){return this.flags.timeout=n,this}onAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(n),this}prependAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(n),this}offAny(n){if(!this._anyListeners)return this;if(n){const r=this._anyListeners;for(let a=0;a<r.length;a++)if(n===r[a])return r.splice(a,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(n),this}prependAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(n),this}offAnyOutgoing(n){if(!this._anyOutgoingListeners)return this;if(n){const r=this._anyOutgoingListeners;for(let a=0;a<r.length;a++)if(n===r[a])return r.splice(a,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(n){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const a of r)a.apply(this,n.data)}}}function jn(i){i=i||{},this.ms=i.min||100,this.max=i.max||1e4,this.factor=i.factor||2,this.jitter=i.jitter>0&&i.jitter<=1?i.jitter:0,this.attempts=0}jn.prototype.duration=function(){var i=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),r=Math.floor(n*this.jitter*i);i=Math.floor(n*10)&1?i+r:i-r}return Math.min(i,this.max)|0};jn.prototype.reset=function(){this.attempts=0};jn.prototype.setMin=function(i){this.ms=i};jn.prototype.setMax=function(i){this.max=i};jn.prototype.setJitter=function(i){this.jitter=i};class ko extends Pe{constructor(n,r){var a;super(),this.nsps={},this.subs=[],n&&typeof n=="object"&&(r=n,n=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Hs(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((a=r.randomizationFactor)!==null&&a!==void 0?a:.5),this.backoff=new jn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=n;const c=r.parser||Jk;this.encoder=new c.Encoder,this.decoder=new c.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(n){return arguments.length?(this._reconnection=!!n,this):this._reconnection}reconnectionAttempts(n){return n===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=n,this)}reconnectionDelay(n){var r;return n===void 0?this._reconnectionDelay:(this._reconnectionDelay=n,(r=this.backoff)===null||r===void 0||r.setMin(n),this)}randomizationFactor(n){var r;return n===void 0?this._randomizationFactor:(this._randomizationFactor=n,(r=this.backoff)===null||r===void 0||r.setJitter(n),this)}reconnectionDelayMax(n){var r;return n===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=n,(r=this.backoff)===null||r===void 0||r.setMax(n),this)}timeout(n){return arguments.length?(this._timeout=n,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(n){if(~this._readyState.indexOf("open"))return this;this.engine=new kn(this.uri,this.opts);const r=this.engine,a=this;this._readyState="opening",this.skipReconnect=!1;const c=Et(r,"open",function(){a.onopen(),n&&n()}),h=Et(r,"error",g=>{a.cleanup(),a._readyState="closed",this.emitReserved("error",g),n?n(g):a.maybeReconnectOnOpen()});if(this._timeout!==!1){const g=this._timeout;g===0&&c();const A=this.setTimeoutFn(()=>{c(),r.close(),r.emit("error",new Error("timeout"))},g);this.opts.autoUnref&&A.unref(),this.subs.push(function(){clearTimeout(A)})}return this.subs.push(c),this.subs.push(h),this}connect(n){return this.open(n)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const n=this.engine;this.subs.push(Et(n,"ping",this.onping.bind(this)),Et(n,"data",this.ondata.bind(this)),Et(n,"error",this.onerror.bind(this)),Et(n,"close",this.onclose.bind(this)),Et(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(n){try{this.decoder.add(n)}catch(r){this.onclose("parse error",r)}}ondecoded(n){gc(()=>{this.emitReserved("packet",n)},this.setTimeoutFn)}onerror(n){this.emitReserved("error",n)}socket(n,r){let a=this.nsps[n];return a||(a=new vc(this,n,r),this.nsps[n]=a),a}_destroy(n){const r=Object.keys(this.nsps);for(const a of r)if(this.nsps[a].active)return;this._close()}_packet(n){const r=this.encoder.encode(n);for(let a=0;a<r.length;a++)this.engine.write(r[a],n.options)}cleanup(){this.subs.forEach(n=>n()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(n,r){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",n,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const n=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const a=this.setTimeoutFn(()=>{n.skipReconnect||(this.emitReserved("reconnect_attempt",n.backoff.attempts),!n.skipReconnect&&n.open(c=>{c?(n._reconnecting=!1,n.reconnect(),this.emitReserved("reconnect_error",c)):n.onreconnect()}))},r);this.opts.autoUnref&&a.unref(),this.subs.push(function(){clearTimeout(a)})}}onreconnect(){const n=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",n)}}const Cr={};function Os(i,n){typeof i=="object"&&(n=i,i=void 0),n=n||{};const r=Dk(i,n.path||"/socket.io"),a=r.source,c=r.id,h=r.path,g=Cr[c]&&h in Cr[c].nsps,A=n.forceNew||n["force new connection"]||n.multiplex===!1||g;let w;return A?w=new ko(a,n):(Cr[c]||(Cr[c]=new ko(a,n)),w=Cr[c]),r.query&&!n.query&&(n.query=r.queryKey),w.socket(r.path,n)}Object.assign(Os,{Manager:ko,Socket:vc,io:Os,connect:Os});const Pr=Ae({connected:!1,ennemyAppearEvents:new Array}),Mo=Os(ft.socketURL);Mo.on("connect",()=>{Pr.connected=!0});Mo.on("disconnect",()=>{Pr.connected=!1});Mo.on("ennemyAppear",(...i)=>{Pr.ennemyAppearEvents.push(i),setTimeout(()=>{Pr.ennemyAppearEvents.pop()},2e3)});const Zk=i=>(o_("data-v-6f565f17"),i=i(),a_(),i),jk={class:"relative w-screen h-screen"},Qk={class:"bg-white"},eC={class:"center-container relative"},tC={key:0},nC={class:"relative group"},rC=Zk(()=>d("div",{class:"border-gradient-red"},null,-1)),sC={class:"relative ring-1 ring-slate-900/5 rounded-lg"},iC={class:"vertical-container left-0"},oC={class:"flex flex-col justify-center gap-6 w-full h-full"},aC=["onClick"],lC={class:"ml-auto mr-12 my-auto h-fit"},uC={key:0,class:"flex flex-col absolute z-50 text-sm text-black font-sansserif font-semibold bg-white w-40 rounded border border-gray/40 p-3 shadow-md left-[110%] top-[50%] -translate-y-[50%] after:absolute after:content-[''] after:h-4 after:w-4 after:-rotate-45 after:-left-[0.54rem] after:top-[50%] after:-translate-y-[50%] after:border-l after:border-t after:rounded-tl after:border-gray/40 after:bg-white"},cC=["onClick"],fC={class:"ml-2"},hC=ce({__name:"EdgeDisplaySystem",props:{players:null},setup(i){const n=i,r=Ae({elemLeft:[],elemRight:[],currentId:"",hoverRight:!1,hoverLeft:!1,ennemyAppear:Pr.ennemyAppearEvents}),a=()=>{r.hoverLeft=Se.GetInstance().tryChangeHover(r.hoverLeft,()=>{r.hoverLeft=!1})},c=async h=>{r.currentId==h?r.currentId="":(r.currentId="",await Bu(()=>{r.currentId=h}))};return(h,g)=>(y(),b("div",jk,[An(d("div",Qk,"Angalagon appear",512),[[Co,r.ennemyAppear.length>0]]),d("div",eC,[(y(!0),b(ge,null,ke(n.players.filter(A=>r.elemLeft.includes(A._id)||r.elemRight.includes(A._id)),A=>(y(),b("div",{key:A._id,class:"absolute origin-center top-[50%] left-[50%] -translate-x-[50%] -translate-y-[50%]"},[M(i_,{name:"change-sheet"},{default:Uu(()=>[r.currentId===A._id?(y(),b("div",tC,[d("div",nC,[rC,d("div",sC,[M(uk,{player:A,class:"origin-center rounded"},null,8,["player"])])])])):re("",!0)]),_:2},1024)]))),128))]),d("div",iC,[d("div",oC,[(y(!0),b(ge,null,ke(r.elemLeft,A=>(y(),b("div",{key:A,class:"element-left",onClick:w=>c(A)},[d("div",lC,V(n.players.filter(w=>w._id===A)[0].name),1)],8,aC))),128)),d("div",{class:"element-left",onClick:a},[M(Fe(h1),{class:"h-20 w-20 my-auto ml-auto mr-12"}),r.hoverLeft?(y(),b("div",uC,[(y(!0),b(ge,null,ke(n.players.filter(A=>!r.elemLeft.includes(A._id)&&!r.elemRight.includes(A._id)),A=>(y(),b("div",{key:A._id,class:"w-full rounded hover:bg-slate-200",onClick:w=>r.elemLeft.push(A._id)},[d("span",fC,V(A.name),1)],8,cC))),128))])):re("",!0)])])])]))}});const dC=Zn(hC,[["__scopeId","data-v-6f565f17"]]),pC={class:"m-auto flex relative"},_c=ce({__name:"Home",async setup(i){let n,r,a=Ae(([n,r]=l_(()=>Ot.Character.getAllCharacters()),n=await n,r(),n));return(c,h)=>(y(),b("div",pC,[M(dC,{players:Fe(a)},null,8,["players"])]))}}),gC=[{path:"/",name:"Home",component:_c}],mC=d0({history:$_(),routes:gC}),vC=ce({__name:"App",setup(i){return(n,r)=>(y(),Cn(u_,null,{default:Uu(()=>[M(_c)]),_:1}))}});c_(vC).use(mC).mount("#app");
