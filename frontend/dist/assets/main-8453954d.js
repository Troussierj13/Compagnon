var o_=Object.defineProperty;var a_=(i,t,r)=>t in i?o_(i,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):i[t]=r;var E=(i,t,r)=>(a_(i,typeof t!="symbol"?t+"":t,r),r);import{shallowRef as u_,unref as Ge,computed as Gt,reactive as Re,nextTick as Dl,defineComponent as fe,inject as Pr,h as Hl,provide as ho,ref as Vl,watch as l_,openBlock as b,createElementBlock as k,createElementVNode as d,withModifiers as Kt,toDisplayString as U,createVNode as L,createCommentVNode as oe,Fragment as _e,renderList as Ae,onMounted as Hs,createTextVNode as et,createBlock as Cn,normalizeClass as Sr,createStaticVNode as Ul,withDirectives as En,vShow as Ro,vModelText as Wl,vModelSelect as Fl,Transition as c_,withCtx as zl,pushScopeId as f_,popScopeId as h_,withAsyncContext as d_,Suspense as p_}from"vue";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const g of h.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&a(g)}).observe(document,{childList:!0,subtree:!0});function r(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerpolicy&&(h.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?h.credentials="include":c.crossorigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(c){if(c.ep)return;c.ep=!0;const h=r(c);fetch(c.href,h)}})();/*!
  * vue-router v4.0.13
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Gl=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Zn=i=>Gl?Symbol(i):"_vr_"+i,g_=Zn("rvlm"),pl=Zn("rvd"),So=Zn("r"),Kl=Zn("rl"),_o=Zn("rvl"),Gn=typeof window<"u";function m_(i){return i.__esModule||Gl&&i[Symbol.toStringTag]==="Module"}const xe=Object.assign;function po(i,t){const r={};for(const a in t){const c=t[a];r[a]=Array.isArray(c)?c.map(i):i(c)}return r}const Tr=()=>{},v_=/\/$/,__=i=>i.replace(v_,"");function go(i,t,r="/"){let a,c={},h="",g="";const x=t.indexOf("?"),w=t.indexOf("#",x>-1?x:0);return x>-1&&(a=t.slice(0,x),h=t.slice(x+1,w>-1?w:t.length),c=i(h)),w>-1&&(a=a||t.slice(0,w),g=t.slice(w,t.length)),a=y_(a??t,r),{fullPath:a+(h&&"?")+h+g,path:a,query:c,hash:g}}function w_(i,t){const r=t.query?i(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function gl(i,t){return!t||!i.toLowerCase().startsWith(t.toLowerCase())?i:i.slice(t.length)||"/"}function b_(i,t,r){const a=t.matched.length-1,c=r.matched.length-1;return a>-1&&a===c&&Jn(t.matched[a],r.matched[c])&&Yl(t.params,r.params)&&i(t.query)===i(r.query)&&t.hash===r.hash}function Jn(i,t){return(i.aliasOf||i)===(t.aliasOf||t)}function Yl(i,t){if(Object.keys(i).length!==Object.keys(t).length)return!1;for(const r in i)if(!x_(i[r],t[r]))return!1;return!0}function x_(i,t){return Array.isArray(i)?ml(i,t):Array.isArray(t)?ml(t,i):i===t}function ml(i,t){return Array.isArray(t)?i.length===t.length&&i.every((r,a)=>r===t[a]):i.length===1&&i[0]===t}function y_(i,t){if(i.startsWith("/"))return i;if(!i)return t;const r=t.split("/"),a=i.split("/");let c=r.length-1,h,g;for(h=0;h<a.length;h++)if(g=a[h],!(c===1||g==="."))if(g==="..")c--;else break;return r.slice(0,c).join("/")+"/"+a.slice(h-(h===a.length?1:0)).join("/")}var Mr;(function(i){i.pop="pop",i.push="push"})(Mr||(Mr={}));var Or;(function(i){i.back="back",i.forward="forward",i.unknown=""})(Or||(Or={}));function k_(i){if(!i)if(Gn){const t=document.querySelector("base");i=t&&t.getAttribute("href")||"/",i=i.replace(/^\w+:\/\/[^\/]+/,"")}else i="/";return i[0]!=="/"&&i[0]!=="#"&&(i="/"+i),__(i)}const C_=/^[^#]+#/;function A_(i,t){return i.replace(C_,"#")+t}function E_(i,t){const r=document.documentElement.getBoundingClientRect(),a=i.getBoundingClientRect();return{behavior:t.behavior,left:a.left-r.left-(t.left||0),top:a.top-r.top-(t.top||0)}}const Vs=()=>({left:window.pageXOffset,top:window.pageYOffset});function R_(i){let t;if("el"in i){const r=i.el,a=typeof r=="string"&&r.startsWith("#"),c=typeof r=="string"?a?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!c)return;t=E_(c,i)}else t=i;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function vl(i,t){return(history.state?history.state.position-t:-1)+i}const wo=new Map;function S_(i,t){wo.set(i,t)}function $_(i){const t=wo.get(i);return wo.delete(i),t}let T_=()=>location.protocol+"//"+location.host;function Jl(i,t){const{pathname:r,search:a,hash:c}=t,h=i.indexOf("#");if(h>-1){let x=c.includes(i.slice(h))?i.slice(h).length:1,w=c.slice(x);return w[0]!=="/"&&(w="/"+w),gl(w,"")}return gl(r,i)+a+c}function O_(i,t,r,a){let c=[],h=[],g=null;const x=({state:$})=>{const I=Jl(i,location),W=r.value,pe=t.value;let ee=0;if($){if(r.value=I,t.value=$,g&&g===W){g=null;return}ee=pe?$.position-pe.position:0}else a(I);c.forEach(j=>{j(r.value,W,{delta:ee,type:Mr.pop,direction:ee?ee>0?Or.forward:Or.back:Or.unknown})})};function w(){g=r.value}function R($){c.push($);const I=()=>{const W=c.indexOf($);W>-1&&c.splice(W,1)};return h.push(I),I}function y(){const{history:$}=window;$.state&&$.replaceState(xe({},$.state,{scroll:Vs()}),"")}function A(){for(const $ of h)$();h=[],window.removeEventListener("popstate",x),window.removeEventListener("beforeunload",y)}return window.addEventListener("popstate",x),window.addEventListener("beforeunload",y),{pauseListeners:w,listen:R,destroy:A}}function _l(i,t,r,a=!1,c=!1){return{back:i,current:t,forward:r,replaced:a,position:window.history.length,scroll:c?Vs():null}}function P_(i){const{history:t,location:r}=window,a={value:Jl(i,r)},c={value:t.state};c.value||h(a.value,{back:null,current:a.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function h(w,R,y){const A=i.indexOf("#"),$=A>-1?(r.host&&document.querySelector("base")?i:i.slice(A))+w:T_()+i+w;try{t[y?"replaceState":"pushState"](R,"",$),c.value=R}catch(I){console.error(I),r[y?"replace":"assign"]($)}}function g(w,R){const y=xe({},t.state,_l(c.value.back,w,c.value.forward,!0),R,{position:c.value.position});h(w,y,!0),a.value=w}function x(w,R){const y=xe({},c.value,t.state,{forward:w,scroll:Vs()});h(y.current,y,!0);const A=xe({},_l(a.value,w,null),{position:y.position+1},R);h(w,A,!1),a.value=w}return{location:a,state:c,push:x,replace:g}}function M_(i){i=k_(i);const t=P_(i),r=O_(i,t.state,t.location,t.replace);function a(h,g=!0){g||r.pauseListeners(),history.go(h)}const c=xe({location:"",base:i,go:a,createHref:A_.bind(null,i)},t,r);return Object.defineProperty(c,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(c,"state",{enumerable:!0,get:()=>t.state.value}),c}function L_(i){return typeof i=="string"||i&&typeof i=="object"}function Xl(i){return typeof i=="string"||typeof i=="symbol"}const rn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Zl=Zn("nf");var wl;(function(i){i[i.aborted=4]="aborted",i[i.cancelled=8]="cancelled",i[i.duplicated=16]="duplicated"})(wl||(wl={}));function Xn(i,t){return xe(new Error,{type:i,[Zl]:!0},t)}function sn(i,t){return i instanceof Error&&Zl in i&&(t==null||!!(i.type&t))}const bl="[^/]+?",I_={sensitive:!1,strict:!1,start:!0,end:!0},B_=/[.+*?^${}()[\]/\\]/g;function N_(i,t){const r=xe({},I_,t),a=[];let c=r.start?"^":"";const h=[];for(const R of i){const y=R.length?[]:[90];r.strict&&!R.length&&(c+="/");for(let A=0;A<R.length;A++){const $=R[A];let I=40+(r.sensitive?.25:0);if($.type===0)A||(c+="/"),c+=$.value.replace(B_,"\\$&"),I+=40;else if($.type===1){const{value:W,repeatable:pe,optional:ee,regexp:j}=$;h.push({name:W,repeatable:pe,optional:ee});const re=j||bl;if(re!==bl){I+=10;try{new RegExp(`(${re})`)}catch(Te){throw new Error(`Invalid custom RegExp for param "${W}" (${re}): `+Te.message)}}let ve=pe?`((?:${re})(?:/(?:${re}))*)`:`(${re})`;A||(ve=ee&&R.length<2?`(?:/${ve})`:"/"+ve),ee&&(ve+="?"),c+=ve,I+=20,ee&&(I+=-8),pe&&(I+=-20),re===".*"&&(I+=-50)}y.push(I)}a.push(y)}if(r.strict&&r.end){const R=a.length-1;a[R][a[R].length-1]+=.7000000000000001}r.strict||(c+="/?"),r.end?c+="$":r.strict&&(c+="(?:/|$)");const g=new RegExp(c,r.sensitive?"":"i");function x(R){const y=R.match(g),A={};if(!y)return null;for(let $=1;$<y.length;$++){const I=y[$]||"",W=h[$-1];A[W.name]=I&&W.repeatable?I.split("/"):I}return A}function w(R){let y="",A=!1;for(const $ of i){(!A||!y.endsWith("/"))&&(y+="/"),A=!1;for(const I of $)if(I.type===0)y+=I.value;else if(I.type===1){const{value:W,repeatable:pe,optional:ee}=I,j=W in R?R[W]:"";if(Array.isArray(j)&&!pe)throw new Error(`Provided param "${W}" is an array but it is not repeatable (* or + modifiers)`);const re=Array.isArray(j)?j.join("/"):j;if(!re)if(ee)$.length<2&&(y.endsWith("/")?y=y.slice(0,-1):A=!0);else throw new Error(`Missing required param "${W}"`);y+=re}}return y}return{re:g,score:a,keys:h,parse:x,stringify:w}}function q_(i,t){let r=0;for(;r<i.length&&r<t.length;){const a=t[r]-i[r];if(a)return a;r++}return i.length<t.length?i.length===1&&i[0]===40+40?-1:1:i.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function D_(i,t){let r=0;const a=i.score,c=t.score;for(;r<a.length&&r<c.length;){const h=q_(a[r],c[r]);if(h)return h;r++}return c.length-a.length}const H_={type:0,value:""},V_=/[a-zA-Z0-9_]/;function U_(i){if(!i)return[[]];if(i==="/")return[[H_]];if(!i.startsWith("/"))throw new Error(`Invalid path "${i}"`);function t(I){throw new Error(`ERR (${r})/"${R}": ${I}`)}let r=0,a=r;const c=[];let h;function g(){h&&c.push(h),h=[]}let x=0,w,R="",y="";function A(){R&&(r===0?h.push({type:0,value:R}):r===1||r===2||r===3?(h.length>1&&(w==="*"||w==="+")&&t(`A repeatable param (${R}) must be alone in its segment. eg: '/:ids+.`),h.push({type:1,value:R,regexp:y,repeatable:w==="*"||w==="+",optional:w==="*"||w==="?"})):t("Invalid state to consume buffer"),R="")}function $(){R+=w}for(;x<i.length;){if(w=i[x++],w==="\\"&&r!==2){a=r,r=4;continue}switch(r){case 0:w==="/"?(R&&A(),g()):w===":"?(A(),r=1):$();break;case 4:$(),r=a;break;case 1:w==="("?r=2:V_.test(w)?$():(A(),r=0,w!=="*"&&w!=="?"&&w!=="+"&&x--);break;case 2:w===")"?y[y.length-1]=="\\"?y=y.slice(0,-1)+w:r=3:y+=w;break;case 3:A(),r=0,w!=="*"&&w!=="?"&&w!=="+"&&x--,y="";break;default:t("Unknown state");break}}return r===2&&t(`Unfinished custom RegExp for param "${R}"`),A(),g(),c}function W_(i,t,r){const a=N_(U_(i.path),r),c=xe(a,{record:i,parent:t,children:[],alias:[]});return t&&!c.record.aliasOf==!t.record.aliasOf&&t.children.push(c),c}function F_(i,t){const r=[],a=new Map;t=yl({strict:!1,end:!0,sensitive:!1},t);function c(y){return a.get(y)}function h(y,A,$){const I=!$,W=G_(y);W.aliasOf=$&&$.record;const pe=yl(t,y),ee=[W];if("alias"in y){const ve=typeof y.alias=="string"?[y.alias]:y.alias;for(const Te of ve)ee.push(xe({},W,{components:$?$.record.components:W.components,path:Te,aliasOf:$?$.record:W}))}let j,re;for(const ve of ee){const{path:Te}=ve;if(A&&Te[0]!=="/"){const Oe=A.record.path,we=Oe[Oe.length-1]==="/"?"":"/";ve.path=A.record.path+(Te&&we+Te)}if(j=W_(ve,A,pe),$?$.alias.push(j):(re=re||j,re!==j&&re.alias.push(j),I&&y.name&&!xl(j)&&g(y.name)),"children"in W){const Oe=W.children;for(let we=0;we<Oe.length;we++)h(Oe[we],j,$&&$.children[we])}$=$||j,w(j)}return re?()=>{g(re)}:Tr}function g(y){if(Xl(y)){const A=a.get(y);A&&(a.delete(y),r.splice(r.indexOf(A),1),A.children.forEach(g),A.alias.forEach(g))}else{const A=r.indexOf(y);A>-1&&(r.splice(A,1),y.record.name&&a.delete(y.record.name),y.children.forEach(g),y.alias.forEach(g))}}function x(){return r}function w(y){let A=0;for(;A<r.length&&D_(y,r[A])>=0&&(y.record.path!==r[A].record.path||!jl(y,r[A]));)A++;r.splice(A,0,y),y.record.name&&!xl(y)&&a.set(y.record.name,y)}function R(y,A){let $,I={},W,pe;if("name"in y&&y.name){if($=a.get(y.name),!$)throw Xn(1,{location:y});pe=$.record.name,I=xe(z_(A.params,$.keys.filter(re=>!re.optional).map(re=>re.name)),y.params),W=$.stringify(I)}else if("path"in y)W=y.path,$=r.find(re=>re.re.test(W)),$&&(I=$.parse(W),pe=$.record.name);else{if($=A.name?a.get(A.name):r.find(re=>re.re.test(A.path)),!$)throw Xn(1,{location:y,currentLocation:A});pe=$.record.name,I=xe({},A.params,y.params),W=$.stringify(I)}const ee=[];let j=$;for(;j;)ee.unshift(j.record),j=j.parent;return{name:pe,path:W,params:I,matched:ee,meta:Y_(ee)}}return i.forEach(y=>h(y)),{addRoute:h,resolve:R,removeRoute:g,getRoutes:x,getRecordMatcher:c}}function z_(i,t){const r={};for(const a of t)a in i&&(r[a]=i[a]);return r}function G_(i){return{path:i.path,redirect:i.redirect,name:i.name,meta:i.meta||{},aliasOf:void 0,beforeEnter:i.beforeEnter,props:K_(i),children:i.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in i?i.components||{}:{default:i.component}}}function K_(i){const t={},r=i.props||!1;if("component"in i)t.default=r;else for(const a in i.components)t[a]=typeof r=="boolean"?r:r[a];return t}function xl(i){for(;i;){if(i.record.aliasOf)return!0;i=i.parent}return!1}function Y_(i){return i.reduce((t,r)=>xe(t,r.meta),{})}function yl(i,t){const r={};for(const a in i)r[a]=a in t?t[a]:i[a];return r}function jl(i,t){return t.children.some(r=>r===i||jl(i,r))}const Ql=/#/g,J_=/&/g,X_=/\//g,Z_=/=/g,j_=/\?/g,ec=/\+/g,Q_=/%5B/g,e0=/%5D/g,tc=/%5E/g,t0=/%60/g,nc=/%7B/g,n0=/%7C/g,rc=/%7D/g,r0=/%20/g;function $o(i){return encodeURI(""+i).replace(n0,"|").replace(Q_,"[").replace(e0,"]")}function s0(i){return $o(i).replace(nc,"{").replace(rc,"}").replace(tc,"^")}function bo(i){return $o(i).replace(ec,"%2B").replace(r0,"+").replace(Ql,"%23").replace(J_,"%26").replace(t0,"`").replace(nc,"{").replace(rc,"}").replace(tc,"^")}function i0(i){return bo(i).replace(Z_,"%3D")}function o0(i){return $o(i).replace(Ql,"%23").replace(j_,"%3F")}function a0(i){return i==null?"":o0(i).replace(X_,"%2F")}function Is(i){try{return decodeURIComponent(""+i)}catch{}return""+i}function u0(i){const t={};if(i===""||i==="?")return t;const a=(i[0]==="?"?i.slice(1):i).split("&");for(let c=0;c<a.length;++c){const h=a[c].replace(ec," "),g=h.indexOf("="),x=Is(g<0?h:h.slice(0,g)),w=g<0?null:Is(h.slice(g+1));if(x in t){let R=t[x];Array.isArray(R)||(R=t[x]=[R]),R.push(w)}else t[x]=w}return t}function kl(i){let t="";for(let r in i){const a=i[r];if(r=i0(r),a==null){a!==void 0&&(t+=(t.length?"&":"")+r);continue}(Array.isArray(a)?a.map(h=>h&&bo(h)):[a&&bo(a)]).forEach(h=>{h!==void 0&&(t+=(t.length?"&":"")+r,h!=null&&(t+="="+h))})}return t}function l0(i){const t={};for(const r in i){const a=i[r];a!==void 0&&(t[r]=Array.isArray(a)?a.map(c=>c==null?null:""+c):a==null?a:""+a)}return t}function Ar(){let i=[];function t(a){return i.push(a),()=>{const c=i.indexOf(a);c>-1&&i.splice(c,1)}}function r(){i=[]}return{add:t,list:()=>i,reset:r}}function an(i,t,r,a,c){const h=a&&(a.enterCallbacks[c]=a.enterCallbacks[c]||[]);return()=>new Promise((g,x)=>{const w=A=>{A===!1?x(Xn(4,{from:r,to:t})):A instanceof Error?x(A):L_(A)?x(Xn(2,{from:t,to:A})):(h&&a.enterCallbacks[c]===h&&typeof A=="function"&&h.push(A),g())},R=i.call(a&&a.instances[c],t,r,w);let y=Promise.resolve(R);i.length<3&&(y=y.then(w)),y.catch(A=>x(A))})}function mo(i,t,r,a){const c=[];for(const h of i)for(const g in h.components){let x=h.components[g];if(!(t!=="beforeRouteEnter"&&!h.instances[g]))if(c0(x)){const R=(x.__vccOpts||x)[t];R&&c.push(an(R,r,a,h,g))}else{let w=x();c.push(()=>w.then(R=>{if(!R)return Promise.reject(new Error(`Couldn't resolve component "${g}" at "${h.path}"`));const y=m_(R)?R.default:R;h.components[g]=y;const $=(y.__vccOpts||y)[t];return $&&an($,r,a,h,g)()}))}}return c}function c0(i){return typeof i=="object"||"displayName"in i||"props"in i||"__vccOpts"in i}function Cl(i){const t=Pr(So),r=Pr(Kl),a=Gt(()=>t.resolve(Ge(i.to))),c=Gt(()=>{const{matched:w}=a.value,{length:R}=w,y=w[R-1],A=r.matched;if(!y||!A.length)return-1;const $=A.findIndex(Jn.bind(null,y));if($>-1)return $;const I=Al(w[R-2]);return R>1&&Al(y)===I&&A[A.length-1].path!==I?A.findIndex(Jn.bind(null,w[R-2])):$}),h=Gt(()=>c.value>-1&&p0(r.params,a.value.params)),g=Gt(()=>c.value>-1&&c.value===r.matched.length-1&&Yl(r.params,a.value.params));function x(w={}){return d0(w)?t[Ge(i.replace)?"replace":"push"](Ge(i.to)).catch(Tr):Promise.resolve()}return{route:a,href:Gt(()=>a.value.href),isActive:h,isExactActive:g,navigate:x}}const f0=fe({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Cl,setup(i,{slots:t}){const r=Re(Cl(i)),{options:a}=Pr(So),c=Gt(()=>({[El(i.activeClass,a.linkActiveClass,"router-link-active")]:r.isActive,[El(i.exactActiveClass,a.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const h=t.default&&t.default(r);return i.custom?h:Hl("a",{"aria-current":r.isExactActive?i.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:c.value},h)}}}),h0=f0;function d0(i){if(!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)&&!i.defaultPrevented&&!(i.button!==void 0&&i.button!==0)){if(i.currentTarget&&i.currentTarget.getAttribute){const t=i.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return i.preventDefault&&i.preventDefault(),!0}}function p0(i,t){for(const r in t){const a=t[r],c=i[r];if(typeof a=="string"){if(a!==c)return!1}else if(!Array.isArray(c)||c.length!==a.length||a.some((h,g)=>h!==c[g]))return!1}return!0}function Al(i){return i?i.aliasOf?i.aliasOf.path:i.path:""}const El=(i,t,r)=>i??t??r,g0=fe({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(i,{attrs:t,slots:r}){const a=Pr(_o),c=Gt(()=>i.route||a.value),h=Pr(pl,0),g=Gt(()=>c.value.matched[h]);ho(pl,h+1),ho(g_,g),ho(_o,c);const x=Vl();return l_(()=>[x.value,g.value,i.name],([w,R,y],[A,$,I])=>{R&&(R.instances[y]=w,$&&$!==R&&w&&w===A&&(R.leaveGuards.size||(R.leaveGuards=$.leaveGuards),R.updateGuards.size||(R.updateGuards=$.updateGuards))),w&&R&&(!$||!Jn(R,$)||!A)&&(R.enterCallbacks[y]||[]).forEach(W=>W(w))},{flush:"post"}),()=>{const w=c.value,R=g.value,y=R&&R.components[i.name],A=i.name;if(!y)return Rl(r.default,{Component:y,route:w});const $=R.props[i.name],I=$?$===!0?w.params:typeof $=="function"?$(w):$:null,pe=Hl(y,xe({},I,t,{onVnodeUnmounted:ee=>{ee.component.isUnmounted&&(R.instances[A]=null)},ref:x}));return Rl(r.default,{Component:pe,route:w})||pe}}});function Rl(i,t){if(!i)return null;const r=i(t);return r.length===1?r[0]:r}const m0=g0;function v0(i){const t=F_(i.routes,i),r=i.parseQuery||u0,a=i.stringifyQuery||kl,c=i.history,h=Ar(),g=Ar(),x=Ar(),w=u_(rn);let R=rn;Gn&&i.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const y=po.bind(null,P=>""+P),A=po.bind(null,a0),$=po.bind(null,Is);function I(P,D){let N,V;return Xl(P)?(N=t.getRecordMatcher(P),V=D):V=P,t.addRoute(V,N)}function W(P){const D=t.getRecordMatcher(P);D&&t.removeRoute(D)}function pe(){return t.getRoutes().map(P=>P.record)}function ee(P){return!!t.getRecordMatcher(P)}function j(P,D){if(D=xe({},D||w.value),typeof P=="string"){const J=go(r,P,D.path),Se=t.resolve({path:J.path},D),We=c.createHref(J.fullPath);return xe(J,Se,{params:$(Se.params),hash:Is(J.hash),redirectedFrom:void 0,href:We})}let N;if("path"in P)N=xe({},P,{path:go(r,P.path,D.path).path});else{const J=xe({},P.params);for(const Se in J)J[Se]==null&&delete J[Se];N=xe({},P,{params:A(P.params)}),D.params=A(D.params)}const V=t.resolve(N,D),he=P.hash||"";V.params=y($(V.params));const Pe=w_(a,xe({},P,{hash:s0(he),path:V.path})),te=c.createHref(Pe);return xe({fullPath:Pe,hash:he,query:a===kl?l0(P.query):P.query||{}},V,{redirectedFrom:void 0,href:te})}function re(P){return typeof P=="string"?go(r,P,w.value.path):xe({},P)}function ve(P,D){if(R!==P)return Xn(8,{from:D,to:P})}function Te(P){return Xe(P)}function Oe(P){return Te(xe(re(P),{replace:!0}))}function we(P){const D=P.matched[P.matched.length-1];if(D&&D.redirect){const{redirect:N}=D;let V=typeof N=="function"?N(P):N;return typeof V=="string"&&(V=V.includes("?")||V.includes("#")?V=re(V):{path:V},V.params={}),xe({query:P.query,hash:P.hash,params:P.params},V)}}function Xe(P,D){const N=R=j(P),V=w.value,he=P.state,Pe=P.force,te=P.replace===!0,J=we(N);if(J)return Xe(xe(re(J),{state:he,force:Pe,replace:te}),D||N);const Se=N;Se.redirectedFrom=D;let We;return!Pe&&b_(a,V,N)&&(We=Xn(16,{to:Se,from:V}),dn(V,V,!0,!1)),(We?Promise.resolve(We):Rn(Se,V)).catch(De=>sn(De)?sn(De,2)?De:rr(De):xt(De,Se,V)).then(De=>{if(De){if(sn(De,2))return Xe(xe(re(De.to),{state:he,force:Pe,replace:te}),D||Se)}else De=Nr(Se,V,!0,te,he);return Br(Se,V,De),De})}function hn(P,D){const N=ve(P,D);return N?Promise.reject(N):Promise.resolve()}function Rn(P,D){let N;const[V,he,Pe]=_0(P,D);N=mo(V.reverse(),"beforeRouteLeave",P,D);for(const J of V)J.leaveGuards.forEach(Se=>{N.push(an(Se,P,D))});const te=hn.bind(null,P,D);return N.push(te),zn(N).then(()=>{N=[];for(const J of h.list())N.push(an(J,P,D));return N.push(te),zn(N)}).then(()=>{N=mo(he,"beforeRouteUpdate",P,D);for(const J of he)J.updateGuards.forEach(Se=>{N.push(an(Se,P,D))});return N.push(te),zn(N)}).then(()=>{N=[];for(const J of P.matched)if(J.beforeEnter&&!D.matched.includes(J))if(Array.isArray(J.beforeEnter))for(const Se of J.beforeEnter)N.push(an(Se,P,D));else N.push(an(J.beforeEnter,P,D));return N.push(te),zn(N)}).then(()=>(P.matched.forEach(J=>J.enterCallbacks={}),N=mo(Pe,"beforeRouteEnter",P,D),N.push(te),zn(N))).then(()=>{N=[];for(const J of g.list())N.push(an(J,P,D));return N.push(te),zn(N)}).catch(J=>sn(J,8)?J:Promise.reject(J))}function Br(P,D,N){for(const V of x.list())V(P,D,N)}function Nr(P,D,N,V,he){const Pe=ve(P,D);if(Pe)return Pe;const te=D===rn,J=Gn?history.state:{};N&&(V||te?c.replace(P.fullPath,xe({scroll:te&&J&&J.scroll},he)):c.push(P.fullPath,he)),w.value=P,dn(P,D,N,te),rr()}let nr;function Fs(){nr=c.listen((P,D,N)=>{const V=j(P),he=we(V);if(he){Xe(xe(he,{replace:!0}),V).catch(Tr);return}R=V;const Pe=w.value;Gn&&S_(vl(Pe.fullPath,N.delta),Vs()),Rn(V,Pe).catch(te=>sn(te,12)?te:sn(te,2)?(Xe(te.to,V).then(J=>{sn(J,20)&&!N.delta&&N.type===Mr.pop&&c.go(-1,!1)}).catch(Tr),Promise.reject()):(N.delta&&c.go(-N.delta,!1),xt(te,V,Pe))).then(te=>{te=te||Nr(V,Pe,!1),te&&(N.delta?c.go(-N.delta,!1):N.type===Mr.pop&&sn(te,20)&&c.go(-1,!1)),Br(V,Pe,te)}).catch(Tr)})}let Sn=Ar(),qr=Ar(),$n;function xt(P,D,N){rr(P);const V=qr.list();return V.length?V.forEach(he=>he(P,D,N)):console.error(P),Promise.reject(P)}function St(){return $n&&w.value!==rn?Promise.resolve():new Promise((P,D)=>{Sn.add([P,D])})}function rr(P){return $n||($n=!P,Fs(),Sn.list().forEach(([D,N])=>P?N(P):D()),Sn.reset()),P}function dn(P,D,N,V){const{scrollBehavior:he}=i;if(!Gn||!he)return Promise.resolve();const Pe=!N&&$_(vl(P.fullPath,0))||(V||!N)&&history.state&&history.state.scroll||null;return Dl().then(()=>he(P,D,Pe)).then(te=>te&&R_(te)).catch(te=>xt(te,P,D))}const tt=P=>c.go(P);let sr;const ir=new Set;return{currentRoute:w,addRoute:I,removeRoute:W,hasRoute:ee,getRoutes:pe,resolve:j,options:i,push:Te,replace:Oe,go:tt,back:()=>tt(-1),forward:()=>tt(1),beforeEach:h.add,beforeResolve:g.add,afterEach:x.add,onError:qr.add,isReady:St,install(P){const D=this;P.component("RouterLink",h0),P.component("RouterView",m0),P.config.globalProperties.$router=D,Object.defineProperty(P.config.globalProperties,"$route",{enumerable:!0,get:()=>Ge(w)}),Gn&&!sr&&w.value===rn&&(sr=!0,Te(c.location).catch(he=>{}));const N={};for(const he in rn)N[he]=Gt(()=>w.value[he]);P.provide(So,D),P.provide(Kl,Re(N)),P.provide(_o,w);const V=P.unmount;ir.add(P),P.unmount=function(){ir.delete(P),ir.size<1&&(R=rn,nr&&nr(),w.value=rn,sr=!1,$n=!1),V()}}}}function zn(i){return i.reduce((t,r)=>t.then(()=>r()),Promise.resolve())}function _0(i,t){const r=[],a=[],c=[],h=Math.max(t.matched.length,i.matched.length);for(let g=0;g<h;g++){const x=t.matched[g];x&&(i.matched.find(R=>Jn(R,x))?a.push(x):r.push(x));const w=i.matched[g];w&&(t.matched.find(R=>Jn(R,w))||c.push(w))}return[r,a,c]}class un{constructor(){E(this,"+");E(this,"*");this["+"]=[0],this["*"]=[1]}static tryModify(t,r){const a=r.filter(g=>g.op==="+").map(g=>g.mod);a.push(0);const c=r.filter(g=>g.op==="*").map(g=>g.mod);c.push(1);const h=(t+a.reduce((g,x)=>g+x))*c.reduce((g,x)=>g*x);return h>=0?h:0}addModifiers(t){t.map(r=>{this[r.op].push(r.mod)})}removeModifiers(t){const r=this[t.op].findIndex(a=>a===t.mod);this[t.op].splice(r,1)}getModified(t){const r=(t+this["+"].reduce((a,c)=>a+c))*this["*"].reduce((a,c)=>a*c);return r>=0?r:0}}class Je{constructor(t,r,a){E(this,"_isChosen");E(this,"choice");E(this,"chooseInto");E(this,"_chosen");if(r.length<=0)throw new RangeError("Need at least one choice in 'choice' array");if(t<=0||t>r.length)throw new RangeError("'chooseInto' parameter must be greeter than zero and smaller than the size of the choice array");this._chosen=[],this._isChosen=!1,this.choice=r,this.chooseInto=t,a?this.setChosen(a):r.length===t&&this.setChosen(r.map((c,h)=>h))}setChosen(t){if(t.length!==this.chooseInto)throw new RangeError("'chosen' array must be same size of 'choosenInto' number");const r=t.filter(a=>a>=0&&a<this.choice.length);if(r.length!==t.length)throw new RangeError("Chosen array must be same includes only valid index of choice array");this._chosen=r,this._isChosen=!0}getChosen(){if(!this.isChosen())throw new RangeError("Possible choice is not chosen, call setChosen(...) or call PossibleChoose<"+typeof+"> constructor with chosen parameter");return this.choice.filter((t,r)=>this._chosen.includes(r))}getChosenId(){return this._chosen}isChosen(){return this._isChosen}getPossibleChoice(){return this.choice}resetChoices(){this._chosen=[],this._isChosen=!1}}class me{constructor(t,r){E(this,"name");E(this,"description");this.name=t,this.description=r}}class Bs extends me{constructor(r,a,c){super(r,a);E(this,"modifiers");this.modifiers=c||[]}}const Kn=class{constructor(){E(this,"hover");E(this,"calbackHover");this.hover=!1,this.calbackHover=()=>{}}static GetInstance(){return Kn.instance||(Kn.instance=new Kn),Kn.instance}tryChangeHover(t,r){return this.hover&&this.calbackHover(),this.calbackHover=r,this.hover=!t,!t}};let Be=Kn;E(Be,"instance");class xo extends Bs{constructor(r,a,c,h){super(r,a,c);E(this,"applyTo");this.applyTo=h||"notApply"}}class To{constructor(t){E(this,"identifier");E(this,"defaultChoice");E(this,"choices");E(this,"applyTo");E(this,"_choice");this.identifier=(t==null?void 0:t.identifier)||"unknown",this.choices=(t==null?void 0:t.choices)||[],this.applyTo=(t==null?void 0:t.applyTo)||"notApply",this.defaultChoice=(t==null?void 0:t.defaultChoice)||new xo("","",[],"notApply"),(t==null?void 0:t.choices)!==void 0&&t.choices.length>0?(this._choice=new Je(1,this.choices),this.setChosen(this.applyTo)):(this._choice=new Je(1,[this.defaultChoice]),this.setChosen(this.defaultChoice.applyTo))}resetChoices(){this.applyTo="notApply",this._choice.resetChoices()}setChosen(t){if(t!==void 0&&t!=="notApply"){const r=this._choice.getPossibleChoice().findIndex(a=>a.applyTo===t);this._choice.setChosen([r]),this.applyTo=this.getChosen().applyTo}}getChosen(){return this._choice.getChosen()[0]}isChosen(){return this.applyTo!=="notApply"}getInfos(){return this._choice.getPossibleChoice()}}class Us{constructor(t,r){E(this,"name");E(this,"dmg");E(this,"injury");E(this,"weight");E(this,"note");E(this,"rewardsMod");var a,c,h,g;this.name=(t==null?void 0:t.name)||"",this.dmg=(t==null?void 0:t.dmg)||0,this.injury={oneHand:(a=t==null?void 0:t.injury)!=null&&a.oneHand?(c=t==null?void 0:t.injury)==null?void 0:c.oneHand:0,twoHand:(h=t==null?void 0:t.injury)!=null&&h.twoHand?(g=t==null?void 0:t.injury)==null?void 0:g.twoHand:0},this.weight=(t==null?void 0:t.weight)||0,this.note=(t==null?void 0:t.note)||"",this.rewardsMod=[],t!=null&&t.rewardsMod&&r&&t.rewardsMod.map(x=>{if(x.identifier!="unknown"){const w=new To(r[x.identifier]);w.setChosen("weapon"),this.rewardsMod.push(w)}})}getValue(t){return t==="weaponDamage"?this.dmg:t==="weaponInjuryOneHand"?this.injury.oneHand:t==="weaponInjuryTwoHand"?this.injury.twoHand:0}getModifiedValue(t){const r=t,a=this.rewardsMod.map(c=>c.getChosen().modifiers).flatMap(c=>c.filter(h=>h.identifier===r));return un.tryModify(this.getValue(r),a)}}const w0=new me("Intrepide","Vos tests de VAILIANCE sont favorisés"),b0=new me("Précision elfique","Tant que votre Héros n'est pas Mélancolique, vous pouvez dépenser 1 point d'Espoir pour obtenir une Réussite magique lors d'un jet de Compétence"),x0=new me("La longue défaite","Durant la Phase de Communauté, lors de l'étape destinée à réduire les points d'Ombre cumulés par les Héros, vous ne pouvez perdre que 1 point d'Ombre"),y0=new me("Bon sens Hobbit","Vos tests de SAGESSE sont favorisés, et vous gagnez (1d) à vos tests d'Ombre lorsque vous tentez de résister à la Cupidité"),k0=new me("Semi-Hommes","Ne peut utiliser que : Arc, dague, épée courte, gourdin, hache, lance, lance courte, massue. De plus, les Semi-Hommes ne peuvent pas utiliser de grand bouclier."),C0=new me("Originaire de Bree","Chaque Homme de Bree de la Compagnie augmente la valeur de Communauté de 1 point"),A0=new me("Infatigable","Divisez par deux la valeur de Charge de l'armure du Héros quelle qu'elle soit, casque inclus, mais sans prendre en compte son bouclier (arrondir au supérieur)"),E0=new me("Naugrim","Un aventurier nain ne peut pas utiliser l'Attirail de guerre suivant : grand arc, grande lance, grand bouclier"),R0=new me("Rois des Hommes","Ajouter 1 points à un Attribut de votre choix"),S0=new me("Allégeance des Dünedain","Durant la Phase de Communauté (hormis Yule), le nombre maximal de points d'Espoir que vous pouvez récupérer est égal à la moitié de votre valeur de CŒUR (arrondir au supérieur)"),$0={intrepid:w0,elvenPrecision:b0,longDefeat:x0,goodSense:y0,semiMan:k0,fromBree:C0,tireless:A0,naugrim:E0,kingOfMen:R0,dunedainAllegiance:S0},T0={bardide:"Bardide",lindonElf:"Elfe de Lindon",hobbit:"Hobbit de la Compté",breeHuman:"Homme de Bree",durinDwarf:"Nain du peuple de Durin",northRanger:"Rodeur du nord"},Oo={poor:{name:"Pauvre",treasure:0},modest:{name:"Modeste",treasure:0},common:{name:"Courant",treasure:30},prosperous:{name:"Prospère",treasure:90},rich:{name:"Riche",treasure:180},veryRich:{name:"Très riche",treasure:300}},O0=i=>{let t="modest";for(const[r,a]of Object.entries(Oo))i>=a.treasure&&(t=r);return t};class ae{constructor(t){E(this,"strength");E(this,"heart");E(this,"mind");this.strength=(t==null?void 0:t.strength)||0,this.heart=(t==null?void 0:t.heart)||0,this.mind=(t==null?void 0:t.mind)||0}}class jn{constructor(t,r,a,c,h,g,x,w,R,y){E(this,"culture");E(this,"derivedCharacteristics");E(this,"combatSkills");E(this,"culturalAdvantages");E(this,"qualityLife");E(this,"attributesMaxValue");E(this,"attributesSample");E(this,"commonSkills");E(this,"favoredSkills");E(this,"possibleParticularities");this.culture=t,this.culturalAdvantages=r.map(A=>$0[A]),this.qualityLife=Oo[a],this.attributesMaxValue=c,this.attributesSample=h,this.derivedCharacteristics=g,this.commonSkills=x,this.favoredSkills=w,this.combatSkills=R,this.possibleParticularities=y}}class Qn{constructor(t,r,a,c){E(this,"name");E(this,"possibleFavoredSkill");E(this,"particularity");E(this,"shadowPath");this.name=t,this.possibleFavoredSkill=r,this.particularity=a,this.shadowPath=c}}const P0=new Qn(new me("Capitaine","Quand le monde est sur le point de s'effondrer, il est du devoir de tous les individus valeureux de prendre les rènes pour diriger, quels que soient les dangers. Vous avez choisi de mettre vos compétences au service de la communauté, guider les vôtres dans ces heures sombres. Mais vous souhaitez les voir suivre vos ordres non pas peur ou docilité, mais parce qu'ils vous font confiance."),new Je(2,["battle","enhearten","persuade"]),new me("Commandement","Vous avez développé la capacité de guider les autres dans leurs actions. Lors de situations tendues, les gens viennent spontanément vous demander que faire."),new me("Attrait du pouvoir","Qu'elle l'ait obtenue de par son rang, son ascendance ou sa renommée, une personne détentrice de l'autorité finit parfois par confondre l'intérêt général de ceux qu'elle est supposée guider ou protéger avec son ambition personnelle. Le pouvoir est l'essence même de la tentation : c'est pour l'Ombre un chemin rapide pour conquéir le cœur de ceux qui rêvent d'en acquérir toujours plus.")),M0=new Qn(new me("Champion","À vos yeux, il n'existe qu'une solution pour s'opposer au retour de l'Ombre : la conquérir par les armes. Ceux de votre peuple vous considèrent comme un vaillant guerrier, prompt au combat. Pour vous, le chemin de l'aventure doit mener sans ambages là où rôdent vos ennemis, jusque dans les lieux où ils se terrent."),new Je(2,["athletics","hunting","awe"]),new me("Connaissance des ennemis","Cette particularité fonctionne différemment des autres : vous devez choisir un type spécifique d'ennemis auquel elle s'applique dans la liste suivante : Araignées, Hommes Malfaisants, Morts-Visants, Orques, Trolls, Wargs. Elle vous permet de connaitre les caractéristiques, les habitudes, les forces et les faiblesses de votre ennemi de prédilection."),new me("Malédiction de la vengeance","Ceux qui vivent par l'épée sont toujours tentés de dégainer( que ce soit en paroles ou en actes ) à la moindre contrariété,ou estiment avoir subi un affront. Ils deviennentirascibles, la corruption s'étend peu à peu toute leur volontéet les condamne à réagir à chaque situation avec une violencesans cesse croissante")),L0=new Qn(new me("Chasseur de trésors","Les siècles passés ont été témoins de la gloire d'une myriade de rois nains et de seigneurs elfes : leur héritage git désormais dans des souterrains infestés d 'Orques. Ces trésors dérobés, d'or et de joyaux flamboyants, attirent la convoitise des plus audacieux, mais de terribles créatures les gardent... Vous êtes de ceux qui osent chercher et réclamer ces butins perdus, quand bien même il vous faudrait braver d'indicibles dangers."),new Je(2,["stealth","explore","scan"]),new me("Monte-en-l'air","Ce talent intemporel regroupe l'art de faire les poches, de crocheter les serrures, et d 'une manière générale tout moyen frauduleux permettant de s'emparer des biens d'autrui ou d'accéder à des lieux protégés."),new me("Mal du dragon","Les aventuriers en quête de trésors perdus courent le risque d'attraper cette vieille maladie qui transforrne un amas d'or enchanté en un tas de cendres amères. Plus l'Ombre resserre son étreinte autour du cœur de sa cible, plus le monde s'étrécit autour d'elle et de son précieux butin, l'isolant dans la folie.")),I0=new Qn(new me("Messager","Le Sage soutient que les mauvais jours sont encore devant nous et que pour garder espoir, tous ceux qui luttent contre l'Ennemi doivent être soudés. Mais pour le moment, les siècles vécus dans l'isolement par les Peuples Libres empêchent leur union tout autant que les nombreuses lieues qui les séparent ; or l'éloignement génère de la méfiance. Vous avez décidé qu'il était de votre devoir de parcourir les contrées éloignées pour colporter des nouvelles du monde et prévenir ceux qui y habitent du danger à venir."),new Je(2,["song","courtesy","travel"]),new me("Folklore","Au fil de vos errances, vous avez appris de nombreuses coutumes et traditions, légendes et croyances des diverses communautés qui composent les Peuples Libres ; quand vous avez affaire à des étrangers, vous êtes à même de puiser dans cette somme de folklores les informations utiles sur leur culture (par exemple pour résoudre un conflit) ou de vagues notions de leur langue (pour mieux communiquer)."),new me("Folie itinérante","Un Messager peut tout à fait avoir ambition de voyager de par le monde ; toutefois, il prend le risque de ne jamais trouver d'endroit qui vaille la peine, à ses yeux, de s'y impliquer ou le défendre. La route ne finit jamais, bien sûr ; mais alors, où aller ?")),B0=new Qn(new me("Protecteur","Alors que d'année en année les ombres s'épaississent, vous avez fait le serment de protéger tous ceux qui ne peuvent pas se défendre par eux-mêmes. Cette promesse vous force souvent à délaisser le monde civilisé et ses habitants, pour repousser ce qui se tapit à l'extérieur de la ville. Mais peu à peu, vous êtes devenu un étranger à leurs yeux : votre silhouette leur paraît désormais aussi menaçante que les créatures contre lesquelles vous luttez."),new Je(2,["insight","healing","awareness"]),new me("Conscience de l'ombre","Vous avez pris conscience de l'existence d'une puissance cachée qui rassemble sous sa bannière tous les êtres de la Terre du Milieu malfaisants et effroyables, sombres et ténébreux ; et qu'au fil des années cette menace étend son pouvoir. Les Sages partagent avec vous cette conscience, et tous s'accordent pour dire que la situation devient chaque jour plus évidente."),new me("Voie du désespoir","L'un des stratagèmes les plus fréquents de l'Ombre pour corrompre le cœur de ses adversaires consiste à les faire douter d'eux-mêmes. Car au fond, ils savent bien combien l'Ennemi est puissant et effroyable ; ils n'ignorent pas que le jour où ils disparaitront, ceux qu'ils protègent seront trop naifs ou trop faibles pour se défendre par eux-mêmes. Alors ils finissent par se demander chaque jour : suis-je assez fort pour pouvoir triompher un jour, ou vais-je emporter dans ma chute les innocents que j'avais juré de protéger ?")),N0=new Qn(new me("Erudit","Le savoir est ce qui vous permet de rendre la sauvagerie du monde moins effroyable : les carte jaunies des grimoires oubliés remplacent la peur de l'inconnu par de la curiosité et de l'émerveillement, les chansons composées dans les temps jadis enhardissent les cœurs les plus éreintés. Le désir d'apprendre guide chacun de vos pas et illumine votre voie, montrant le chemin à ceux qui écoutent vos conseils."),new Je(2,["craft","lore","riddle"]),new me("Rimes de savoir","Il s'agit de courts versets créés par la plupart des cultures afin de mémoriser les événements importants de l'histoire ancienne, qui sans ça auraient été oubliés. Les Érudits de la Terre du Milieu doivent une grande partie de leur connaissance du passé à l'existence de telles rimes."),new me("Attrait des secret","Il est souhaitable d'avoir pour vertus une curiosité intellectuelle et un grand appétit de connaissances ; mais manipulé par l'Ombre, le savoir peut s'avérer pernicieux : une personne lettrée se met alors à mépriser les autres, à les considérer comme des idiots incultes. Les secrets restent l'appât le plus dangereux, car le désir ardent de les percer peut corrompre même les cœurs les plus nobles.")),q0={captain:P0,champion:M0,treasureHunter:L0,messenger:I0,protector:B0,savant:N0};var Er=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ns={},D0={get exports(){return Ns},set exports(i){Ns=i}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(i,t){(function(){var r,a="4.17.21",c=200,h="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",g="Expected a function",x="Invalid `variable` option passed into `_.template`",w="__lodash_hash_undefined__",R=500,y="__lodash_placeholder__",A=1,$=2,I=4,W=1,pe=2,ee=1,j=2,re=4,ve=8,Te=16,Oe=32,we=64,Xe=128,hn=256,Rn=512,Br=30,Nr="...",nr=800,Fs=16,Sn=1,qr=2,$n=3,xt=1/0,St=9007199254740991,rr=17976931348623157e292,dn=0/0,tt=4294967295,sr=tt-1,ir=tt>>>1,No=[["ary",Xe],["bind",ee],["bindKey",j],["curry",ve],["curryRight",Te],["flip",Rn],["partial",Oe],["partialRight",we],["rearg",hn]],P="[object Arguments]",D="[object Array]",N="[object AsyncFunction]",V="[object Boolean]",he="[object Date]",Pe="[object DOMException]",te="[object Error]",J="[object Function]",Se="[object GeneratorFunction]",We="[object Map]",De="[object Number]",yc="[object Null]",It="[object Object]",qo="[object Promise]",kc="[object Proxy]",or="[object RegExp]",yt="[object Set]",ar="[object String]",Dr="[object Symbol]",Cc="[object Undefined]",ur="[object WeakMap]",Ac="[object WeakSet]",lr="[object ArrayBuffer]",Tn="[object DataView]",zs="[object Float32Array]",Gs="[object Float64Array]",Ks="[object Int8Array]",Ys="[object Int16Array]",Js="[object Int32Array]",Xs="[object Uint8Array]",Zs="[object Uint8ClampedArray]",js="[object Uint16Array]",Qs="[object Uint32Array]",Ec=/\b__p \+= '';/g,Rc=/\b(__p \+=) '' \+/g,Sc=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Do=/&(?:amp|lt|gt|quot|#39);/g,Ho=/[&<>"']/g,$c=RegExp(Do.source),Tc=RegExp(Ho.source),Oc=/<%-([\s\S]+?)%>/g,Pc=/<%([\s\S]+?)%>/g,Vo=/<%=([\s\S]+?)%>/g,Mc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Lc=/^\w*$/,Ic=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ei=/[\\^$.*+?()[\]{}|]/g,Bc=RegExp(ei.source),ti=/^\s+/,Nc=/\s/,qc=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Dc=/\{\n\/\* \[wrapped with (.+)\] \*/,Hc=/,? & /,Vc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Uc=/[()=,{}\[\]\/\s]/,Wc=/\\(\\)?/g,Fc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Uo=/\w*$/,zc=/^[-+]0x[0-9a-f]+$/i,Gc=/^0b[01]+$/i,Kc=/^\[object .+?Constructor\]$/,Yc=/^0o[0-7]+$/i,Jc=/^(?:0|[1-9]\d*)$/,Xc=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Hr=/($^)/,Zc=/['\n\r\u2028\u2029\\]/g,Vr="\\ud800-\\udfff",jc="\\u0300-\\u036f",Qc="\\ufe20-\\ufe2f",ef="\\u20d0-\\u20ff",Wo=jc+Qc+ef,Fo="\\u2700-\\u27bf",zo="a-z\\xdf-\\xf6\\xf8-\\xff",tf="\\xac\\xb1\\xd7\\xf7",nf="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rf="\\u2000-\\u206f",sf=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Go="A-Z\\xc0-\\xd6\\xd8-\\xde",Ko="\\ufe0e\\ufe0f",Yo=tf+nf+rf+sf,ni="['’]",of="["+Vr+"]",Jo="["+Yo+"]",Ur="["+Wo+"]",Xo="\\d+",af="["+Fo+"]",Zo="["+zo+"]",jo="[^"+Vr+Yo+Xo+Fo+zo+Go+"]",ri="\\ud83c[\\udffb-\\udfff]",uf="(?:"+Ur+"|"+ri+")",Qo="[^"+Vr+"]",si="(?:\\ud83c[\\udde6-\\uddff]){2}",ii="[\\ud800-\\udbff][\\udc00-\\udfff]",On="["+Go+"]",ea="\\u200d",ta="(?:"+Zo+"|"+jo+")",lf="(?:"+On+"|"+jo+")",na="(?:"+ni+"(?:d|ll|m|re|s|t|ve))?",ra="(?:"+ni+"(?:D|LL|M|RE|S|T|VE))?",sa=uf+"?",ia="["+Ko+"]?",cf="(?:"+ea+"(?:"+[Qo,si,ii].join("|")+")"+ia+sa+")*",ff="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",hf="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",oa=ia+sa+cf,df="(?:"+[af,si,ii].join("|")+")"+oa,pf="(?:"+[Qo+Ur+"?",Ur,si,ii,of].join("|")+")",gf=RegExp(ni,"g"),mf=RegExp(Ur,"g"),oi=RegExp(ri+"(?="+ri+")|"+pf+oa,"g"),vf=RegExp([On+"?"+Zo+"+"+na+"(?="+[Jo,On,"$"].join("|")+")",lf+"+"+ra+"(?="+[Jo,On+ta,"$"].join("|")+")",On+"?"+ta+"+"+na,On+"+"+ra,hf,ff,Xo,df].join("|"),"g"),_f=RegExp("["+ea+Vr+Wo+Ko+"]"),wf=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,bf=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xf=-1,ke={};ke[zs]=ke[Gs]=ke[Ks]=ke[Ys]=ke[Js]=ke[Xs]=ke[Zs]=ke[js]=ke[Qs]=!0,ke[P]=ke[D]=ke[lr]=ke[V]=ke[Tn]=ke[he]=ke[te]=ke[J]=ke[We]=ke[De]=ke[It]=ke[or]=ke[yt]=ke[ar]=ke[ur]=!1;var ye={};ye[P]=ye[D]=ye[lr]=ye[Tn]=ye[V]=ye[he]=ye[zs]=ye[Gs]=ye[Ks]=ye[Ys]=ye[Js]=ye[We]=ye[De]=ye[It]=ye[or]=ye[yt]=ye[ar]=ye[Dr]=ye[Xs]=ye[Zs]=ye[js]=ye[Qs]=!0,ye[te]=ye[J]=ye[ur]=!1;var yf={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},kf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Cf={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Af={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ef=parseFloat,Rf=parseInt,aa=typeof Er=="object"&&Er&&Er.Object===Object&&Er,Sf=typeof self=="object"&&self&&self.Object===Object&&self,Fe=aa||Sf||Function("return this")(),ai=t&&!t.nodeType&&t,pn=ai&&!0&&i&&!i.nodeType&&i,ua=pn&&pn.exports===ai,ui=ua&&aa.process,ht=function(){try{var v=pn&&pn.require&&pn.require("util").types;return v||ui&&ui.binding&&ui.binding("util")}catch{}}(),la=ht&&ht.isArrayBuffer,ca=ht&&ht.isDate,fa=ht&&ht.isMap,ha=ht&&ht.isRegExp,da=ht&&ht.isSet,pa=ht&&ht.isTypedArray;function ot(v,S,C){switch(C.length){case 0:return v.call(S);case 1:return v.call(S,C[0]);case 2:return v.call(S,C[0],C[1]);case 3:return v.call(S,C[0],C[1],C[2])}return v.apply(S,C)}function $f(v,S,C,q){for(var K=-1,le=v==null?0:v.length;++K<le;){var Ne=v[K];S(q,Ne,C(Ne),v)}return q}function dt(v,S){for(var C=-1,q=v==null?0:v.length;++C<q&&S(v[C],C,v)!==!1;);return v}function Tf(v,S){for(var C=v==null?0:v.length;C--&&S(v[C],C,v)!==!1;);return v}function ga(v,S){for(var C=-1,q=v==null?0:v.length;++C<q;)if(!S(v[C],C,v))return!1;return!0}function Yt(v,S){for(var C=-1,q=v==null?0:v.length,K=0,le=[];++C<q;){var Ne=v[C];S(Ne,C,v)&&(le[K++]=Ne)}return le}function Wr(v,S){var C=v==null?0:v.length;return!!C&&Pn(v,S,0)>-1}function li(v,S,C){for(var q=-1,K=v==null?0:v.length;++q<K;)if(C(S,v[q]))return!0;return!1}function Ce(v,S){for(var C=-1,q=v==null?0:v.length,K=Array(q);++C<q;)K[C]=S(v[C],C,v);return K}function Jt(v,S){for(var C=-1,q=S.length,K=v.length;++C<q;)v[K+C]=S[C];return v}function ci(v,S,C,q){var K=-1,le=v==null?0:v.length;for(q&&le&&(C=v[++K]);++K<le;)C=S(C,v[K],K,v);return C}function Of(v,S,C,q){var K=v==null?0:v.length;for(q&&K&&(C=v[--K]);K--;)C=S(C,v[K],K,v);return C}function fi(v,S){for(var C=-1,q=v==null?0:v.length;++C<q;)if(S(v[C],C,v))return!0;return!1}var Pf=hi("length");function Mf(v){return v.split("")}function Lf(v){return v.match(Vc)||[]}function ma(v,S,C){var q;return C(v,function(K,le,Ne){if(S(K,le,Ne))return q=le,!1}),q}function Fr(v,S,C,q){for(var K=v.length,le=C+(q?1:-1);q?le--:++le<K;)if(S(v[le],le,v))return le;return-1}function Pn(v,S,C){return S===S?Gf(v,S,C):Fr(v,va,C)}function If(v,S,C,q){for(var K=C-1,le=v.length;++K<le;)if(q(v[K],S))return K;return-1}function va(v){return v!==v}function _a(v,S){var C=v==null?0:v.length;return C?pi(v,S)/C:dn}function hi(v){return function(S){return S==null?r:S[v]}}function di(v){return function(S){return v==null?r:v[S]}}function wa(v,S,C,q,K){return K(v,function(le,Ne,be){C=q?(q=!1,le):S(C,le,Ne,be)}),C}function Bf(v,S){var C=v.length;for(v.sort(S);C--;)v[C]=v[C].value;return v}function pi(v,S){for(var C,q=-1,K=v.length;++q<K;){var le=S(v[q]);le!==r&&(C=C===r?le:C+le)}return C}function gi(v,S){for(var C=-1,q=Array(v);++C<v;)q[C]=S(C);return q}function Nf(v,S){return Ce(S,function(C){return[C,v[C]]})}function ba(v){return v&&v.slice(0,Ca(v)+1).replace(ti,"")}function at(v){return function(S){return v(S)}}function mi(v,S){return Ce(S,function(C){return v[C]})}function cr(v,S){return v.has(S)}function xa(v,S){for(var C=-1,q=v.length;++C<q&&Pn(S,v[C],0)>-1;);return C}function ya(v,S){for(var C=v.length;C--&&Pn(S,v[C],0)>-1;);return C}function qf(v,S){for(var C=v.length,q=0;C--;)v[C]===S&&++q;return q}var Df=di(yf),Hf=di(kf);function Vf(v){return"\\"+Af[v]}function Uf(v,S){return v==null?r:v[S]}function Mn(v){return _f.test(v)}function Wf(v){return wf.test(v)}function Ff(v){for(var S,C=[];!(S=v.next()).done;)C.push(S.value);return C}function vi(v){var S=-1,C=Array(v.size);return v.forEach(function(q,K){C[++S]=[K,q]}),C}function ka(v,S){return function(C){return v(S(C))}}function Xt(v,S){for(var C=-1,q=v.length,K=0,le=[];++C<q;){var Ne=v[C];(Ne===S||Ne===y)&&(v[C]=y,le[K++]=C)}return le}function zr(v){var S=-1,C=Array(v.size);return v.forEach(function(q){C[++S]=q}),C}function zf(v){var S=-1,C=Array(v.size);return v.forEach(function(q){C[++S]=[q,q]}),C}function Gf(v,S,C){for(var q=C-1,K=v.length;++q<K;)if(v[q]===S)return q;return-1}function Kf(v,S,C){for(var q=C+1;q--;)if(v[q]===S)return q;return q}function Ln(v){return Mn(v)?Jf(v):Pf(v)}function kt(v){return Mn(v)?Xf(v):Mf(v)}function Ca(v){for(var S=v.length;S--&&Nc.test(v.charAt(S)););return S}var Yf=di(Cf);function Jf(v){for(var S=oi.lastIndex=0;oi.test(v);)++S;return S}function Xf(v){return v.match(oi)||[]}function Zf(v){return v.match(vf)||[]}var jf=function v(S){S=S==null?Fe:In.defaults(Fe.Object(),S,In.pick(Fe,bf));var C=S.Array,q=S.Date,K=S.Error,le=S.Function,Ne=S.Math,be=S.Object,_i=S.RegExp,Qf=S.String,pt=S.TypeError,Gr=C.prototype,eh=le.prototype,Bn=be.prototype,Kr=S["__core-js_shared__"],Yr=eh.toString,ge=Bn.hasOwnProperty,th=0,Aa=function(){var e=/[^.]+$/.exec(Kr&&Kr.keys&&Kr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Jr=Bn.toString,nh=Yr.call(be),rh=Fe._,sh=_i("^"+Yr.call(ge).replace(ei,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Xr=ua?S.Buffer:r,Zt=S.Symbol,Zr=S.Uint8Array,Ea=Xr?Xr.allocUnsafe:r,jr=ka(be.getPrototypeOf,be),Ra=be.create,Sa=Bn.propertyIsEnumerable,Qr=Gr.splice,$a=Zt?Zt.isConcatSpreadable:r,fr=Zt?Zt.iterator:r,gn=Zt?Zt.toStringTag:r,es=function(){try{var e=bn(be,"defineProperty");return e({},"",{}),e}catch{}}(),ih=S.clearTimeout!==Fe.clearTimeout&&S.clearTimeout,oh=q&&q.now!==Fe.Date.now&&q.now,ah=S.setTimeout!==Fe.setTimeout&&S.setTimeout,ts=Ne.ceil,ns=Ne.floor,wi=be.getOwnPropertySymbols,uh=Xr?Xr.isBuffer:r,Ta=S.isFinite,lh=Gr.join,ch=ka(be.keys,be),qe=Ne.max,Ke=Ne.min,fh=q.now,hh=S.parseInt,Oa=Ne.random,dh=Gr.reverse,bi=bn(S,"DataView"),hr=bn(S,"Map"),xi=bn(S,"Promise"),Nn=bn(S,"Set"),dr=bn(S,"WeakMap"),pr=bn(be,"create"),rs=dr&&new dr,qn={},ph=xn(bi),gh=xn(hr),mh=xn(xi),vh=xn(Nn),_h=xn(dr),ss=Zt?Zt.prototype:r,gr=ss?ss.valueOf:r,Pa=ss?ss.toString:r;function l(e){if($e(e)&&!Y(e)&&!(e instanceof se)){if(e instanceof gt)return e;if(ge.call(e,"__wrapped__"))return Mu(e)}return new gt(e)}var Dn=function(){function e(){}return function(n){if(!Ee(n))return{};if(Ra)return Ra(n);e.prototype=n;var s=new e;return e.prototype=r,s}}();function is(){}function gt(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=r}l.templateSettings={escape:Oc,evaluate:Pc,interpolate:Vo,variable:"",imports:{_:l}},l.prototype=is.prototype,l.prototype.constructor=l,gt.prototype=Dn(is.prototype),gt.prototype.constructor=gt;function se(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=tt,this.__views__=[]}function wh(){var e=new se(this.__wrapped__);return e.__actions__=nt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=nt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=nt(this.__views__),e}function bh(){if(this.__filtered__){var e=new se(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function xh(){var e=this.__wrapped__.value(),n=this.__dir__,s=Y(e),o=n<0,u=s?e.length:0,f=Md(0,u,this.__views__),p=f.start,m=f.end,_=m-p,T=o?m:p-1,O=this.__iteratees__,M=O.length,B=0,H=Ke(_,this.__takeCount__);if(!s||!o&&u==_&&H==_)return nu(e,this.__actions__);var z=[];e:for(;_--&&B<H;){T+=n;for(var Z=-1,G=e[T];++Z<M;){var ne=O[Z],ue=ne.iteratee,ct=ne.type,Qe=ue(G);if(ct==qr)G=Qe;else if(!Qe){if(ct==Sn)continue e;break e}}z[B++]=G}return z}se.prototype=Dn(is.prototype),se.prototype.constructor=se;function mn(e){var n=-1,s=e==null?0:e.length;for(this.clear();++n<s;){var o=e[n];this.set(o[0],o[1])}}function yh(){this.__data__=pr?pr(null):{},this.size=0}function kh(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}function Ch(e){var n=this.__data__;if(pr){var s=n[e];return s===w?r:s}return ge.call(n,e)?n[e]:r}function Ah(e){var n=this.__data__;return pr?n[e]!==r:ge.call(n,e)}function Eh(e,n){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=pr&&n===r?w:n,this}mn.prototype.clear=yh,mn.prototype.delete=kh,mn.prototype.get=Ch,mn.prototype.has=Ah,mn.prototype.set=Eh;function Bt(e){var n=-1,s=e==null?0:e.length;for(this.clear();++n<s;){var o=e[n];this.set(o[0],o[1])}}function Rh(){this.__data__=[],this.size=0}function Sh(e){var n=this.__data__,s=os(n,e);if(s<0)return!1;var o=n.length-1;return s==o?n.pop():Qr.call(n,s,1),--this.size,!0}function $h(e){var n=this.__data__,s=os(n,e);return s<0?r:n[s][1]}function Th(e){return os(this.__data__,e)>-1}function Oh(e,n){var s=this.__data__,o=os(s,e);return o<0?(++this.size,s.push([e,n])):s[o][1]=n,this}Bt.prototype.clear=Rh,Bt.prototype.delete=Sh,Bt.prototype.get=$h,Bt.prototype.has=Th,Bt.prototype.set=Oh;function Nt(e){var n=-1,s=e==null?0:e.length;for(this.clear();++n<s;){var o=e[n];this.set(o[0],o[1])}}function Ph(){this.size=0,this.__data__={hash:new mn,map:new(hr||Bt),string:new mn}}function Mh(e){var n=_s(this,e).delete(e);return this.size-=n?1:0,n}function Lh(e){return _s(this,e).get(e)}function Ih(e){return _s(this,e).has(e)}function Bh(e,n){var s=_s(this,e),o=s.size;return s.set(e,n),this.size+=s.size==o?0:1,this}Nt.prototype.clear=Ph,Nt.prototype.delete=Mh,Nt.prototype.get=Lh,Nt.prototype.has=Ih,Nt.prototype.set=Bh;function vn(e){var n=-1,s=e==null?0:e.length;for(this.__data__=new Nt;++n<s;)this.add(e[n])}function Nh(e){return this.__data__.set(e,w),this}function qh(e){return this.__data__.has(e)}vn.prototype.add=vn.prototype.push=Nh,vn.prototype.has=qh;function Ct(e){var n=this.__data__=new Bt(e);this.size=n.size}function Dh(){this.__data__=new Bt,this.size=0}function Hh(e){var n=this.__data__,s=n.delete(e);return this.size=n.size,s}function Vh(e){return this.__data__.get(e)}function Uh(e){return this.__data__.has(e)}function Wh(e,n){var s=this.__data__;if(s instanceof Bt){var o=s.__data__;if(!hr||o.length<c-1)return o.push([e,n]),this.size=++s.size,this;s=this.__data__=new Nt(o)}return s.set(e,n),this.size=s.size,this}Ct.prototype.clear=Dh,Ct.prototype.delete=Hh,Ct.prototype.get=Vh,Ct.prototype.has=Uh,Ct.prototype.set=Wh;function Ma(e,n){var s=Y(e),o=!s&&yn(e),u=!s&&!o&&nn(e),f=!s&&!o&&!u&&Wn(e),p=s||o||u||f,m=p?gi(e.length,Qf):[],_=m.length;for(var T in e)(n||ge.call(e,T))&&!(p&&(T=="length"||u&&(T=="offset"||T=="parent")||f&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||Vt(T,_)))&&m.push(T);return m}function La(e){var n=e.length;return n?e[Pi(0,n-1)]:r}function Fh(e,n){return ws(nt(e),_n(n,0,e.length))}function zh(e){return ws(nt(e))}function yi(e,n,s){(s!==r&&!At(e[n],s)||s===r&&!(n in e))&&qt(e,n,s)}function mr(e,n,s){var o=e[n];(!(ge.call(e,n)&&At(o,s))||s===r&&!(n in e))&&qt(e,n,s)}function os(e,n){for(var s=e.length;s--;)if(At(e[s][0],n))return s;return-1}function Gh(e,n,s,o){return jt(e,function(u,f,p){n(o,u,s(u),p)}),o}function Ia(e,n){return e&&Tt(n,He(n),e)}function Kh(e,n){return e&&Tt(n,st(n),e)}function qt(e,n,s){n=="__proto__"&&es?es(e,n,{configurable:!0,enumerable:!0,value:s,writable:!0}):e[n]=s}function ki(e,n){for(var s=-1,o=n.length,u=C(o),f=e==null;++s<o;)u[s]=f?r:ro(e,n[s]);return u}function _n(e,n,s){return e===e&&(s!==r&&(e=e<=s?e:s),n!==r&&(e=e>=n?e:n)),e}function mt(e,n,s,o,u,f){var p,m=n&A,_=n&$,T=n&I;if(s&&(p=u?s(e,o,u,f):s(e)),p!==r)return p;if(!Ee(e))return e;var O=Y(e);if(O){if(p=Id(e),!m)return nt(e,p)}else{var M=Ye(e),B=M==J||M==Se;if(nn(e))return iu(e,m);if(M==It||M==P||B&&!u){if(p=_||B?{}:Cu(e),!m)return _?Cd(e,Kh(p,e)):kd(e,Ia(p,e))}else{if(!ye[M])return u?e:{};p=Bd(e,M,m)}}f||(f=new Ct);var H=f.get(e);if(H)return H;f.set(e,p),Qu(e)?e.forEach(function(G){p.add(mt(G,n,s,G,e,f))}):Zu(e)&&e.forEach(function(G,ne){p.set(ne,mt(G,n,s,ne,e,f))});var z=T?_?Wi:Ui:_?st:He,Z=O?r:z(e);return dt(Z||e,function(G,ne){Z&&(ne=G,G=e[ne]),mr(p,ne,mt(G,n,s,ne,e,f))}),p}function Yh(e){var n=He(e);return function(s){return Ba(s,e,n)}}function Ba(e,n,s){var o=s.length;if(e==null)return!o;for(e=be(e);o--;){var u=s[o],f=n[u],p=e[u];if(p===r&&!(u in e)||!f(p))return!1}return!0}function Na(e,n,s){if(typeof e!="function")throw new pt(g);return kr(function(){e.apply(r,s)},n)}function vr(e,n,s,o){var u=-1,f=Wr,p=!0,m=e.length,_=[],T=n.length;if(!m)return _;s&&(n=Ce(n,at(s))),o?(f=li,p=!1):n.length>=c&&(f=cr,p=!1,n=new vn(n));e:for(;++u<m;){var O=e[u],M=s==null?O:s(O);if(O=o||O!==0?O:0,p&&M===M){for(var B=T;B--;)if(n[B]===M)continue e;_.push(O)}else f(n,M,o)||_.push(O)}return _}var jt=cu($t),qa=cu(Ai,!0);function Jh(e,n){var s=!0;return jt(e,function(o,u,f){return s=!!n(o,u,f),s}),s}function as(e,n,s){for(var o=-1,u=e.length;++o<u;){var f=e[o],p=n(f);if(p!=null&&(m===r?p===p&&!lt(p):s(p,m)))var m=p,_=f}return _}function Xh(e,n,s,o){var u=e.length;for(s=X(s),s<0&&(s=-s>u?0:u+s),o=o===r||o>u?u:X(o),o<0&&(o+=u),o=s>o?0:tl(o);s<o;)e[s++]=n;return e}function Da(e,n){var s=[];return jt(e,function(o,u,f){n(o,u,f)&&s.push(o)}),s}function ze(e,n,s,o,u){var f=-1,p=e.length;for(s||(s=qd),u||(u=[]);++f<p;){var m=e[f];n>0&&s(m)?n>1?ze(m,n-1,s,o,u):Jt(u,m):o||(u[u.length]=m)}return u}var Ci=fu(),Ha=fu(!0);function $t(e,n){return e&&Ci(e,n,He)}function Ai(e,n){return e&&Ha(e,n,He)}function us(e,n){return Yt(n,function(s){return Ut(e[s])})}function wn(e,n){n=en(n,e);for(var s=0,o=n.length;e!=null&&s<o;)e=e[Ot(n[s++])];return s&&s==o?e:r}function Va(e,n,s){var o=n(e);return Y(e)?o:Jt(o,s(e))}function Ze(e){return e==null?e===r?Cc:yc:gn&&gn in be(e)?Pd(e):zd(e)}function Ei(e,n){return e>n}function Zh(e,n){return e!=null&&ge.call(e,n)}function jh(e,n){return e!=null&&n in be(e)}function Qh(e,n,s){return e>=Ke(n,s)&&e<qe(n,s)}function Ri(e,n,s){for(var o=s?li:Wr,u=e[0].length,f=e.length,p=f,m=C(f),_=1/0,T=[];p--;){var O=e[p];p&&n&&(O=Ce(O,at(n))),_=Ke(O.length,_),m[p]=!s&&(n||u>=120&&O.length>=120)?new vn(p&&O):r}O=e[0];var M=-1,B=m[0];e:for(;++M<u&&T.length<_;){var H=O[M],z=n?n(H):H;if(H=s||H!==0?H:0,!(B?cr(B,z):o(T,z,s))){for(p=f;--p;){var Z=m[p];if(!(Z?cr(Z,z):o(e[p],z,s)))continue e}B&&B.push(z),T.push(H)}}return T}function ed(e,n,s,o){return $t(e,function(u,f,p){n(o,s(u),f,p)}),o}function _r(e,n,s){n=en(n,e),e=Su(e,n);var o=e==null?e:e[Ot(_t(n))];return o==null?r:ot(o,e,s)}function Ua(e){return $e(e)&&Ze(e)==P}function td(e){return $e(e)&&Ze(e)==lr}function nd(e){return $e(e)&&Ze(e)==he}function wr(e,n,s,o,u){return e===n?!0:e==null||n==null||!$e(e)&&!$e(n)?e!==e&&n!==n:rd(e,n,s,o,wr,u)}function rd(e,n,s,o,u,f){var p=Y(e),m=Y(n),_=p?D:Ye(e),T=m?D:Ye(n);_=_==P?It:_,T=T==P?It:T;var O=_==It,M=T==It,B=_==T;if(B&&nn(e)){if(!nn(n))return!1;p=!0,O=!1}if(B&&!O)return f||(f=new Ct),p||Wn(e)?xu(e,n,s,o,u,f):Td(e,n,_,s,o,u,f);if(!(s&W)){var H=O&&ge.call(e,"__wrapped__"),z=M&&ge.call(n,"__wrapped__");if(H||z){var Z=H?e.value():e,G=z?n.value():n;return f||(f=new Ct),u(Z,G,s,o,f)}}return B?(f||(f=new Ct),Od(e,n,s,o,u,f)):!1}function sd(e){return $e(e)&&Ye(e)==We}function Si(e,n,s,o){var u=s.length,f=u,p=!o;if(e==null)return!f;for(e=be(e);u--;){var m=s[u];if(p&&m[2]?m[1]!==e[m[0]]:!(m[0]in e))return!1}for(;++u<f;){m=s[u];var _=m[0],T=e[_],O=m[1];if(p&&m[2]){if(T===r&&!(_ in e))return!1}else{var M=new Ct;if(o)var B=o(T,O,_,e,n,M);if(!(B===r?wr(O,T,W|pe,o,M):B))return!1}}return!0}function Wa(e){if(!Ee(e)||Hd(e))return!1;var n=Ut(e)?sh:Kc;return n.test(xn(e))}function id(e){return $e(e)&&Ze(e)==or}function od(e){return $e(e)&&Ye(e)==yt}function ad(e){return $e(e)&&As(e.length)&&!!ke[Ze(e)]}function Fa(e){return typeof e=="function"?e:e==null?it:typeof e=="object"?Y(e)?Ka(e[0],e[1]):Ga(e):hl(e)}function $i(e){if(!yr(e))return ch(e);var n=[];for(var s in be(e))ge.call(e,s)&&s!="constructor"&&n.push(s);return n}function ud(e){if(!Ee(e))return Fd(e);var n=yr(e),s=[];for(var o in e)o=="constructor"&&(n||!ge.call(e,o))||s.push(o);return s}function Ti(e,n){return e<n}function za(e,n){var s=-1,o=rt(e)?C(e.length):[];return jt(e,function(u,f,p){o[++s]=n(u,f,p)}),o}function Ga(e){var n=zi(e);return n.length==1&&n[0][2]?Eu(n[0][0],n[0][1]):function(s){return s===e||Si(s,e,n)}}function Ka(e,n){return Ki(e)&&Au(n)?Eu(Ot(e),n):function(s){var o=ro(s,e);return o===r&&o===n?so(s,e):wr(n,o,W|pe)}}function ls(e,n,s,o,u){e!==n&&Ci(n,function(f,p){if(u||(u=new Ct),Ee(f))ld(e,n,p,s,ls,o,u);else{var m=o?o(Ji(e,p),f,p+"",e,n,u):r;m===r&&(m=f),yi(e,p,m)}},st)}function ld(e,n,s,o,u,f,p){var m=Ji(e,s),_=Ji(n,s),T=p.get(_);if(T){yi(e,s,T);return}var O=f?f(m,_,s+"",e,n,p):r,M=O===r;if(M){var B=Y(_),H=!B&&nn(_),z=!B&&!H&&Wn(_);O=_,B||H||z?Y(m)?O=m:Me(m)?O=nt(m):H?(M=!1,O=iu(_,!0)):z?(M=!1,O=ou(_,!0)):O=[]:Cr(_)||yn(_)?(O=m,yn(m)?O=nl(m):(!Ee(m)||Ut(m))&&(O=Cu(_))):M=!1}M&&(p.set(_,O),u(O,_,o,f,p),p.delete(_)),yi(e,s,O)}function Ya(e,n){var s=e.length;if(s)return n+=n<0?s:0,Vt(n,s)?e[n]:r}function Ja(e,n,s){n.length?n=Ce(n,function(f){return Y(f)?function(p){return wn(p,f.length===1?f[0]:f)}:f}):n=[it];var o=-1;n=Ce(n,at(F()));var u=za(e,function(f,p,m){var _=Ce(n,function(T){return T(f)});return{criteria:_,index:++o,value:f}});return Bf(u,function(f,p){return yd(f,p,s)})}function cd(e,n){return Xa(e,n,function(s,o){return so(e,o)})}function Xa(e,n,s){for(var o=-1,u=n.length,f={};++o<u;){var p=n[o],m=wn(e,p);s(m,p)&&br(f,en(p,e),m)}return f}function fd(e){return function(n){return wn(n,e)}}function Oi(e,n,s,o){var u=o?If:Pn,f=-1,p=n.length,m=e;for(e===n&&(n=nt(n)),s&&(m=Ce(e,at(s)));++f<p;)for(var _=0,T=n[f],O=s?s(T):T;(_=u(m,O,_,o))>-1;)m!==e&&Qr.call(m,_,1),Qr.call(e,_,1);return e}function Za(e,n){for(var s=e?n.length:0,o=s-1;s--;){var u=n[s];if(s==o||u!==f){var f=u;Vt(u)?Qr.call(e,u,1):Ii(e,u)}}return e}function Pi(e,n){return e+ns(Oa()*(n-e+1))}function hd(e,n,s,o){for(var u=-1,f=qe(ts((n-e)/(s||1)),0),p=C(f);f--;)p[o?f:++u]=e,e+=s;return p}function Mi(e,n){var s="";if(!e||n<1||n>St)return s;do n%2&&(s+=e),n=ns(n/2),n&&(e+=e);while(n);return s}function Q(e,n){return Xi(Ru(e,n,it),e+"")}function dd(e){return La(Fn(e))}function pd(e,n){var s=Fn(e);return ws(s,_n(n,0,s.length))}function br(e,n,s,o){if(!Ee(e))return e;n=en(n,e);for(var u=-1,f=n.length,p=f-1,m=e;m!=null&&++u<f;){var _=Ot(n[u]),T=s;if(_==="__proto__"||_==="constructor"||_==="prototype")return e;if(u!=p){var O=m[_];T=o?o(O,_,m):r,T===r&&(T=Ee(O)?O:Vt(n[u+1])?[]:{})}mr(m,_,T),m=m[_]}return e}var ja=rs?function(e,n){return rs.set(e,n),e}:it,gd=es?function(e,n){return es(e,"toString",{configurable:!0,enumerable:!1,value:oo(n),writable:!0})}:it;function md(e){return ws(Fn(e))}function vt(e,n,s){var o=-1,u=e.length;n<0&&(n=-n>u?0:u+n),s=s>u?u:s,s<0&&(s+=u),u=n>s?0:s-n>>>0,n>>>=0;for(var f=C(u);++o<u;)f[o]=e[o+n];return f}function vd(e,n){var s;return jt(e,function(o,u,f){return s=n(o,u,f),!s}),!!s}function cs(e,n,s){var o=0,u=e==null?o:e.length;if(typeof n=="number"&&n===n&&u<=ir){for(;o<u;){var f=o+u>>>1,p=e[f];p!==null&&!lt(p)&&(s?p<=n:p<n)?o=f+1:u=f}return u}return Li(e,n,it,s)}function Li(e,n,s,o){var u=0,f=e==null?0:e.length;if(f===0)return 0;n=s(n);for(var p=n!==n,m=n===null,_=lt(n),T=n===r;u<f;){var O=ns((u+f)/2),M=s(e[O]),B=M!==r,H=M===null,z=M===M,Z=lt(M);if(p)var G=o||z;else T?G=z&&(o||B):m?G=z&&B&&(o||!H):_?G=z&&B&&!H&&(o||!Z):H||Z?G=!1:G=o?M<=n:M<n;G?u=O+1:f=O}return Ke(f,sr)}function Qa(e,n){for(var s=-1,o=e.length,u=0,f=[];++s<o;){var p=e[s],m=n?n(p):p;if(!s||!At(m,_)){var _=m;f[u++]=p===0?0:p}}return f}function eu(e){return typeof e=="number"?e:lt(e)?dn:+e}function ut(e){if(typeof e=="string")return e;if(Y(e))return Ce(e,ut)+"";if(lt(e))return Pa?Pa.call(e):"";var n=e+"";return n=="0"&&1/e==-xt?"-0":n}function Qt(e,n,s){var o=-1,u=Wr,f=e.length,p=!0,m=[],_=m;if(s)p=!1,u=li;else if(f>=c){var T=n?null:Sd(e);if(T)return zr(T);p=!1,u=cr,_=new vn}else _=n?[]:m;e:for(;++o<f;){var O=e[o],M=n?n(O):O;if(O=s||O!==0?O:0,p&&M===M){for(var B=_.length;B--;)if(_[B]===M)continue e;n&&_.push(M),m.push(O)}else u(_,M,s)||(_!==m&&_.push(M),m.push(O))}return m}function Ii(e,n){return n=en(n,e),e=Su(e,n),e==null||delete e[Ot(_t(n))]}function tu(e,n,s,o){return br(e,n,s(wn(e,n)),o)}function fs(e,n,s,o){for(var u=e.length,f=o?u:-1;(o?f--:++f<u)&&n(e[f],f,e););return s?vt(e,o?0:f,o?f+1:u):vt(e,o?f+1:0,o?u:f)}function nu(e,n){var s=e;return s instanceof se&&(s=s.value()),ci(n,function(o,u){return u.func.apply(u.thisArg,Jt([o],u.args))},s)}function Bi(e,n,s){var o=e.length;if(o<2)return o?Qt(e[0]):[];for(var u=-1,f=C(o);++u<o;)for(var p=e[u],m=-1;++m<o;)m!=u&&(f[u]=vr(f[u]||p,e[m],n,s));return Qt(ze(f,1),n,s)}function ru(e,n,s){for(var o=-1,u=e.length,f=n.length,p={};++o<u;){var m=o<f?n[o]:r;s(p,e[o],m)}return p}function Ni(e){return Me(e)?e:[]}function qi(e){return typeof e=="function"?e:it}function en(e,n){return Y(e)?e:Ki(e,n)?[e]:Pu(de(e))}var _d=Q;function tn(e,n,s){var o=e.length;return s=s===r?o:s,!n&&s>=o?e:vt(e,n,s)}var su=ih||function(e){return Fe.clearTimeout(e)};function iu(e,n){if(n)return e.slice();var s=e.length,o=Ea?Ea(s):new e.constructor(s);return e.copy(o),o}function Di(e){var n=new e.constructor(e.byteLength);return new Zr(n).set(new Zr(e)),n}function wd(e,n){var s=n?Di(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.byteLength)}function bd(e){var n=new e.constructor(e.source,Uo.exec(e));return n.lastIndex=e.lastIndex,n}function xd(e){return gr?be(gr.call(e)):{}}function ou(e,n){var s=n?Di(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.length)}function au(e,n){if(e!==n){var s=e!==r,o=e===null,u=e===e,f=lt(e),p=n!==r,m=n===null,_=n===n,T=lt(n);if(!m&&!T&&!f&&e>n||f&&p&&_&&!m&&!T||o&&p&&_||!s&&_||!u)return 1;if(!o&&!f&&!T&&e<n||T&&s&&u&&!o&&!f||m&&s&&u||!p&&u||!_)return-1}return 0}function yd(e,n,s){for(var o=-1,u=e.criteria,f=n.criteria,p=u.length,m=s.length;++o<p;){var _=au(u[o],f[o]);if(_){if(o>=m)return _;var T=s[o];return _*(T=="desc"?-1:1)}}return e.index-n.index}function uu(e,n,s,o){for(var u=-1,f=e.length,p=s.length,m=-1,_=n.length,T=qe(f-p,0),O=C(_+T),M=!o;++m<_;)O[m]=n[m];for(;++u<p;)(M||u<f)&&(O[s[u]]=e[u]);for(;T--;)O[m++]=e[u++];return O}function lu(e,n,s,o){for(var u=-1,f=e.length,p=-1,m=s.length,_=-1,T=n.length,O=qe(f-m,0),M=C(O+T),B=!o;++u<O;)M[u]=e[u];for(var H=u;++_<T;)M[H+_]=n[_];for(;++p<m;)(B||u<f)&&(M[H+s[p]]=e[u++]);return M}function nt(e,n){var s=-1,o=e.length;for(n||(n=C(o));++s<o;)n[s]=e[s];return n}function Tt(e,n,s,o){var u=!s;s||(s={});for(var f=-1,p=n.length;++f<p;){var m=n[f],_=o?o(s[m],e[m],m,s,e):r;_===r&&(_=e[m]),u?qt(s,m,_):mr(s,m,_)}return s}function kd(e,n){return Tt(e,Gi(e),n)}function Cd(e,n){return Tt(e,yu(e),n)}function hs(e,n){return function(s,o){var u=Y(s)?$f:Gh,f=n?n():{};return u(s,e,F(o,2),f)}}function Hn(e){return Q(function(n,s){var o=-1,u=s.length,f=u>1?s[u-1]:r,p=u>2?s[2]:r;for(f=e.length>3&&typeof f=="function"?(u--,f):r,p&&je(s[0],s[1],p)&&(f=u<3?r:f,u=1),n=be(n);++o<u;){var m=s[o];m&&e(n,m,o,f)}return n})}function cu(e,n){return function(s,o){if(s==null)return s;if(!rt(s))return e(s,o);for(var u=s.length,f=n?u:-1,p=be(s);(n?f--:++f<u)&&o(p[f],f,p)!==!1;);return s}}function fu(e){return function(n,s,o){for(var u=-1,f=be(n),p=o(n),m=p.length;m--;){var _=p[e?m:++u];if(s(f[_],_,f)===!1)break}return n}}function Ad(e,n,s){var o=n&ee,u=xr(e);function f(){var p=this&&this!==Fe&&this instanceof f?u:e;return p.apply(o?s:this,arguments)}return f}function hu(e){return function(n){n=de(n);var s=Mn(n)?kt(n):r,o=s?s[0]:n.charAt(0),u=s?tn(s,1).join(""):n.slice(1);return o[e]()+u}}function Vn(e){return function(n){return ci(cl(ll(n).replace(gf,"")),e,"")}}function xr(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var s=Dn(e.prototype),o=e.apply(s,n);return Ee(o)?o:s}}function Ed(e,n,s){var o=xr(e);function u(){for(var f=arguments.length,p=C(f),m=f,_=Un(u);m--;)p[m]=arguments[m];var T=f<3&&p[0]!==_&&p[f-1]!==_?[]:Xt(p,_);if(f-=T.length,f<s)return vu(e,n,ds,u.placeholder,r,p,T,r,r,s-f);var O=this&&this!==Fe&&this instanceof u?o:e;return ot(O,this,p)}return u}function du(e){return function(n,s,o){var u=be(n);if(!rt(n)){var f=F(s,3);n=He(n),s=function(m){return f(u[m],m,u)}}var p=e(n,s,o);return p>-1?u[f?n[p]:p]:r}}function pu(e){return Ht(function(n){var s=n.length,o=s,u=gt.prototype.thru;for(e&&n.reverse();o--;){var f=n[o];if(typeof f!="function")throw new pt(g);if(u&&!p&&vs(f)=="wrapper")var p=new gt([],!0)}for(o=p?o:s;++o<s;){f=n[o];var m=vs(f),_=m=="wrapper"?Fi(f):r;_&&Yi(_[0])&&_[1]==(Xe|ve|Oe|hn)&&!_[4].length&&_[9]==1?p=p[vs(_[0])].apply(p,_[3]):p=f.length==1&&Yi(f)?p[m]():p.thru(f)}return function(){var T=arguments,O=T[0];if(p&&T.length==1&&Y(O))return p.plant(O).value();for(var M=0,B=s?n[M].apply(this,T):O;++M<s;)B=n[M].call(this,B);return B}})}function ds(e,n,s,o,u,f,p,m,_,T){var O=n&Xe,M=n&ee,B=n&j,H=n&(ve|Te),z=n&Rn,Z=B?r:xr(e);function G(){for(var ne=arguments.length,ue=C(ne),ct=ne;ct--;)ue[ct]=arguments[ct];if(H)var Qe=Un(G),ft=qf(ue,Qe);if(o&&(ue=uu(ue,o,u,H)),f&&(ue=lu(ue,f,p,H)),ne-=ft,H&&ne<T){var Le=Xt(ue,Qe);return vu(e,n,ds,G.placeholder,s,ue,Le,m,_,T-ne)}var Et=M?s:this,Ft=B?Et[e]:e;return ne=ue.length,m?ue=Gd(ue,m):z&&ne>1&&ue.reverse(),O&&_<ne&&(ue.length=_),this&&this!==Fe&&this instanceof G&&(Ft=Z||xr(Ft)),Ft.apply(Et,ue)}return G}function gu(e,n){return function(s,o){return ed(s,e,n(o),{})}}function ps(e,n){return function(s,o){var u;if(s===r&&o===r)return n;if(s!==r&&(u=s),o!==r){if(u===r)return o;typeof s=="string"||typeof o=="string"?(s=ut(s),o=ut(o)):(s=eu(s),o=eu(o)),u=e(s,o)}return u}}function Hi(e){return Ht(function(n){return n=Ce(n,at(F())),Q(function(s){var o=this;return e(n,function(u){return ot(u,o,s)})})})}function gs(e,n){n=n===r?" ":ut(n);var s=n.length;if(s<2)return s?Mi(n,e):n;var o=Mi(n,ts(e/Ln(n)));return Mn(n)?tn(kt(o),0,e).join(""):o.slice(0,e)}function Rd(e,n,s,o){var u=n&ee,f=xr(e);function p(){for(var m=-1,_=arguments.length,T=-1,O=o.length,M=C(O+_),B=this&&this!==Fe&&this instanceof p?f:e;++T<O;)M[T]=o[T];for(;_--;)M[T++]=arguments[++m];return ot(B,u?s:this,M)}return p}function mu(e){return function(n,s,o){return o&&typeof o!="number"&&je(n,s,o)&&(s=o=r),n=Wt(n),s===r?(s=n,n=0):s=Wt(s),o=o===r?n<s?1:-1:Wt(o),hd(n,s,o,e)}}function ms(e){return function(n,s){return typeof n=="string"&&typeof s=="string"||(n=wt(n),s=wt(s)),e(n,s)}}function vu(e,n,s,o,u,f,p,m,_,T){var O=n&ve,M=O?p:r,B=O?r:p,H=O?f:r,z=O?r:f;n|=O?Oe:we,n&=~(O?we:Oe),n&re||(n&=~(ee|j));var Z=[e,n,u,H,M,z,B,m,_,T],G=s.apply(r,Z);return Yi(e)&&$u(G,Z),G.placeholder=o,Tu(G,e,n)}function Vi(e){var n=Ne[e];return function(s,o){if(s=wt(s),o=o==null?0:Ke(X(o),292),o&&Ta(s)){var u=(de(s)+"e").split("e"),f=n(u[0]+"e"+(+u[1]+o));return u=(de(f)+"e").split("e"),+(u[0]+"e"+(+u[1]-o))}return n(s)}}var Sd=Nn&&1/zr(new Nn([,-0]))[1]==xt?function(e){return new Nn(e)}:lo;function _u(e){return function(n){var s=Ye(n);return s==We?vi(n):s==yt?zf(n):Nf(n,e(n))}}function Dt(e,n,s,o,u,f,p,m){var _=n&j;if(!_&&typeof e!="function")throw new pt(g);var T=o?o.length:0;if(T||(n&=~(Oe|we),o=u=r),p=p===r?p:qe(X(p),0),m=m===r?m:X(m),T-=u?u.length:0,n&we){var O=o,M=u;o=u=r}var B=_?r:Fi(e),H=[e,n,s,o,u,O,M,f,p,m];if(B&&Wd(H,B),e=H[0],n=H[1],s=H[2],o=H[3],u=H[4],m=H[9]=H[9]===r?_?0:e.length:qe(H[9]-T,0),!m&&n&(ve|Te)&&(n&=~(ve|Te)),!n||n==ee)var z=Ad(e,n,s);else n==ve||n==Te?z=Ed(e,n,m):(n==Oe||n==(ee|Oe))&&!u.length?z=Rd(e,n,s,o):z=ds.apply(r,H);var Z=B?ja:$u;return Tu(Z(z,H),e,n)}function wu(e,n,s,o){return e===r||At(e,Bn[s])&&!ge.call(o,s)?n:e}function bu(e,n,s,o,u,f){return Ee(e)&&Ee(n)&&(f.set(n,e),ls(e,n,r,bu,f),f.delete(n)),e}function $d(e){return Cr(e)?r:e}function xu(e,n,s,o,u,f){var p=s&W,m=e.length,_=n.length;if(m!=_&&!(p&&_>m))return!1;var T=f.get(e),O=f.get(n);if(T&&O)return T==n&&O==e;var M=-1,B=!0,H=s&pe?new vn:r;for(f.set(e,n),f.set(n,e);++M<m;){var z=e[M],Z=n[M];if(o)var G=p?o(Z,z,M,n,e,f):o(z,Z,M,e,n,f);if(G!==r){if(G)continue;B=!1;break}if(H){if(!fi(n,function(ne,ue){if(!cr(H,ue)&&(z===ne||u(z,ne,s,o,f)))return H.push(ue)})){B=!1;break}}else if(!(z===Z||u(z,Z,s,o,f))){B=!1;break}}return f.delete(e),f.delete(n),B}function Td(e,n,s,o,u,f,p){switch(s){case Tn:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case lr:return!(e.byteLength!=n.byteLength||!f(new Zr(e),new Zr(n)));case V:case he:case De:return At(+e,+n);case te:return e.name==n.name&&e.message==n.message;case or:case ar:return e==n+"";case We:var m=vi;case yt:var _=o&W;if(m||(m=zr),e.size!=n.size&&!_)return!1;var T=p.get(e);if(T)return T==n;o|=pe,p.set(e,n);var O=xu(m(e),m(n),o,u,f,p);return p.delete(e),O;case Dr:if(gr)return gr.call(e)==gr.call(n)}return!1}function Od(e,n,s,o,u,f){var p=s&W,m=Ui(e),_=m.length,T=Ui(n),O=T.length;if(_!=O&&!p)return!1;for(var M=_;M--;){var B=m[M];if(!(p?B in n:ge.call(n,B)))return!1}var H=f.get(e),z=f.get(n);if(H&&z)return H==n&&z==e;var Z=!0;f.set(e,n),f.set(n,e);for(var G=p;++M<_;){B=m[M];var ne=e[B],ue=n[B];if(o)var ct=p?o(ue,ne,B,n,e,f):o(ne,ue,B,e,n,f);if(!(ct===r?ne===ue||u(ne,ue,s,o,f):ct)){Z=!1;break}G||(G=B=="constructor")}if(Z&&!G){var Qe=e.constructor,ft=n.constructor;Qe!=ft&&"constructor"in e&&"constructor"in n&&!(typeof Qe=="function"&&Qe instanceof Qe&&typeof ft=="function"&&ft instanceof ft)&&(Z=!1)}return f.delete(e),f.delete(n),Z}function Ht(e){return Xi(Ru(e,r,Bu),e+"")}function Ui(e){return Va(e,He,Gi)}function Wi(e){return Va(e,st,yu)}var Fi=rs?function(e){return rs.get(e)}:lo;function vs(e){for(var n=e.name+"",s=qn[n],o=ge.call(qn,n)?s.length:0;o--;){var u=s[o],f=u.func;if(f==null||f==e)return u.name}return n}function Un(e){var n=ge.call(l,"placeholder")?l:e;return n.placeholder}function F(){var e=l.iteratee||ao;return e=e===ao?Fa:e,arguments.length?e(arguments[0],arguments[1]):e}function _s(e,n){var s=e.__data__;return Dd(n)?s[typeof n=="string"?"string":"hash"]:s.map}function zi(e){for(var n=He(e),s=n.length;s--;){var o=n[s],u=e[o];n[s]=[o,u,Au(u)]}return n}function bn(e,n){var s=Uf(e,n);return Wa(s)?s:r}function Pd(e){var n=ge.call(e,gn),s=e[gn];try{e[gn]=r;var o=!0}catch{}var u=Jr.call(e);return o&&(n?e[gn]=s:delete e[gn]),u}var Gi=wi?function(e){return e==null?[]:(e=be(e),Yt(wi(e),function(n){return Sa.call(e,n)}))}:co,yu=wi?function(e){for(var n=[];e;)Jt(n,Gi(e)),e=jr(e);return n}:co,Ye=Ze;(bi&&Ye(new bi(new ArrayBuffer(1)))!=Tn||hr&&Ye(new hr)!=We||xi&&Ye(xi.resolve())!=qo||Nn&&Ye(new Nn)!=yt||dr&&Ye(new dr)!=ur)&&(Ye=function(e){var n=Ze(e),s=n==It?e.constructor:r,o=s?xn(s):"";if(o)switch(o){case ph:return Tn;case gh:return We;case mh:return qo;case vh:return yt;case _h:return ur}return n});function Md(e,n,s){for(var o=-1,u=s.length;++o<u;){var f=s[o],p=f.size;switch(f.type){case"drop":e+=p;break;case"dropRight":n-=p;break;case"take":n=Ke(n,e+p);break;case"takeRight":e=qe(e,n-p);break}}return{start:e,end:n}}function Ld(e){var n=e.match(Dc);return n?n[1].split(Hc):[]}function ku(e,n,s){n=en(n,e);for(var o=-1,u=n.length,f=!1;++o<u;){var p=Ot(n[o]);if(!(f=e!=null&&s(e,p)))break;e=e[p]}return f||++o!=u?f:(u=e==null?0:e.length,!!u&&As(u)&&Vt(p,u)&&(Y(e)||yn(e)))}function Id(e){var n=e.length,s=new e.constructor(n);return n&&typeof e[0]=="string"&&ge.call(e,"index")&&(s.index=e.index,s.input=e.input),s}function Cu(e){return typeof e.constructor=="function"&&!yr(e)?Dn(jr(e)):{}}function Bd(e,n,s){var o=e.constructor;switch(n){case lr:return Di(e);case V:case he:return new o(+e);case Tn:return wd(e,s);case zs:case Gs:case Ks:case Ys:case Js:case Xs:case Zs:case js:case Qs:return ou(e,s);case We:return new o;case De:case ar:return new o(e);case or:return bd(e);case yt:return new o;case Dr:return xd(e)}}function Nd(e,n){var s=n.length;if(!s)return e;var o=s-1;return n[o]=(s>1?"& ":"")+n[o],n=n.join(s>2?", ":" "),e.replace(qc,`{
/* [wrapped with `+n+`] */
`)}function qd(e){return Y(e)||yn(e)||!!($a&&e&&e[$a])}function Vt(e,n){var s=typeof e;return n=n??St,!!n&&(s=="number"||s!="symbol"&&Jc.test(e))&&e>-1&&e%1==0&&e<n}function je(e,n,s){if(!Ee(s))return!1;var o=typeof n;return(o=="number"?rt(s)&&Vt(n,s.length):o=="string"&&n in s)?At(s[n],e):!1}function Ki(e,n){if(Y(e))return!1;var s=typeof e;return s=="number"||s=="symbol"||s=="boolean"||e==null||lt(e)?!0:Lc.test(e)||!Mc.test(e)||n!=null&&e in be(n)}function Dd(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function Yi(e){var n=vs(e),s=l[n];if(typeof s!="function"||!(n in se.prototype))return!1;if(e===s)return!0;var o=Fi(s);return!!o&&e===o[0]}function Hd(e){return!!Aa&&Aa in e}var Vd=Kr?Ut:fo;function yr(e){var n=e&&e.constructor,s=typeof n=="function"&&n.prototype||Bn;return e===s}function Au(e){return e===e&&!Ee(e)}function Eu(e,n){return function(s){return s==null?!1:s[e]===n&&(n!==r||e in be(s))}}function Ud(e){var n=ks(e,function(o){return s.size===R&&s.clear(),o}),s=n.cache;return n}function Wd(e,n){var s=e[1],o=n[1],u=s|o,f=u<(ee|j|Xe),p=o==Xe&&s==ve||o==Xe&&s==hn&&e[7].length<=n[8]||o==(Xe|hn)&&n[7].length<=n[8]&&s==ve;if(!(f||p))return e;o&ee&&(e[2]=n[2],u|=s&ee?0:re);var m=n[3];if(m){var _=e[3];e[3]=_?uu(_,m,n[4]):m,e[4]=_?Xt(e[3],y):n[4]}return m=n[5],m&&(_=e[5],e[5]=_?lu(_,m,n[6]):m,e[6]=_?Xt(e[5],y):n[6]),m=n[7],m&&(e[7]=m),o&Xe&&(e[8]=e[8]==null?n[8]:Ke(e[8],n[8])),e[9]==null&&(e[9]=n[9]),e[0]=n[0],e[1]=u,e}function Fd(e){var n=[];if(e!=null)for(var s in be(e))n.push(s);return n}function zd(e){return Jr.call(e)}function Ru(e,n,s){return n=qe(n===r?e.length-1:n,0),function(){for(var o=arguments,u=-1,f=qe(o.length-n,0),p=C(f);++u<f;)p[u]=o[n+u];u=-1;for(var m=C(n+1);++u<n;)m[u]=o[u];return m[n]=s(p),ot(e,this,m)}}function Su(e,n){return n.length<2?e:wn(e,vt(n,0,-1))}function Gd(e,n){for(var s=e.length,o=Ke(n.length,s),u=nt(e);o--;){var f=n[o];e[o]=Vt(f,s)?u[f]:r}return e}function Ji(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}var $u=Ou(ja),kr=ah||function(e,n){return Fe.setTimeout(e,n)},Xi=Ou(gd);function Tu(e,n,s){var o=n+"";return Xi(e,Nd(o,Kd(Ld(o),s)))}function Ou(e){var n=0,s=0;return function(){var o=fh(),u=Fs-(o-s);if(s=o,u>0){if(++n>=nr)return arguments[0]}else n=0;return e.apply(r,arguments)}}function ws(e,n){var s=-1,o=e.length,u=o-1;for(n=n===r?o:n;++s<n;){var f=Pi(s,u),p=e[f];e[f]=e[s],e[s]=p}return e.length=n,e}var Pu=Ud(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(Ic,function(s,o,u,f){n.push(u?f.replace(Wc,"$1"):o||s)}),n});function Ot(e){if(typeof e=="string"||lt(e))return e;var n=e+"";return n=="0"&&1/e==-xt?"-0":n}function xn(e){if(e!=null){try{return Yr.call(e)}catch{}try{return e+""}catch{}}return""}function Kd(e,n){return dt(No,function(s){var o="_."+s[0];n&s[1]&&!Wr(e,o)&&e.push(o)}),e.sort()}function Mu(e){if(e instanceof se)return e.clone();var n=new gt(e.__wrapped__,e.__chain__);return n.__actions__=nt(e.__actions__),n.__index__=e.__index__,n.__values__=e.__values__,n}function Yd(e,n,s){(s?je(e,n,s):n===r)?n=1:n=qe(X(n),0);var o=e==null?0:e.length;if(!o||n<1)return[];for(var u=0,f=0,p=C(ts(o/n));u<o;)p[f++]=vt(e,u,u+=n);return p}function Jd(e){for(var n=-1,s=e==null?0:e.length,o=0,u=[];++n<s;){var f=e[n];f&&(u[o++]=f)}return u}function Xd(){var e=arguments.length;if(!e)return[];for(var n=C(e-1),s=arguments[0],o=e;o--;)n[o-1]=arguments[o];return Jt(Y(s)?nt(s):[s],ze(n,1))}var Zd=Q(function(e,n){return Me(e)?vr(e,ze(n,1,Me,!0)):[]}),jd=Q(function(e,n){var s=_t(n);return Me(s)&&(s=r),Me(e)?vr(e,ze(n,1,Me,!0),F(s,2)):[]}),Qd=Q(function(e,n){var s=_t(n);return Me(s)&&(s=r),Me(e)?vr(e,ze(n,1,Me,!0),r,s):[]});function ep(e,n,s){var o=e==null?0:e.length;return o?(n=s||n===r?1:X(n),vt(e,n<0?0:n,o)):[]}function tp(e,n,s){var o=e==null?0:e.length;return o?(n=s||n===r?1:X(n),n=o-n,vt(e,0,n<0?0:n)):[]}function np(e,n){return e&&e.length?fs(e,F(n,3),!0,!0):[]}function rp(e,n){return e&&e.length?fs(e,F(n,3),!0):[]}function sp(e,n,s,o){var u=e==null?0:e.length;return u?(s&&typeof s!="number"&&je(e,n,s)&&(s=0,o=u),Xh(e,n,s,o)):[]}function Lu(e,n,s){var o=e==null?0:e.length;if(!o)return-1;var u=s==null?0:X(s);return u<0&&(u=qe(o+u,0)),Fr(e,F(n,3),u)}function Iu(e,n,s){var o=e==null?0:e.length;if(!o)return-1;var u=o-1;return s!==r&&(u=X(s),u=s<0?qe(o+u,0):Ke(u,o-1)),Fr(e,F(n,3),u,!0)}function Bu(e){var n=e==null?0:e.length;return n?ze(e,1):[]}function ip(e){var n=e==null?0:e.length;return n?ze(e,xt):[]}function op(e,n){var s=e==null?0:e.length;return s?(n=n===r?1:X(n),ze(e,n)):[]}function ap(e){for(var n=-1,s=e==null?0:e.length,o={};++n<s;){var u=e[n];o[u[0]]=u[1]}return o}function Nu(e){return e&&e.length?e[0]:r}function up(e,n,s){var o=e==null?0:e.length;if(!o)return-1;var u=s==null?0:X(s);return u<0&&(u=qe(o+u,0)),Pn(e,n,u)}function lp(e){var n=e==null?0:e.length;return n?vt(e,0,-1):[]}var cp=Q(function(e){var n=Ce(e,Ni);return n.length&&n[0]===e[0]?Ri(n):[]}),fp=Q(function(e){var n=_t(e),s=Ce(e,Ni);return n===_t(s)?n=r:s.pop(),s.length&&s[0]===e[0]?Ri(s,F(n,2)):[]}),hp=Q(function(e){var n=_t(e),s=Ce(e,Ni);return n=typeof n=="function"?n:r,n&&s.pop(),s.length&&s[0]===e[0]?Ri(s,r,n):[]});function dp(e,n){return e==null?"":lh.call(e,n)}function _t(e){var n=e==null?0:e.length;return n?e[n-1]:r}function pp(e,n,s){var o=e==null?0:e.length;if(!o)return-1;var u=o;return s!==r&&(u=X(s),u=u<0?qe(o+u,0):Ke(u,o-1)),n===n?Kf(e,n,u):Fr(e,va,u,!0)}function gp(e,n){return e&&e.length?Ya(e,X(n)):r}var mp=Q(qu);function qu(e,n){return e&&e.length&&n&&n.length?Oi(e,n):e}function vp(e,n,s){return e&&e.length&&n&&n.length?Oi(e,n,F(s,2)):e}function _p(e,n,s){return e&&e.length&&n&&n.length?Oi(e,n,r,s):e}var wp=Ht(function(e,n){var s=e==null?0:e.length,o=ki(e,n);return Za(e,Ce(n,function(u){return Vt(u,s)?+u:u}).sort(au)),o});function bp(e,n){var s=[];if(!(e&&e.length))return s;var o=-1,u=[],f=e.length;for(n=F(n,3);++o<f;){var p=e[o];n(p,o,e)&&(s.push(p),u.push(o))}return Za(e,u),s}function Zi(e){return e==null?e:dh.call(e)}function xp(e,n,s){var o=e==null?0:e.length;return o?(s&&typeof s!="number"&&je(e,n,s)?(n=0,s=o):(n=n==null?0:X(n),s=s===r?o:X(s)),vt(e,n,s)):[]}function yp(e,n){return cs(e,n)}function kp(e,n,s){return Li(e,n,F(s,2))}function Cp(e,n){var s=e==null?0:e.length;if(s){var o=cs(e,n);if(o<s&&At(e[o],n))return o}return-1}function Ap(e,n){return cs(e,n,!0)}function Ep(e,n,s){return Li(e,n,F(s,2),!0)}function Rp(e,n){var s=e==null?0:e.length;if(s){var o=cs(e,n,!0)-1;if(At(e[o],n))return o}return-1}function Sp(e){return e&&e.length?Qa(e):[]}function $p(e,n){return e&&e.length?Qa(e,F(n,2)):[]}function Tp(e){var n=e==null?0:e.length;return n?vt(e,1,n):[]}function Op(e,n,s){return e&&e.length?(n=s||n===r?1:X(n),vt(e,0,n<0?0:n)):[]}function Pp(e,n,s){var o=e==null?0:e.length;return o?(n=s||n===r?1:X(n),n=o-n,vt(e,n<0?0:n,o)):[]}function Mp(e,n){return e&&e.length?fs(e,F(n,3),!1,!0):[]}function Lp(e,n){return e&&e.length?fs(e,F(n,3)):[]}var Ip=Q(function(e){return Qt(ze(e,1,Me,!0))}),Bp=Q(function(e){var n=_t(e);return Me(n)&&(n=r),Qt(ze(e,1,Me,!0),F(n,2))}),Np=Q(function(e){var n=_t(e);return n=typeof n=="function"?n:r,Qt(ze(e,1,Me,!0),r,n)});function qp(e){return e&&e.length?Qt(e):[]}function Dp(e,n){return e&&e.length?Qt(e,F(n,2)):[]}function Hp(e,n){return n=typeof n=="function"?n:r,e&&e.length?Qt(e,r,n):[]}function ji(e){if(!(e&&e.length))return[];var n=0;return e=Yt(e,function(s){if(Me(s))return n=qe(s.length,n),!0}),gi(n,function(s){return Ce(e,hi(s))})}function Du(e,n){if(!(e&&e.length))return[];var s=ji(e);return n==null?s:Ce(s,function(o){return ot(n,r,o)})}var Vp=Q(function(e,n){return Me(e)?vr(e,n):[]}),Up=Q(function(e){return Bi(Yt(e,Me))}),Wp=Q(function(e){var n=_t(e);return Me(n)&&(n=r),Bi(Yt(e,Me),F(n,2))}),Fp=Q(function(e){var n=_t(e);return n=typeof n=="function"?n:r,Bi(Yt(e,Me),r,n)}),zp=Q(ji);function Gp(e,n){return ru(e||[],n||[],mr)}function Kp(e,n){return ru(e||[],n||[],br)}var Yp=Q(function(e){var n=e.length,s=n>1?e[n-1]:r;return s=typeof s=="function"?(e.pop(),s):r,Du(e,s)});function Hu(e){var n=l(e);return n.__chain__=!0,n}function Jp(e,n){return n(e),e}function bs(e,n){return n(e)}var Xp=Ht(function(e){var n=e.length,s=n?e[0]:0,o=this.__wrapped__,u=function(f){return ki(f,e)};return n>1||this.__actions__.length||!(o instanceof se)||!Vt(s)?this.thru(u):(o=o.slice(s,+s+(n?1:0)),o.__actions__.push({func:bs,args:[u],thisArg:r}),new gt(o,this.__chain__).thru(function(f){return n&&!f.length&&f.push(r),f}))});function Zp(){return Hu(this)}function jp(){return new gt(this.value(),this.__chain__)}function Qp(){this.__values__===r&&(this.__values__=el(this.value()));var e=this.__index__>=this.__values__.length,n=e?r:this.__values__[this.__index__++];return{done:e,value:n}}function eg(){return this}function tg(e){for(var n,s=this;s instanceof is;){var o=Mu(s);o.__index__=0,o.__values__=r,n?u.__wrapped__=o:n=o;var u=o;s=s.__wrapped__}return u.__wrapped__=e,n}function ng(){var e=this.__wrapped__;if(e instanceof se){var n=e;return this.__actions__.length&&(n=new se(this)),n=n.reverse(),n.__actions__.push({func:bs,args:[Zi],thisArg:r}),new gt(n,this.__chain__)}return this.thru(Zi)}function rg(){return nu(this.__wrapped__,this.__actions__)}var sg=hs(function(e,n,s){ge.call(e,s)?++e[s]:qt(e,s,1)});function ig(e,n,s){var o=Y(e)?ga:Jh;return s&&je(e,n,s)&&(n=r),o(e,F(n,3))}function og(e,n){var s=Y(e)?Yt:Da;return s(e,F(n,3))}var ag=du(Lu),ug=du(Iu);function lg(e,n){return ze(xs(e,n),1)}function cg(e,n){return ze(xs(e,n),xt)}function fg(e,n,s){return s=s===r?1:X(s),ze(xs(e,n),s)}function Vu(e,n){var s=Y(e)?dt:jt;return s(e,F(n,3))}function Uu(e,n){var s=Y(e)?Tf:qa;return s(e,F(n,3))}var hg=hs(function(e,n,s){ge.call(e,s)?e[s].push(n):qt(e,s,[n])});function dg(e,n,s,o){e=rt(e)?e:Fn(e),s=s&&!o?X(s):0;var u=e.length;return s<0&&(s=qe(u+s,0)),Es(e)?s<=u&&e.indexOf(n,s)>-1:!!u&&Pn(e,n,s)>-1}var pg=Q(function(e,n,s){var o=-1,u=typeof n=="function",f=rt(e)?C(e.length):[];return jt(e,function(p){f[++o]=u?ot(n,p,s):_r(p,n,s)}),f}),gg=hs(function(e,n,s){qt(e,s,n)});function xs(e,n){var s=Y(e)?Ce:za;return s(e,F(n,3))}function mg(e,n,s,o){return e==null?[]:(Y(n)||(n=n==null?[]:[n]),s=o?r:s,Y(s)||(s=s==null?[]:[s]),Ja(e,n,s))}var vg=hs(function(e,n,s){e[s?0:1].push(n)},function(){return[[],[]]});function _g(e,n,s){var o=Y(e)?ci:wa,u=arguments.length<3;return o(e,F(n,4),s,u,jt)}function wg(e,n,s){var o=Y(e)?Of:wa,u=arguments.length<3;return o(e,F(n,4),s,u,qa)}function bg(e,n){var s=Y(e)?Yt:Da;return s(e,Cs(F(n,3)))}function xg(e){var n=Y(e)?La:dd;return n(e)}function yg(e,n,s){(s?je(e,n,s):n===r)?n=1:n=X(n);var o=Y(e)?Fh:pd;return o(e,n)}function kg(e){var n=Y(e)?zh:md;return n(e)}function Cg(e){if(e==null)return 0;if(rt(e))return Es(e)?Ln(e):e.length;var n=Ye(e);return n==We||n==yt?e.size:$i(e).length}function Ag(e,n,s){var o=Y(e)?fi:vd;return s&&je(e,n,s)&&(n=r),o(e,F(n,3))}var Eg=Q(function(e,n){if(e==null)return[];var s=n.length;return s>1&&je(e,n[0],n[1])?n=[]:s>2&&je(n[0],n[1],n[2])&&(n=[n[0]]),Ja(e,ze(n,1),[])}),ys=oh||function(){return Fe.Date.now()};function Rg(e,n){if(typeof n!="function")throw new pt(g);return e=X(e),function(){if(--e<1)return n.apply(this,arguments)}}function Wu(e,n,s){return n=s?r:n,n=e&&n==null?e.length:n,Dt(e,Xe,r,r,r,r,n)}function Fu(e,n){var s;if(typeof n!="function")throw new pt(g);return e=X(e),function(){return--e>0&&(s=n.apply(this,arguments)),e<=1&&(n=r),s}}var Qi=Q(function(e,n,s){var o=ee;if(s.length){var u=Xt(s,Un(Qi));o|=Oe}return Dt(e,o,n,s,u)}),zu=Q(function(e,n,s){var o=ee|j;if(s.length){var u=Xt(s,Un(zu));o|=Oe}return Dt(n,o,e,s,u)});function Gu(e,n,s){n=s?r:n;var o=Dt(e,ve,r,r,r,r,r,n);return o.placeholder=Gu.placeholder,o}function Ku(e,n,s){n=s?r:n;var o=Dt(e,Te,r,r,r,r,r,n);return o.placeholder=Ku.placeholder,o}function Yu(e,n,s){var o,u,f,p,m,_,T=0,O=!1,M=!1,B=!0;if(typeof e!="function")throw new pt(g);n=wt(n)||0,Ee(s)&&(O=!!s.leading,M="maxWait"in s,f=M?qe(wt(s.maxWait)||0,n):f,B="trailing"in s?!!s.trailing:B);function H(Le){var Et=o,Ft=u;return o=u=r,T=Le,p=e.apply(Ft,Et),p}function z(Le){return T=Le,m=kr(ne,n),O?H(Le):p}function Z(Le){var Et=Le-_,Ft=Le-T,dl=n-Et;return M?Ke(dl,f-Ft):dl}function G(Le){var Et=Le-_,Ft=Le-T;return _===r||Et>=n||Et<0||M&&Ft>=f}function ne(){var Le=ys();if(G(Le))return ue(Le);m=kr(ne,Z(Le))}function ue(Le){return m=r,B&&o?H(Le):(o=u=r,p)}function ct(){m!==r&&su(m),T=0,o=_=u=m=r}function Qe(){return m===r?p:ue(ys())}function ft(){var Le=ys(),Et=G(Le);if(o=arguments,u=this,_=Le,Et){if(m===r)return z(_);if(M)return su(m),m=kr(ne,n),H(_)}return m===r&&(m=kr(ne,n)),p}return ft.cancel=ct,ft.flush=Qe,ft}var Sg=Q(function(e,n){return Na(e,1,n)}),$g=Q(function(e,n,s){return Na(e,wt(n)||0,s)});function Tg(e){return Dt(e,Rn)}function ks(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new pt(g);var s=function(){var o=arguments,u=n?n.apply(this,o):o[0],f=s.cache;if(f.has(u))return f.get(u);var p=e.apply(this,o);return s.cache=f.set(u,p)||f,p};return s.cache=new(ks.Cache||Nt),s}ks.Cache=Nt;function Cs(e){if(typeof e!="function")throw new pt(g);return function(){var n=arguments;switch(n.length){case 0:return!e.call(this);case 1:return!e.call(this,n[0]);case 2:return!e.call(this,n[0],n[1]);case 3:return!e.call(this,n[0],n[1],n[2])}return!e.apply(this,n)}}function Og(e){return Fu(2,e)}var Pg=_d(function(e,n){n=n.length==1&&Y(n[0])?Ce(n[0],at(F())):Ce(ze(n,1),at(F()));var s=n.length;return Q(function(o){for(var u=-1,f=Ke(o.length,s);++u<f;)o[u]=n[u].call(this,o[u]);return ot(e,this,o)})}),eo=Q(function(e,n){var s=Xt(n,Un(eo));return Dt(e,Oe,r,n,s)}),Ju=Q(function(e,n){var s=Xt(n,Un(Ju));return Dt(e,we,r,n,s)}),Mg=Ht(function(e,n){return Dt(e,hn,r,r,r,n)});function Lg(e,n){if(typeof e!="function")throw new pt(g);return n=n===r?n:X(n),Q(e,n)}function Ig(e,n){if(typeof e!="function")throw new pt(g);return n=n==null?0:qe(X(n),0),Q(function(s){var o=s[n],u=tn(s,0,n);return o&&Jt(u,o),ot(e,this,u)})}function Bg(e,n,s){var o=!0,u=!0;if(typeof e!="function")throw new pt(g);return Ee(s)&&(o="leading"in s?!!s.leading:o,u="trailing"in s?!!s.trailing:u),Yu(e,n,{leading:o,maxWait:n,trailing:u})}function Ng(e){return Wu(e,1)}function qg(e,n){return eo(qi(n),e)}function Dg(){if(!arguments.length)return[];var e=arguments[0];return Y(e)?e:[e]}function Hg(e){return mt(e,I)}function Vg(e,n){return n=typeof n=="function"?n:r,mt(e,I,n)}function Ug(e){return mt(e,A|I)}function Wg(e,n){return n=typeof n=="function"?n:r,mt(e,A|I,n)}function Fg(e,n){return n==null||Ba(e,n,He(n))}function At(e,n){return e===n||e!==e&&n!==n}var zg=ms(Ei),Gg=ms(function(e,n){return e>=n}),yn=Ua(function(){return arguments}())?Ua:function(e){return $e(e)&&ge.call(e,"callee")&&!Sa.call(e,"callee")},Y=C.isArray,Kg=la?at(la):td;function rt(e){return e!=null&&As(e.length)&&!Ut(e)}function Me(e){return $e(e)&&rt(e)}function Yg(e){return e===!0||e===!1||$e(e)&&Ze(e)==V}var nn=uh||fo,Jg=ca?at(ca):nd;function Xg(e){return $e(e)&&e.nodeType===1&&!Cr(e)}function Zg(e){if(e==null)return!0;if(rt(e)&&(Y(e)||typeof e=="string"||typeof e.splice=="function"||nn(e)||Wn(e)||yn(e)))return!e.length;var n=Ye(e);if(n==We||n==yt)return!e.size;if(yr(e))return!$i(e).length;for(var s in e)if(ge.call(e,s))return!1;return!0}function jg(e,n){return wr(e,n)}function Qg(e,n,s){s=typeof s=="function"?s:r;var o=s?s(e,n):r;return o===r?wr(e,n,r,s):!!o}function to(e){if(!$e(e))return!1;var n=Ze(e);return n==te||n==Pe||typeof e.message=="string"&&typeof e.name=="string"&&!Cr(e)}function em(e){return typeof e=="number"&&Ta(e)}function Ut(e){if(!Ee(e))return!1;var n=Ze(e);return n==J||n==Se||n==N||n==kc}function Xu(e){return typeof e=="number"&&e==X(e)}function As(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=St}function Ee(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}function $e(e){return e!=null&&typeof e=="object"}var Zu=fa?at(fa):sd;function tm(e,n){return e===n||Si(e,n,zi(n))}function nm(e,n,s){return s=typeof s=="function"?s:r,Si(e,n,zi(n),s)}function rm(e){return ju(e)&&e!=+e}function sm(e){if(Vd(e))throw new K(h);return Wa(e)}function im(e){return e===null}function om(e){return e==null}function ju(e){return typeof e=="number"||$e(e)&&Ze(e)==De}function Cr(e){if(!$e(e)||Ze(e)!=It)return!1;var n=jr(e);if(n===null)return!0;var s=ge.call(n,"constructor")&&n.constructor;return typeof s=="function"&&s instanceof s&&Yr.call(s)==nh}var no=ha?at(ha):id;function am(e){return Xu(e)&&e>=-St&&e<=St}var Qu=da?at(da):od;function Es(e){return typeof e=="string"||!Y(e)&&$e(e)&&Ze(e)==ar}function lt(e){return typeof e=="symbol"||$e(e)&&Ze(e)==Dr}var Wn=pa?at(pa):ad;function um(e){return e===r}function lm(e){return $e(e)&&Ye(e)==ur}function cm(e){return $e(e)&&Ze(e)==Ac}var fm=ms(Ti),hm=ms(function(e,n){return e<=n});function el(e){if(!e)return[];if(rt(e))return Es(e)?kt(e):nt(e);if(fr&&e[fr])return Ff(e[fr]());var n=Ye(e),s=n==We?vi:n==yt?zr:Fn;return s(e)}function Wt(e){if(!e)return e===0?e:0;if(e=wt(e),e===xt||e===-xt){var n=e<0?-1:1;return n*rr}return e===e?e:0}function X(e){var n=Wt(e),s=n%1;return n===n?s?n-s:n:0}function tl(e){return e?_n(X(e),0,tt):0}function wt(e){if(typeof e=="number")return e;if(lt(e))return dn;if(Ee(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=Ee(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=ba(e);var s=Gc.test(e);return s||Yc.test(e)?Rf(e.slice(2),s?2:8):zc.test(e)?dn:+e}function nl(e){return Tt(e,st(e))}function dm(e){return e?_n(X(e),-St,St):e===0?e:0}function de(e){return e==null?"":ut(e)}var pm=Hn(function(e,n){if(yr(n)||rt(n)){Tt(n,He(n),e);return}for(var s in n)ge.call(n,s)&&mr(e,s,n[s])}),rl=Hn(function(e,n){Tt(n,st(n),e)}),Rs=Hn(function(e,n,s,o){Tt(n,st(n),e,o)}),gm=Hn(function(e,n,s,o){Tt(n,He(n),e,o)}),mm=Ht(ki);function vm(e,n){var s=Dn(e);return n==null?s:Ia(s,n)}var _m=Q(function(e,n){e=be(e);var s=-1,o=n.length,u=o>2?n[2]:r;for(u&&je(n[0],n[1],u)&&(o=1);++s<o;)for(var f=n[s],p=st(f),m=-1,_=p.length;++m<_;){var T=p[m],O=e[T];(O===r||At(O,Bn[T])&&!ge.call(e,T))&&(e[T]=f[T])}return e}),wm=Q(function(e){return e.push(r,bu),ot(sl,r,e)});function bm(e,n){return ma(e,F(n,3),$t)}function xm(e,n){return ma(e,F(n,3),Ai)}function ym(e,n){return e==null?e:Ci(e,F(n,3),st)}function km(e,n){return e==null?e:Ha(e,F(n,3),st)}function Cm(e,n){return e&&$t(e,F(n,3))}function Am(e,n){return e&&Ai(e,F(n,3))}function Em(e){return e==null?[]:us(e,He(e))}function Rm(e){return e==null?[]:us(e,st(e))}function ro(e,n,s){var o=e==null?r:wn(e,n);return o===r?s:o}function Sm(e,n){return e!=null&&ku(e,n,Zh)}function so(e,n){return e!=null&&ku(e,n,jh)}var $m=gu(function(e,n,s){n!=null&&typeof n.toString!="function"&&(n=Jr.call(n)),e[n]=s},oo(it)),Tm=gu(function(e,n,s){n!=null&&typeof n.toString!="function"&&(n=Jr.call(n)),ge.call(e,n)?e[n].push(s):e[n]=[s]},F),Om=Q(_r);function He(e){return rt(e)?Ma(e):$i(e)}function st(e){return rt(e)?Ma(e,!0):ud(e)}function Pm(e,n){var s={};return n=F(n,3),$t(e,function(o,u,f){qt(s,n(o,u,f),o)}),s}function Mm(e,n){var s={};return n=F(n,3),$t(e,function(o,u,f){qt(s,u,n(o,u,f))}),s}var Lm=Hn(function(e,n,s){ls(e,n,s)}),sl=Hn(function(e,n,s,o){ls(e,n,s,o)}),Im=Ht(function(e,n){var s={};if(e==null)return s;var o=!1;n=Ce(n,function(f){return f=en(f,e),o||(o=f.length>1),f}),Tt(e,Wi(e),s),o&&(s=mt(s,A|$|I,$d));for(var u=n.length;u--;)Ii(s,n[u]);return s});function Bm(e,n){return il(e,Cs(F(n)))}var Nm=Ht(function(e,n){return e==null?{}:cd(e,n)});function il(e,n){if(e==null)return{};var s=Ce(Wi(e),function(o){return[o]});return n=F(n),Xa(e,s,function(o,u){return n(o,u[0])})}function qm(e,n,s){n=en(n,e);var o=-1,u=n.length;for(u||(u=1,e=r);++o<u;){var f=e==null?r:e[Ot(n[o])];f===r&&(o=u,f=s),e=Ut(f)?f.call(e):f}return e}function Dm(e,n,s){return e==null?e:br(e,n,s)}function Hm(e,n,s,o){return o=typeof o=="function"?o:r,e==null?e:br(e,n,s,o)}var ol=_u(He),al=_u(st);function Vm(e,n,s){var o=Y(e),u=o||nn(e)||Wn(e);if(n=F(n,4),s==null){var f=e&&e.constructor;u?s=o?new f:[]:Ee(e)?s=Ut(f)?Dn(jr(e)):{}:s={}}return(u?dt:$t)(e,function(p,m,_){return n(s,p,m,_)}),s}function Um(e,n){return e==null?!0:Ii(e,n)}function Wm(e,n,s){return e==null?e:tu(e,n,qi(s))}function Fm(e,n,s,o){return o=typeof o=="function"?o:r,e==null?e:tu(e,n,qi(s),o)}function Fn(e){return e==null?[]:mi(e,He(e))}function zm(e){return e==null?[]:mi(e,st(e))}function Gm(e,n,s){return s===r&&(s=n,n=r),s!==r&&(s=wt(s),s=s===s?s:0),n!==r&&(n=wt(n),n=n===n?n:0),_n(wt(e),n,s)}function Km(e,n,s){return n=Wt(n),s===r?(s=n,n=0):s=Wt(s),e=wt(e),Qh(e,n,s)}function Ym(e,n,s){if(s&&typeof s!="boolean"&&je(e,n,s)&&(n=s=r),s===r&&(typeof n=="boolean"?(s=n,n=r):typeof e=="boolean"&&(s=e,e=r)),e===r&&n===r?(e=0,n=1):(e=Wt(e),n===r?(n=e,e=0):n=Wt(n)),e>n){var o=e;e=n,n=o}if(s||e%1||n%1){var u=Oa();return Ke(e+u*(n-e+Ef("1e-"+((u+"").length-1))),n)}return Pi(e,n)}var Jm=Vn(function(e,n,s){return n=n.toLowerCase(),e+(s?ul(n):n)});function ul(e){return io(de(e).toLowerCase())}function ll(e){return e=de(e),e&&e.replace(Xc,Df).replace(mf,"")}function Xm(e,n,s){e=de(e),n=ut(n);var o=e.length;s=s===r?o:_n(X(s),0,o);var u=s;return s-=n.length,s>=0&&e.slice(s,u)==n}function Zm(e){return e=de(e),e&&Tc.test(e)?e.replace(Ho,Hf):e}function jm(e){return e=de(e),e&&Bc.test(e)?e.replace(ei,"\\$&"):e}var Qm=Vn(function(e,n,s){return e+(s?"-":"")+n.toLowerCase()}),ev=Vn(function(e,n,s){return e+(s?" ":"")+n.toLowerCase()}),tv=hu("toLowerCase");function nv(e,n,s){e=de(e),n=X(n);var o=n?Ln(e):0;if(!n||o>=n)return e;var u=(n-o)/2;return gs(ns(u),s)+e+gs(ts(u),s)}function rv(e,n,s){e=de(e),n=X(n);var o=n?Ln(e):0;return n&&o<n?e+gs(n-o,s):e}function sv(e,n,s){e=de(e),n=X(n);var o=n?Ln(e):0;return n&&o<n?gs(n-o,s)+e:e}function iv(e,n,s){return s||n==null?n=0:n&&(n=+n),hh(de(e).replace(ti,""),n||0)}function ov(e,n,s){return(s?je(e,n,s):n===r)?n=1:n=X(n),Mi(de(e),n)}function av(){var e=arguments,n=de(e[0]);return e.length<3?n:n.replace(e[1],e[2])}var uv=Vn(function(e,n,s){return e+(s?"_":"")+n.toLowerCase()});function lv(e,n,s){return s&&typeof s!="number"&&je(e,n,s)&&(n=s=r),s=s===r?tt:s>>>0,s?(e=de(e),e&&(typeof n=="string"||n!=null&&!no(n))&&(n=ut(n),!n&&Mn(e))?tn(kt(e),0,s):e.split(n,s)):[]}var cv=Vn(function(e,n,s){return e+(s?" ":"")+io(n)});function fv(e,n,s){return e=de(e),s=s==null?0:_n(X(s),0,e.length),n=ut(n),e.slice(s,s+n.length)==n}function hv(e,n,s){var o=l.templateSettings;s&&je(e,n,s)&&(n=r),e=de(e),n=Rs({},n,o,wu);var u=Rs({},n.imports,o.imports,wu),f=He(u),p=mi(u,f),m,_,T=0,O=n.interpolate||Hr,M="__p += '",B=_i((n.escape||Hr).source+"|"+O.source+"|"+(O===Vo?Fc:Hr).source+"|"+(n.evaluate||Hr).source+"|$","g"),H="//# sourceURL="+(ge.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++xf+"]")+`
`;e.replace(B,function(G,ne,ue,ct,Qe,ft){return ue||(ue=ct),M+=e.slice(T,ft).replace(Zc,Vf),ne&&(m=!0,M+=`' +
__e(`+ne+`) +
'`),Qe&&(_=!0,M+=`';
`+Qe+`;
__p += '`),ue&&(M+=`' +
((__t = (`+ue+`)) == null ? '' : __t) +
'`),T=ft+G.length,G}),M+=`';
`;var z=ge.call(n,"variable")&&n.variable;if(!z)M=`with (obj) {
`+M+`
}
`;else if(Uc.test(z))throw new K(x);M=(_?M.replace(Ec,""):M).replace(Rc,"$1").replace(Sc,"$1;"),M="function("+(z||"obj")+`) {
`+(z?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(m?", __e = _.escape":"")+(_?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+M+`return __p
}`;var Z=fl(function(){return le(f,H+"return "+M).apply(r,p)});if(Z.source=M,to(Z))throw Z;return Z}function dv(e){return de(e).toLowerCase()}function pv(e){return de(e).toUpperCase()}function gv(e,n,s){if(e=de(e),e&&(s||n===r))return ba(e);if(!e||!(n=ut(n)))return e;var o=kt(e),u=kt(n),f=xa(o,u),p=ya(o,u)+1;return tn(o,f,p).join("")}function mv(e,n,s){if(e=de(e),e&&(s||n===r))return e.slice(0,Ca(e)+1);if(!e||!(n=ut(n)))return e;var o=kt(e),u=ya(o,kt(n))+1;return tn(o,0,u).join("")}function vv(e,n,s){if(e=de(e),e&&(s||n===r))return e.replace(ti,"");if(!e||!(n=ut(n)))return e;var o=kt(e),u=xa(o,kt(n));return tn(o,u).join("")}function _v(e,n){var s=Br,o=Nr;if(Ee(n)){var u="separator"in n?n.separator:u;s="length"in n?X(n.length):s,o="omission"in n?ut(n.omission):o}e=de(e);var f=e.length;if(Mn(e)){var p=kt(e);f=p.length}if(s>=f)return e;var m=s-Ln(o);if(m<1)return o;var _=p?tn(p,0,m).join(""):e.slice(0,m);if(u===r)return _+o;if(p&&(m+=_.length-m),no(u)){if(e.slice(m).search(u)){var T,O=_;for(u.global||(u=_i(u.source,de(Uo.exec(u))+"g")),u.lastIndex=0;T=u.exec(O);)var M=T.index;_=_.slice(0,M===r?m:M)}}else if(e.indexOf(ut(u),m)!=m){var B=_.lastIndexOf(u);B>-1&&(_=_.slice(0,B))}return _+o}function wv(e){return e=de(e),e&&$c.test(e)?e.replace(Do,Yf):e}var bv=Vn(function(e,n,s){return e+(s?" ":"")+n.toUpperCase()}),io=hu("toUpperCase");function cl(e,n,s){return e=de(e),n=s?r:n,n===r?Wf(e)?Zf(e):Lf(e):e.match(n)||[]}var fl=Q(function(e,n){try{return ot(e,r,n)}catch(s){return to(s)?s:new K(s)}}),xv=Ht(function(e,n){return dt(n,function(s){s=Ot(s),qt(e,s,Qi(e[s],e))}),e});function yv(e){var n=e==null?0:e.length,s=F();return e=n?Ce(e,function(o){if(typeof o[1]!="function")throw new pt(g);return[s(o[0]),o[1]]}):[],Q(function(o){for(var u=-1;++u<n;){var f=e[u];if(ot(f[0],this,o))return ot(f[1],this,o)}})}function kv(e){return Yh(mt(e,A))}function oo(e){return function(){return e}}function Cv(e,n){return e==null||e!==e?n:e}var Av=pu(),Ev=pu(!0);function it(e){return e}function ao(e){return Fa(typeof e=="function"?e:mt(e,A))}function Rv(e){return Ga(mt(e,A))}function Sv(e,n){return Ka(e,mt(n,A))}var $v=Q(function(e,n){return function(s){return _r(s,e,n)}}),Tv=Q(function(e,n){return function(s){return _r(e,s,n)}});function uo(e,n,s){var o=He(n),u=us(n,o);s==null&&!(Ee(n)&&(u.length||!o.length))&&(s=n,n=e,e=this,u=us(n,He(n)));var f=!(Ee(s)&&"chain"in s)||!!s.chain,p=Ut(e);return dt(u,function(m){var _=n[m];e[m]=_,p&&(e.prototype[m]=function(){var T=this.__chain__;if(f||T){var O=e(this.__wrapped__),M=O.__actions__=nt(this.__actions__);return M.push({func:_,args:arguments,thisArg:e}),O.__chain__=T,O}return _.apply(e,Jt([this.value()],arguments))})}),e}function Ov(){return Fe._===this&&(Fe._=rh),this}function lo(){}function Pv(e){return e=X(e),Q(function(n){return Ya(n,e)})}var Mv=Hi(Ce),Lv=Hi(ga),Iv=Hi(fi);function hl(e){return Ki(e)?hi(Ot(e)):fd(e)}function Bv(e){return function(n){return e==null?r:wn(e,n)}}var Nv=mu(),qv=mu(!0);function co(){return[]}function fo(){return!1}function Dv(){return{}}function Hv(){return""}function Vv(){return!0}function Uv(e,n){if(e=X(e),e<1||e>St)return[];var s=tt,o=Ke(e,tt);n=F(n),e-=tt;for(var u=gi(o,n);++s<e;)n(s);return u}function Wv(e){return Y(e)?Ce(e,Ot):lt(e)?[e]:nt(Pu(de(e)))}function Fv(e){var n=++th;return de(e)+n}var zv=ps(function(e,n){return e+n},0),Gv=Vi("ceil"),Kv=ps(function(e,n){return e/n},1),Yv=Vi("floor");function Jv(e){return e&&e.length?as(e,it,Ei):r}function Xv(e,n){return e&&e.length?as(e,F(n,2),Ei):r}function Zv(e){return _a(e,it)}function jv(e,n){return _a(e,F(n,2))}function Qv(e){return e&&e.length?as(e,it,Ti):r}function e_(e,n){return e&&e.length?as(e,F(n,2),Ti):r}var t_=ps(function(e,n){return e*n},1),n_=Vi("round"),r_=ps(function(e,n){return e-n},0);function s_(e){return e&&e.length?pi(e,it):0}function i_(e,n){return e&&e.length?pi(e,F(n,2)):0}return l.after=Rg,l.ary=Wu,l.assign=pm,l.assignIn=rl,l.assignInWith=Rs,l.assignWith=gm,l.at=mm,l.before=Fu,l.bind=Qi,l.bindAll=xv,l.bindKey=zu,l.castArray=Dg,l.chain=Hu,l.chunk=Yd,l.compact=Jd,l.concat=Xd,l.cond=yv,l.conforms=kv,l.constant=oo,l.countBy=sg,l.create=vm,l.curry=Gu,l.curryRight=Ku,l.debounce=Yu,l.defaults=_m,l.defaultsDeep=wm,l.defer=Sg,l.delay=$g,l.difference=Zd,l.differenceBy=jd,l.differenceWith=Qd,l.drop=ep,l.dropRight=tp,l.dropRightWhile=np,l.dropWhile=rp,l.fill=sp,l.filter=og,l.flatMap=lg,l.flatMapDeep=cg,l.flatMapDepth=fg,l.flatten=Bu,l.flattenDeep=ip,l.flattenDepth=op,l.flip=Tg,l.flow=Av,l.flowRight=Ev,l.fromPairs=ap,l.functions=Em,l.functionsIn=Rm,l.groupBy=hg,l.initial=lp,l.intersection=cp,l.intersectionBy=fp,l.intersectionWith=hp,l.invert=$m,l.invertBy=Tm,l.invokeMap=pg,l.iteratee=ao,l.keyBy=gg,l.keys=He,l.keysIn=st,l.map=xs,l.mapKeys=Pm,l.mapValues=Mm,l.matches=Rv,l.matchesProperty=Sv,l.memoize=ks,l.merge=Lm,l.mergeWith=sl,l.method=$v,l.methodOf=Tv,l.mixin=uo,l.negate=Cs,l.nthArg=Pv,l.omit=Im,l.omitBy=Bm,l.once=Og,l.orderBy=mg,l.over=Mv,l.overArgs=Pg,l.overEvery=Lv,l.overSome=Iv,l.partial=eo,l.partialRight=Ju,l.partition=vg,l.pick=Nm,l.pickBy=il,l.property=hl,l.propertyOf=Bv,l.pull=mp,l.pullAll=qu,l.pullAllBy=vp,l.pullAllWith=_p,l.pullAt=wp,l.range=Nv,l.rangeRight=qv,l.rearg=Mg,l.reject=bg,l.remove=bp,l.rest=Lg,l.reverse=Zi,l.sampleSize=yg,l.set=Dm,l.setWith=Hm,l.shuffle=kg,l.slice=xp,l.sortBy=Eg,l.sortedUniq=Sp,l.sortedUniqBy=$p,l.split=lv,l.spread=Ig,l.tail=Tp,l.take=Op,l.takeRight=Pp,l.takeRightWhile=Mp,l.takeWhile=Lp,l.tap=Jp,l.throttle=Bg,l.thru=bs,l.toArray=el,l.toPairs=ol,l.toPairsIn=al,l.toPath=Wv,l.toPlainObject=nl,l.transform=Vm,l.unary=Ng,l.union=Ip,l.unionBy=Bp,l.unionWith=Np,l.uniq=qp,l.uniqBy=Dp,l.uniqWith=Hp,l.unset=Um,l.unzip=ji,l.unzipWith=Du,l.update=Wm,l.updateWith=Fm,l.values=Fn,l.valuesIn=zm,l.without=Vp,l.words=cl,l.wrap=qg,l.xor=Up,l.xorBy=Wp,l.xorWith=Fp,l.zip=zp,l.zipObject=Gp,l.zipObjectDeep=Kp,l.zipWith=Yp,l.entries=ol,l.entriesIn=al,l.extend=rl,l.extendWith=Rs,uo(l,l),l.add=zv,l.attempt=fl,l.camelCase=Jm,l.capitalize=ul,l.ceil=Gv,l.clamp=Gm,l.clone=Hg,l.cloneDeep=Ug,l.cloneDeepWith=Wg,l.cloneWith=Vg,l.conformsTo=Fg,l.deburr=ll,l.defaultTo=Cv,l.divide=Kv,l.endsWith=Xm,l.eq=At,l.escape=Zm,l.escapeRegExp=jm,l.every=ig,l.find=ag,l.findIndex=Lu,l.findKey=bm,l.findLast=ug,l.findLastIndex=Iu,l.findLastKey=xm,l.floor=Yv,l.forEach=Vu,l.forEachRight=Uu,l.forIn=ym,l.forInRight=km,l.forOwn=Cm,l.forOwnRight=Am,l.get=ro,l.gt=zg,l.gte=Gg,l.has=Sm,l.hasIn=so,l.head=Nu,l.identity=it,l.includes=dg,l.indexOf=up,l.inRange=Km,l.invoke=Om,l.isArguments=yn,l.isArray=Y,l.isArrayBuffer=Kg,l.isArrayLike=rt,l.isArrayLikeObject=Me,l.isBoolean=Yg,l.isBuffer=nn,l.isDate=Jg,l.isElement=Xg,l.isEmpty=Zg,l.isEqual=jg,l.isEqualWith=Qg,l.isError=to,l.isFinite=em,l.isFunction=Ut,l.isInteger=Xu,l.isLength=As,l.isMap=Zu,l.isMatch=tm,l.isMatchWith=nm,l.isNaN=rm,l.isNative=sm,l.isNil=om,l.isNull=im,l.isNumber=ju,l.isObject=Ee,l.isObjectLike=$e,l.isPlainObject=Cr,l.isRegExp=no,l.isSafeInteger=am,l.isSet=Qu,l.isString=Es,l.isSymbol=lt,l.isTypedArray=Wn,l.isUndefined=um,l.isWeakMap=lm,l.isWeakSet=cm,l.join=dp,l.kebabCase=Qm,l.last=_t,l.lastIndexOf=pp,l.lowerCase=ev,l.lowerFirst=tv,l.lt=fm,l.lte=hm,l.max=Jv,l.maxBy=Xv,l.mean=Zv,l.meanBy=jv,l.min=Qv,l.minBy=e_,l.stubArray=co,l.stubFalse=fo,l.stubObject=Dv,l.stubString=Hv,l.stubTrue=Vv,l.multiply=t_,l.nth=gp,l.noConflict=Ov,l.noop=lo,l.now=ys,l.pad=nv,l.padEnd=rv,l.padStart=sv,l.parseInt=iv,l.random=Ym,l.reduce=_g,l.reduceRight=wg,l.repeat=ov,l.replace=av,l.result=qm,l.round=n_,l.runInContext=v,l.sample=xg,l.size=Cg,l.snakeCase=uv,l.some=Ag,l.sortedIndex=yp,l.sortedIndexBy=kp,l.sortedIndexOf=Cp,l.sortedLastIndex=Ap,l.sortedLastIndexBy=Ep,l.sortedLastIndexOf=Rp,l.startCase=cv,l.startsWith=fv,l.subtract=r_,l.sum=s_,l.sumBy=i_,l.template=hv,l.times=Uv,l.toFinite=Wt,l.toInteger=X,l.toLength=tl,l.toLower=dv,l.toNumber=wt,l.toSafeInteger=dm,l.toString=de,l.toUpper=pv,l.trim=gv,l.trimEnd=mv,l.trimStart=vv,l.truncate=_v,l.unescape=wv,l.uniqueId=Fv,l.upperCase=bv,l.upperFirst=io,l.each=Vu,l.eachRight=Uu,l.first=Nu,uo(l,function(){var e={};return $t(l,function(n,s){ge.call(l.prototype,s)||(e[s]=n)}),e}(),{chain:!1}),l.VERSION=a,dt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){l[e].placeholder=l}),dt(["drop","take"],function(e,n){se.prototype[e]=function(s){s=s===r?1:qe(X(s),0);var o=this.__filtered__&&!n?new se(this):this.clone();return o.__filtered__?o.__takeCount__=Ke(s,o.__takeCount__):o.__views__.push({size:Ke(s,tt),type:e+(o.__dir__<0?"Right":"")}),o},se.prototype[e+"Right"]=function(s){return this.reverse()[e](s).reverse()}}),dt(["filter","map","takeWhile"],function(e,n){var s=n+1,o=s==Sn||s==$n;se.prototype[e]=function(u){var f=this.clone();return f.__iteratees__.push({iteratee:F(u,3),type:s}),f.__filtered__=f.__filtered__||o,f}}),dt(["head","last"],function(e,n){var s="take"+(n?"Right":"");se.prototype[e]=function(){return this[s](1).value()[0]}}),dt(["initial","tail"],function(e,n){var s="drop"+(n?"":"Right");se.prototype[e]=function(){return this.__filtered__?new se(this):this[s](1)}}),se.prototype.compact=function(){return this.filter(it)},se.prototype.find=function(e){return this.filter(e).head()},se.prototype.findLast=function(e){return this.reverse().find(e)},se.prototype.invokeMap=Q(function(e,n){return typeof e=="function"?new se(this):this.map(function(s){return _r(s,e,n)})}),se.prototype.reject=function(e){return this.filter(Cs(F(e)))},se.prototype.slice=function(e,n){e=X(e);var s=this;return s.__filtered__&&(e>0||n<0)?new se(s):(e<0?s=s.takeRight(-e):e&&(s=s.drop(e)),n!==r&&(n=X(n),s=n<0?s.dropRight(-n):s.take(n-e)),s)},se.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},se.prototype.toArray=function(){return this.take(tt)},$t(se.prototype,function(e,n){var s=/^(?:filter|find|map|reject)|While$/.test(n),o=/^(?:head|last)$/.test(n),u=l[o?"take"+(n=="last"?"Right":""):n],f=o||/^find/.test(n);u&&(l.prototype[n]=function(){var p=this.__wrapped__,m=o?[1]:arguments,_=p instanceof se,T=m[0],O=_||Y(p),M=function(ne){var ue=u.apply(l,Jt([ne],m));return o&&B?ue[0]:ue};O&&s&&typeof T=="function"&&T.length!=1&&(_=O=!1);var B=this.__chain__,H=!!this.__actions__.length,z=f&&!B,Z=_&&!H;if(!f&&O){p=Z?p:new se(this);var G=e.apply(p,m);return G.__actions__.push({func:bs,args:[M],thisArg:r}),new gt(G,B)}return z&&Z?e.apply(this,m):(G=this.thru(M),z?o?G.value()[0]:G.value():G)})}),dt(["pop","push","shift","sort","splice","unshift"],function(e){var n=Gr[e],s=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",o=/^(?:pop|shift)$/.test(e);l.prototype[e]=function(){var u=arguments;if(o&&!this.__chain__){var f=this.value();return n.apply(Y(f)?f:[],u)}return this[s](function(p){return n.apply(Y(p)?p:[],u)})}}),$t(se.prototype,function(e,n){var s=l[n];if(s){var o=s.name+"";ge.call(qn,o)||(qn[o]=[]),qn[o].push({name:n,func:s})}}),qn[ds(r,j).name]=[{name:"wrapper",func:r}],se.prototype.clone=wh,se.prototype.reverse=bh,se.prototype.value=xh,l.prototype.at=Xp,l.prototype.chain=Zp,l.prototype.commit=jp,l.prototype.next=Qp,l.prototype.plant=tg,l.prototype.reverse=ng,l.prototype.toJSON=l.prototype.valueOf=l.prototype.value=rg,l.prototype.first=l.prototype.head,fr&&(l.prototype[fr]=eg),l},In=jf();pn?((pn.exports=In)._=In,ai._=In):Fe._=In}).call(Er)})(D0,Ns);const H0={"===":(i,t)=>i===t,"!==":(i,t)=>i!==t,"<":(i,t)=>i<t,">":(i,t)=>i>t,"<=":(i,t)=>i<=t,">=":(i,t)=>i>=t},V0=(i,t)=>i&&t?H0[i.operator](Ns.get(t,i.lCondition),i.rCondition):!0,U0={condition:{lCondition:"culture.culture",rCondition:"dwarf",operator:"==="},modFalse:[],modTrue:[{identifier:"armorWeight",mod:1/2,op:"*"},{identifier:"shieldWeight",mod:1/2,op:"*"}]},Sl=[U0],W0=i=>{const t=i.culture.derivedCharacteristics,r={modFalse:[],modTrue:[t.modEndurance,t.modHope,t.modParade]};Sl.push(r),Sl.map(a=>{V0(a.condition,i)?a.modTrue.map(c=>{i.modifiers[c.identifier]||(i.modifiers[c.identifier]=new un),i.modifiers[c.identifier].addModifiers([c])}):a.modFalse.map(c=>{i.modifiers[c.identifier]||(i.modifiers[c.identifier]=new un),i.modifiers[c.identifier].addModifiers([c])})})};class ce{constructor(t){E(this,"identifier");E(this,"value");this.identifier=(t==null?void 0:t.identifier)||"unknown",this.value=(t==null?void 0:t.value)||0}}class zt{constructor(t){E(this,"identifier");E(this,"name");E(this,"protection");E(this,"parade");E(this,"weight");var r,a,c,h,g,x;switch(this.identifier=(t==null?void 0:t.identifier)||"unknown",this.name=(t==null?void 0:t.name)||"",this.identifier){case"armor":this.protection=new ce({identifier:"armorProtection",value:(r=t==null?void 0:t.protection)==null?void 0:r.value}),this.parade=new ce({}),this.weight=new ce({identifier:"armorWeight",value:(a=t==null?void 0:t.weight)==null?void 0:a.value});break;case"helm":this.protection=new ce({identifier:"helmProtection",value:(c=t==null?void 0:t.protection)==null?void 0:c.value}),this.parade=new ce({}),this.weight=new ce({identifier:"helmWeight",value:(h=t==null?void 0:t.weight)==null?void 0:h.value});break;case"shield":this.protection=new ce({}),this.parade=new ce({identifier:"shieldParade",value:(g=t==null?void 0:t.parade)==null?void 0:g.value}),this.weight=new ce({identifier:"shieldWeight",value:(x=t==null?void 0:t.weight)==null?void 0:x.value});break;default:this.protection=new ce({}),this.parade=new ce({}),this.weight=new ce({});break}}}class $l{constructor(t){E(this,"strength");E(this,"heart");E(this,"mind");this.strength=new ce(t==null?void 0:t.strength),this.heart=new ce(t==null?void 0:t.heart),this.mind=new ce(t==null?void 0:t.mind)}}class F0{constructor(t){E(this,"endurance");E(this,"hope");E(this,"parade");this.endurance=new ce(t==null?void 0:t.endurance),this.hope=new ce(t==null?void 0:t.hope),this.parade=new ce(t==null?void 0:t.parade)}}class z0{constructor(t){E(this,"values");E(this,"sr");E(this,"secondary");var r,a,c,h,g,x,w,R,y,A,$,I;this.values=new $l({strength:new ce({identifier:"strength",value:(r=t==null?void 0:t.strength)==null?void 0:r.value}),heart:new ce({identifier:"heart",value:(a=t==null?void 0:t.heart)==null?void 0:a.value}),mind:new ce({identifier:"mind",value:(c=t==null?void 0:t.mind)==null?void 0:c.value})}),this.sr=new $l({strength:new ce({identifier:"strengthSR",value:(h=t==null?void 0:t.strength)!=null&&h.value?20-((g=t==null?void 0:t.strength)==null?void 0:g.value):0}),heart:new ce({identifier:"heartSR",value:(x=t==null?void 0:t.heart)!=null&&x.value?20-((w=t==null?void 0:t.heart)==null?void 0:w.value):0}),mind:new ce({identifier:"mindSR",value:(R=t==null?void 0:t.mind)!=null&&R.value?20-((y=t==null?void 0:t.mind)==null?void 0:y.value):0})}),this.secondary=new F0({endurance:new ce({identifier:"enduranceMax",value:(A=t==null?void 0:t.strength)==null?void 0:A.value}),hope:new ce({identifier:"hopeMax",value:($=t==null?void 0:t.heart)==null?void 0:$.value}),parade:new ce({identifier:"parade",value:(I=t==null?void 0:t.mind)==null?void 0:I.value})})}}class G0 extends jn{constructor(){const t={modEndurance:{identifier:"enduranceMax",mod:20,op:"+"},modHope:{identifier:"hopeMax",mod:8,op:"+"},modParade:{identifier:"parade",mod:12,op:"+"}},r=[1,1,0,2,1,1,2,1,2,0,2,2,3,0,1,1,0,1],a=[1,6],c={defaultRank:2,possibleSkills:["bows","swords"],otherDefaultRank:1},h=[new ae({strength:5,heart:7,mind:2}),new ae({strength:4,heart:7,mind:3}),new ae({strength:5,heart:6,mind:3}),new ae({strength:4,heart:6,mind:4}),new ae({strength:5,heart:5,mind:4}),new ae({strength:6,heart:6,mind:2})],g=new Je(2,["Beau","Courageux","Entêté","Fier","Généreux","Grand","Impétueux","Passioné"]);super("bardide",["intrepid"],"prosperous",14,h,t,r,a,c,g)}}const K0=new G0;class Y0 extends jn{constructor(){const t={modEndurance:{identifier:"enduranceMax",mod:18,op:"+"},modHope:{identifier:"hopeMax",mod:10,op:"+"},modParade:{identifier:"parade",mod:12,op:"+"}},r=[0,0,2,0,2,1,0,0,2,1,2,0,2,3,0,0,3,0],a=[10,13],c={defaultRank:2,possibleSkills:["bows","swords"],otherDefaultRank:1},h=[new ae({strength:3,heart:6,mind:5}),new ae({strength:3,heart:7,mind:4}),new ae({strength:2,heart:7,mind:5}),new ae({strength:4,heart:6,mind:4}),new ae({strength:4,heart:5,mind:5}),new ae({strength:2,heart:6,mind:6})],g=new Je(2,["Affable","Curieux","Honorable","Jovial","Loyal","Passionné","Rustre","Vue perçante"]);super("hobbit",["goodSense","semiMan"],"common",14,h,t,r,a,c,g)}}const J0=new Y0;class X0 extends jn{constructor(){const t={modEndurance:{identifier:"enduranceMax",mod:20,op:"+"},modHope:{identifier:"hopeMax",mod:8,op:"+"},modParade:{identifier:"parade",mod:12,op:"+"}},r=[2,2,2,0,2,2,1,0,0,1,0,0,0,3,0,0,0,3],a=[4,17],c={defaultRank:2,possibleSkills:["bows","spears"],otherDefaultRank:1},h=[new ae({strength:5,heart:2,mind:7}),new ae({strength:4,heart:3,mind:7}),new ae({strength:5,heart:3,mind:6}),new ae({strength:4,heart:4,mind:6}),new ae({strength:5,heart:4,mind:5}),new ae({strength:6,heart:2,mind:6})],g=new Je(2,["Beau","Circonspect","Jovial","Majestueux","Patient","Rapide","Subtil","Vue perçante"]);super("lindonElf",["elvenPrecision","longDefeat"],"modest",14,h,t,r,a,c,g)}}const Z0=new X0;class j0 extends jn{constructor(){const t={modEndurance:{identifier:"enduranceMax",mod:20,op:"+"},modHope:{identifier:"hopeMax",mod:10,op:"+"},modParade:{identifier:"parade",mod:10,op:"+"}},r=[0,1,1,1,1,2,2,1,2,0,3,0,2,1,1,1,2,0],a=[8,16],c={defaultRank:2,possibleSkills:["axes","spears"],otherDefaultRank:1},h=[new ae({strength:2,heart:5,mind:7}),new ae({strength:3,heart:4,mind:7}),new ae({strength:3,heart:5,mind:6}),new ae({strength:4,heart:4,mind:6}),new ae({strength:4,heart:5,mind:5}),new ae({strength:2,heart:6,mind:6})],g=new Je(2,["Affable","Curieux","Généreux","Loyal","Malin","Patient","Rustre","Sincère"]);super("breeHuman",["fromBree"],"common",14,h,t,r,a,c,g)}}const Q0=new j0;class e1 extends jn{constructor(){const t={modEndurance:{identifier:"enduranceMax",mod:22,op:"+"},modHope:{identifier:"hopeMax",mod:8,op:"+"},modParade:{identifier:"parade",mod:10,op:"+"}},r=[2,1,0,0,1,2,0,3,0,0,1,1,0,0,3,2,2,1],a=[5,7],c={defaultRank:2,possibleSkills:["axes","swords"],otherDefaultRank:1},h=[new ae({strength:7,heart:2,mind:5}),new ae({strength:7,heart:3,mind:4}),new ae({strength:6,heart:3,mind:5}),new ae({strength:6,heart:4,mind:4}),new ae({strength:5,heart:4,mind:5}),new ae({strength:6,heart:2,mind:6})],g=new Je(2,["Circonspect","Entêté","Fier","Impétueux","Majestueux","Malin","Secret","Sévère"]);super("durinDwarf",["tireless","naugrim"],"prosperous",14,h,t,r,a,c,g)}}const t1=new e1;class n1 extends jn{constructor(){const t={modEndurance:{identifier:"enduranceMax",mod:20,op:"+"},modHope:{identifier:"hopeMax",mod:6,op:"+"},modParade:{identifier:"parade",mod:14,op:"+"}},r=[1,2,2,2,0,0,0,2,0,2,0,2,0,2,1,2,0,2],a=[3,17],c={defaultRank:2,possibleSkills:["spears","swords"],otherDefaultRank:1},h=[new ae({strength:7,heart:5,mind:2}),new ae({strength:7,heart:4,mind:3}),new ae({strength:6,heart:5,mind:3}),new ae({strength:6,heart:4,mind:4}),new ae({strength:5,heart:5,mind:4}),new ae({strength:6,heart:6,mind:2})],g=new Je(2,["Courageux","Grand","Honorable","Rapide","Secret","Sévère","Sincère","Subtil"]);super("northRanger",["kingOfMen","dunedainAllegiance"],"modest",14,h,t,r,a,c,g)}}const r1=new n1;class sc{constructor(t){E(this,"identifier");E(this,"defaultInfo");E(this,"choice");E(this,"chosen");E(this,"_choice");this.identifier=(t==null?void 0:t.identifier)||"unknown",this.chosen=(t==null?void 0:t.chosen)!==void 0?t.chosen:-1,this.choice=(t==null?void 0:t.choice)||[],this.defaultInfo=(t==null?void 0:t.defaultInfo)||new Bs("","",[]),(t==null?void 0:t.choice)!==void 0&&t.choice.length>0?(this._choice=new Je(1,this.choice),this.chosen!==-1&&this.setChosen(this.chosen)):(this._choice=new Je(1,[this.defaultInfo]),this.setChosen(0))}setChosen(t){t!==void 0&&t>=0&&(this._choice.setChosen([t]),this.chosen=this._choice.getChosenId()[0])}getChosen(){return this._choice.getChosen()[0]}isChosen(){return this.chosen!==-1}getInfos(){return this._choice.getPossibleChoice()}}class s1{constructor(t,r){E(this,"rank");E(this,"virtues");this.rank=(t==null?void 0:t.rank)||0,this.virtues=[],r&&(t!=null&&t.virtues)&&t.virtues.map(a=>{if(a.identifier!="unknown"){const c=new sc(r[a.identifier]);c.setChosen(a.chosen),this.virtues.push(c)}})}getModifiers(){return this.virtues.filter(t=>t.isChosen()).map(t=>t.getChosen()).map(t=>t.modifiers).flatMap(t=>t)}}class i1{constructor(t,r){E(this,"rank");E(this,"rewards");this.rank=(t==null?void 0:t.rank)||0,this.rewards=[],r&&(t!=null&&t.rewards)&&t.rewards.map(a=>{if(a.identifier!="unknown"){const c=new To(r[a.identifier]);c.setChosen(a.applyTo),this.rewards.push(c)}})}getModifiers(){return this.rewards.filter(t=>t.isChosen()).map(t=>t.getChosen()).map(t=>t.modifiers).flatMap(t=>t)}}const Tl={bardide:K0,lindonElf:Z0,hobbit:J0,breeHuman:Q0,durinDwarf:t1,northRanger:r1};class Ue{constructor(t){E(this,"name");E(this,"favored");E(this,"rank");this.name=(t==null?void 0:t.name)||"",this.favored=(t==null?void 0:t.favored)||!1,this.rank=(t==null?void 0:t.rank)||0}}class Ss{constructor(t){E(this,"name");E(this,"rank");this.name=(t==null?void 0:t.name)||"",this.rank=(t==null?void 0:t.rank)||0}}class o1{constructor(t){E(this,"axes");E(this,"bows");E(this,"spears");E(this,"swords");var r,a,c,h;this.axes=new Ss({name:"Haches",rank:(r=t==null?void 0:t.axes)==null?void 0:r.rank}),this.bows=new Ss({name:"Arcs",rank:(a=t==null?void 0:t.bows)==null?void 0:a.rank}),this.spears=new Ss({name:"Lances",rank:(c=t==null?void 0:t.spears)==null?void 0:c.rank}),this.swords=new Ss({name:"Epées",rank:(h=t==null?void 0:t.swords)==null?void 0:h.rank})}}class a1{constructor(t){E(this,"awe");E(this,"athletics");E(this,"awareness");E(this,"hunting");E(this,"song");E(this,"craft");var r,a,c,h,g,x,w,R,y,A,$,I;this.awe=new Ue({name:"Présence",favored:(r=t==null?void 0:t.awe)==null?void 0:r.favored,rank:(a=t==null?void 0:t.awe)==null?void 0:a.rank}),this.athletics=new Ue({name:"Athélisme",favored:(c=t==null?void 0:t.athletics)==null?void 0:c.favored,rank:(h=t==null?void 0:t.athletics)==null?void 0:h.rank}),this.awareness=new Ue({name:"Vigilance",favored:(g=t==null?void 0:t.awareness)==null?void 0:g.favored,rank:(x=t==null?void 0:t.awareness)==null?void 0:x.rank}),this.hunting=new Ue({name:"Chasse",favored:(w=t==null?void 0:t.hunting)==null?void 0:w.favored,rank:(R=t==null?void 0:t.hunting)==null?void 0:R.rank}),this.song=new Ue({name:"Chant",favored:(y=t==null?void 0:t.song)==null?void 0:y.favored,rank:(A=t==null?void 0:t.song)==null?void 0:A.rank}),this.craft=new Ue({name:"Artisanat",favored:($=t==null?void 0:t.craft)==null?void 0:$.favored,rank:(I=t==null?void 0:t.craft)==null?void 0:I.rank})}}class u1{constructor(t){E(this,"enhearten");E(this,"travel");E(this,"insight");E(this,"healing");E(this,"courtesy");E(this,"battle");var r,a,c,h,g,x,w,R,y,A,$,I;this.enhearten=new Ue({name:"Inspiration",favored:(r=t==null?void 0:t.enhearten)==null?void 0:r.favored,rank:(a=t==null?void 0:t.enhearten)==null?void 0:a.rank}),this.travel=new Ue({name:"Voyage",favored:(c=t==null?void 0:t.travel)==null?void 0:c.favored,rank:(h=t==null?void 0:t.travel)==null?void 0:h.rank}),this.insight=new Ue({name:"Intuition",favored:(g=t==null?void 0:t.insight)==null?void 0:g.favored,rank:(x=t==null?void 0:t.insight)==null?void 0:x.rank}),this.healing=new Ue({name:"Soins",favored:(w=t==null?void 0:t.healing)==null?void 0:w.favored,rank:(R=t==null?void 0:t.healing)==null?void 0:R.rank}),this.courtesy=new Ue({name:"Courtoisie",favored:(y=t==null?void 0:t.courtesy)==null?void 0:y.favored,rank:(A=t==null?void 0:t.courtesy)==null?void 0:A.rank}),this.battle=new Ue({name:"Art de la guerre",favored:($=t==null?void 0:t.battle)==null?void 0:$.favored,rank:(I=t==null?void 0:t.battle)==null?void 0:I.rank})}}class l1{constructor(t){E(this,"persuade");E(this,"stealth");E(this,"scan");E(this,"explore");E(this,"riddle");E(this,"lore");var r,a,c,h,g,x,w,R,y,A,$,I;this.persuade=new Ue({name:"Persuasion",favored:(r=t==null?void 0:t.persuade)==null?void 0:r.favored,rank:(a=t==null?void 0:t.persuade)==null?void 0:a.rank}),this.stealth=new Ue({name:"Discrétion",favored:(c=t==null?void 0:t.stealth)==null?void 0:c.favored,rank:(h=t==null?void 0:t.stealth)==null?void 0:h.rank}),this.scan=new Ue({name:"Inspection",favored:(g=t==null?void 0:t.scan)==null?void 0:g.favored,rank:(x=t==null?void 0:t.scan)==null?void 0:x.rank}),this.explore=new Ue({name:"Exploration",favored:(w=t==null?void 0:t.explore)==null?void 0:w.favored,rank:(R=t==null?void 0:t.explore)==null?void 0:R.rank}),this.riddle=new Ue({name:"Enigmes",favored:(y=t==null?void 0:t.riddle)==null?void 0:y.favored,rank:(A=t==null?void 0:t.riddle)==null?void 0:A.rank}),this.lore=new Ue({name:"Connaissances",favored:($=t==null?void 0:t.lore)==null?void 0:$.favored,rank:(I=t==null?void 0:t.lore)==null?void 0:I.rank})}}class c1{constructor(t,r,a){E(this,"_id");E(this,"name");E(this,"vocation");E(this,"age");E(this,"qualityLife");E(this,"garant");E(this,"particularities");E(this,"particularitiesId");E(this,"faults");E(this,"culture");E(this,"treasure");E(this,"attributes");E(this,"strengthSkills");E(this,"heartSkills");E(this,"mindSkills");E(this,"combatSkills");E(this,"armor");E(this,"helm");E(this,"shield");E(this,"wisdom");E(this,"valiance");E(this,"adventurePoints");E(this,"progressPoints");E(this,"communityPoints");E(this,"fatigue");E(this,"shadows");E(this,"sequels");E(this,"currentEndurance");E(this,"currentHope");E(this,"states");E(this,"travelEquipment");E(this,"modifiers");E(this,"weapons");var c,h,g,x,w,R,y,A,$,I,W,pe,ee,j,re,ve,Te,Oe;this._id=(t==null?void 0:t._id)||"",this.name=(t==null?void 0:t.name)||"",this.vocation=(t==null?void 0:t.vocation)||"captain",this.age=(t==null?void 0:t.age)||0,this.qualityLife=(t==null?void 0:t.qualityLife)||"poor",this.garant=(t==null?void 0:t.garant)||"",this.particularities=(t==null?void 0:t.particularities)||[],this.particularitiesId=(t==null?void 0:t.particularitiesId)||[],this.faults=(t==null?void 0:t.faults)||[],this.culture=t!=null&&t.culture?Tl[t.culture.culture]:Tl.hobbit,this.treasure=(t==null?void 0:t.treasure)||0,this.attributes=new z0((c=t==null?void 0:t.attributes)==null?void 0:c.values),this.strengthSkills=new a1(t==null?void 0:t.strengthSkills),this.heartSkills=new u1(t==null?void 0:t.heartSkills),this.mindSkills=new l1(t==null?void 0:t.mindSkills),this.combatSkills=new o1(t==null?void 0:t.combatSkills),this.weapons=[];try{this.culture.possibleParticularities.setChosen(this.particularitiesId),this.particularities=this.culture.possibleParticularities.getChosen()}catch(we){console.log("particularitiesId on PlayerType constructor: ",we)}(h=t==null?void 0:t.weapons)==null||h.map(we=>{this.weapons.push(new Us(we,a))}),this.armor=new zt(t==null?void 0:t.armor),this.helm=new zt(t==null?void 0:t.helm),this.shield=new zt(t==null?void 0:t.shield),this.wisdom=new s1(t==null?void 0:t.wisdom,r),this.valiance=new i1(t==null?void 0:t.valiance,a),this.adventurePoints=(t==null?void 0:t.adventurePoints)||0,this.progressPoints=(t==null?void 0:t.progressPoints)||0,this.communityPoints=(t==null?void 0:t.communityPoints)||0,this.fatigue=new ce({identifier:((g=t==null?void 0:t.fatigue)==null?void 0:g.identifier)||"fatigue",value:((x=t==null?void 0:t.fatigue)==null?void 0:x.value)||0}),this.shadows=new ce({identifier:((w=t==null?void 0:t.shadows)==null?void 0:w.identifier)||"shadows",value:((R=t==null?void 0:t.shadows)==null?void 0:R.value)||0}),this.sequels=(t==null?void 0:t.sequels)||0,this.currentEndurance=new ce({identifier:((y=t==null?void 0:t.currentEndurance)==null?void 0:y.identifier)||"currentEndurance",value:((A=t==null?void 0:t.currentEndurance)==null?void 0:A.value)||this.attributes.secondary.endurance.value}),this.currentHope=new ce({identifier:(($=t==null?void 0:t.currentHope)==null?void 0:$.identifier)||"currentHope",value:((I=t==null?void 0:t.currentHope)==null?void 0:I.value)||this.attributes.secondary.hope.value}),this.states={exhaust:((W=t==null?void 0:t.states)==null?void 0:W.exhaust)||!1,melancholic:((pe=t==null?void 0:t.states)==null?void 0:pe.melancholic)||!1,hurt:((ee=t==null?void 0:t.states)==null?void 0:ee.hurt)||!1,injuries:{value:((re=(j=t==null?void 0:t.states)==null?void 0:j.injuries)==null?void 0:re.value)||0,unit:((Te=(ve=t==null?void 0:t.states)==null?void 0:ve.injuries)==null?void 0:Te.unit)||"hours"}},this.travelEquipment=[],(Oe=t==null?void 0:t.travelEquipment)==null||Oe.map(we=>{this.travelEquipment.push({name:(we==null?void 0:we.name)||"Equipement",skillRef:we==null?void 0:we.skillRef})}),this.modifiers={},W0(this),this.addModifiers(this.valiance.getModifiers()),this.addModifiers(this.wisdom.getModifiers())}removeTravelEquipment(t){this.travelEquipment=this.travelEquipment.filter(r=>r!==t)}addTravelEquipment(t){this.travelEquipment.push(t)}addWeapon(t){this.weapons.push(t)}addVirtue(t){this.wisdom.virtues.push(t),t.isChosen()&&this.addModifiers(t.getChosen().modifiers)}addReward(t){this.valiance.rewards.push(t)}removeWeapon(t){this.valiance.rewards.filter(a=>t.rewardsMod.includes(a)).map(a=>a.resetChoices()),this.weapons=this.weapons.filter(a=>a!==t)}changeArmor(t,r){switch((t.identifier==="unknown"||this.armor!=new zt(t))&&this.resetRewardsChoiceArmor(r),r){case"armor":this.armor=new zt(t);break;case"helm":this.helm=new zt(t);break;case"shield":this.shield=new zt(t);break}}getModifiedValue(t){return t==="unknown"?0:t==="weight"?this.weapons.reduce((r,a)=>r+a.weight,0)+this.getModifiedValue("armorWeight")+this.getModifiedValue("helmWeight")+this.getModifiedValue("shieldWeight"):this.modifiers[t]?this.modifiers[t].getModified(this.getValue(t)):this.getValue(t)}getHeaderValues(){return{heroicCulture:T0[this.culture.culture],culturalAdvantage:this.culture.culturalAdvantages,vocation:q0[this.vocation],qualityLife:Oo[O0(this.treasure)],name:this.name,age:this.age,garant:this.garant,treasure:this.treasure,particularities:this.particularities,faults:this.faults}}setValue(t,r){switch(t){case"unknown":return;case"currentEndurance":this.setCurrentEndurance(r);break;case"currentHope":this.setCurrentHope(r);break;case"fatigue":this.setFatigue(r);break;case"shadows":this.setShadows(r);break;case"sequels":this.setSequels(r);break;case"adventurePoints":this.setAdventurePoints(r);break;case"progressPoints":this.setProgressPoints(r);break;case"communityPoints":this.setCommunityPoints(r);break}}setCurrentEndurance(t){if(t<0)t=0;else{let a=this.getModifiedValue("enduranceMax");t>a&&(t=a)}this.currentEndurance.value=t;let r=this.getModifiedValue("currentEndurance");this.states.exhaust=r<this.getModifiedValue("weight")+this.getModifiedValue("fatigue")}getSkill(t){switch(t=t,t){case"awe":return this.strengthSkills.awe;case"athletics":return this.strengthSkills.athletics;case"awareness":return this.strengthSkills.awareness;case"hunting":return this.strengthSkills.hunting;case"song":return this.strengthSkills.song;case"craft":return this.strengthSkills.craft;case"enhearten":return this.heartSkills.enhearten;case"travel":return this.heartSkills.travel;case"insight":return this.heartSkills.insight;case"healing":return this.heartSkills.healing;case"courtesy":return this.heartSkills.courtesy;case"battle":return this.heartSkills.battle;case"persuade":return this.mindSkills.persuade;case"stealth":return this.mindSkills.stealth;case"scan":return this.mindSkills.scan;case"explore":return this.mindSkills.explore;case"riddle":return this.mindSkills.riddle;case"lore":return this.mindSkills.lore}}addInjury(t){t.value>0&&(this.states.injuries=t,this.states.hurt=!0)}removeInjury(){this.states.injuries={value:0,unit:"hours"},this.states.hurt=!1}setVirtueChoice(t,r){if(this.wisdom.virtues[t]===void 0)throw new Error("Not find virtue with index: "+t);this.wisdom.virtues[t].setChosen(r);const a=this.wisdom.virtues[t].getChosen();this.addModifiers(a.modifiers)}setRewardChoiceArmor(t,r){if(this.valiance.rewards[t]===void 0)throw new Error("Not find virtue with index: "+t);this.valiance.rewards[t].setChosen(r);const a=this.valiance.rewards[t].getChosen();this.addModifiers(a.modifiers)}setRewardChoiceWeapon(t,r){if(this.valiance.rewards[t]===void 0)throw new Error("Not find virtue with index: "+t);this.valiance.rewards[t].setChosen("weapon"),this.weapons[r].rewardsMod.push(this.valiance.rewards[t])}addModifiers(t){t.map(r=>{this.modifiers[r.identifier]||(this.modifiers[r.identifier]=new un),this.modifiers[r.identifier].addModifiers([r])})}removeModifiers(t){t.map(r=>{this.modifiers[r.identifier]&&(console.log("remove",r.identifier,r),this.modifiers[r.identifier].removeModifiers(r))})}async saveOnDb(){await Pt.Character.update(this._id,this)}getValue(t){switch(t){case"unknown":return 0;case"sequels":return this.sequels;case"adventurePoints":return this.adventurePoints;case"progressPoints":return this.progressPoints;case"communityPoints":return this.communityPoints;case"strength":return this.attributes.values.strength.value;case"heart":return this.attributes.values.heart.value;case"mind":return this.attributes.values.mind.value;case"strengthSR":return this.attributes.sr.strength.value;case"heartSR":return this.attributes.sr.heart.value;case"mindSR":return this.attributes.sr.mind.value;case"enduranceMax":return this.attributes.secondary.endurance.value;case"hopeMax":return this.attributes.secondary.hope.value;case"parade":return this.attributes.secondary.parade.value;case"fatigue":return this.fatigue.value;case"shadows":return this.shadows.value;case"currentEndurance":return this.currentEndurance.value;case"currentHope":return this.currentHope.value;case"armorWeight":return this.armor.weight.value;case"armorProtection":return this.armor.protection.value;case"helmWeight":return this.helm.weight.value;case"helmProtection":return this.helm.protection.value;case"shieldWeight":return this.shield.weight.value;case"shieldParade":return this.shield.parade.value;default:return 0}}resetRewardsChoiceArmor(t){this.valiance.rewards.map(r=>{r.isChosen()&&r.getChosen().applyTo===t&&(this.removeModifiers(r.getChosen().modifiers),r.resetChoices())})}setCurrentHope(t){if(t<0)t=0;else{let a=this.getModifiedValue("hopeMax");t>a&&(t=a)}this.currentHope.value=t;let r=this.getModifiedValue("currentHope");this.states.melancholic=r<this.getModifiedValue("shadows")}setFatigue(t){t<0&&(t=0),this.fatigue.value=t,this.states.exhaust=this.getModifiedValue("currentEndurance")<this.getModifiedValue("weight")+this.getModifiedValue("fatigue")}setShadows(t){if(t<0)t=0;else{let a=this.getModifiedValue("hopeMax");t>a&&(t=a)}this.shadows.value=t;let r=this.getModifiedValue("shadows");this.states.melancholic=r>this.getModifiedValue("currentHope")}setSequels(t){t<0&&(t=0),this.sequels=t}setAdventurePoints(t){t<0&&(t=0),this.adventurePoints=t}setProgressPoints(t){t<0&&(t=0),this.progressPoints=t}setCommunityPoints(t){t<0&&(t=0),this.communityPoints=t}}const bt={token:"",headers:new Headers({Accept:"application/json","Content-Type":"application/json"}),baseURL:"http://192.168.1.32:8000/api/"},Pt={Character:{getAllCharacters:async()=>{const t=await(await fetch(bt.baseURL+"character",{method:"GET",headers:bt.headers})).json(),r=await Pt.Virtues.getAllVirtues(),a=await Pt.Rewards.getAllRewards();return t.map(c=>new c1(c,r,a))},update:async(i,t)=>await(await fetch(bt.baseURL+"character/"+i,{method:"PUT",headers:bt.headers,body:JSON.stringify(t)})).json()},Weapons:{getAllWeapons:async()=>{const t=await(await fetch(bt.baseURL+"weapon/",{method:"GET",headers:bt.headers})).json(),r=await Pt.Rewards.getAllRewards();return t.map(a=>new Us(a,r))}},Armors:{getAllArmors:async()=>(await(await fetch(bt.baseURL+"armor/",{method:"GET",headers:bt.headers})).json()).map(r=>new zt(r))},Virtues:{getAllVirtues:async()=>{const t=await(await fetch(bt.baseURL+"virtue/",{method:"GET",headers:bt.headers})).json();return{empoweredVirtue:t.filter(a=>a.identifier==="empoweredVirtue")[0],livenessVirtue:t.filter(a=>a.identifier==="livenessVirtue")[0],resistanceVirtue:t.filter(a=>a.identifier==="resistanceVirtue")[0],masteryVirtue:t.filter(a=>a.identifier==="masteryVirtue")[0],steadyVirtue:t.filter(a=>a.identifier==="steadyVirtue")[0],assuranceVirtue:t.filter(a=>a.identifier==="assuranceVirtue")[0]}}},Rewards:{getAllRewards:async()=>{const t=await(await fetch(bt.baseURL+"reward/",{method:"GET",headers:bt.headers})).json();return{sharpReward:t.filter(a=>a.identifier==="sharpReward")[0],adjustedReward:t.filter(a=>a.identifier==="adjustedReward")[0],cleverReward:t.filter(a=>a.identifier==="cleverReward")[0],devastatingReward:t.filter(a=>a.identifier==="devastatingReward")[0],ferociousReward:t.filter(a=>a.identifier==="ferociousReward")[0],reinforcedReward:t.filter(a=>a.identifier==="reinforcedReward")[0]}}}};function f1(i,t){return b(),k("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[d("path",{"fill-rule":"evenodd",d:"M20.03 4.72a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06 0l-7.5-7.5a.75.75 0 011.06-1.06L12 11.69l6.97-6.97a.75.75 0 011.06 0zm0 6a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06 0l-7.5-7.5a.75.75 0 111.06-1.06L12 17.69l6.97-6.97a.75.75 0 011.06 0z","clip-rule":"evenodd"})])}function h1(i,t){return b(),k("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[d("path",{"fill-rule":"evenodd",d:"M11.47 4.72a.75.75 0 011.06 0l7.5 7.5a.75.75 0 11-1.06 1.06L12 6.31l-6.97 6.97a.75.75 0 01-1.06-1.06l7.5-7.5zm.53 7.59l-6.97 6.97a.75.75 0 01-1.06-1.06l7.5-7.5a.75.75 0 011.06 0l7.5 7.5a.75.75 0 11-1.06 1.06L12 12.31z","clip-rule":"evenodd"})])}function d1(i,t){return b(),k("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[d("path",{"fill-rule":"evenodd",d:"M12.53 16.28a.75.75 0 01-1.06 0l-7.5-7.5a.75.75 0 011.06-1.06L12 14.69l6.97-6.97a.75.75 0 111.06 1.06l-7.5 7.5z","clip-rule":"evenodd"})])}function p1(i,t){return b(),k("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[d("path",{"fill-rule":"evenodd",d:"M11.47 7.72a.75.75 0 011.06 0l7.5 7.5a.75.75 0 11-1.06 1.06L12 9.31l-6.97 6.97a.75.75 0 01-1.06-1.06l7.5-7.5z","clip-rule":"evenodd"})])}function g1(i,t){return b(),k("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[d("path",{"fill-rule":"evenodd",d:"M11.078 2.25c-.917 0-1.699.663-1.85 1.567L9.05 4.889c-.02.12-.115.26-.297.348a7.493 7.493 0 00-.986.57c-.166.115-.334.126-.45.083L6.3 5.508a1.875 1.875 0 00-2.282.819l-.922 1.597a1.875 1.875 0 00.432 2.385l.84.692c.095.078.17.229.154.43a7.598 7.598 0 000 1.139c.015.2-.059.352-.153.43l-.841.692a1.875 1.875 0 00-.432 2.385l.922 1.597a1.875 1.875 0 002.282.818l1.019-.382c.115-.043.283-.031.45.082.312.214.641.405.985.57.182.088.277.228.297.35l.178 1.071c.151.904.933 1.567 1.85 1.567h1.844c.916 0 1.699-.663 1.85-1.567l.178-1.072c.02-.12.114-.26.297-.349.344-.165.673-.356.985-.57.167-.114.335-.125.45-.082l1.02.382a1.875 1.875 0 002.28-.819l.923-1.597a1.875 1.875 0 00-.432-2.385l-.84-.692c-.095-.078-.17-.229-.154-.43a7.614 7.614 0 000-1.139c-.016-.2.059-.352.153-.43l.84-.692c.708-.582.891-1.59.433-2.385l-.922-1.597a1.875 1.875 0 00-2.282-.818l-1.02.382c-.114.043-.282.031-.449-.083a7.49 7.49 0 00-.985-.57c-.183-.087-.277-.227-.297-.348l-.179-1.072a1.875 1.875 0 00-1.85-1.567h-1.843zM12 15.75a3.75 3.75 0 100-7.5 3.75 3.75 0 000 7.5z","clip-rule":"evenodd"})])}function m1(i,t){return b(),k("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[d("path",{"fill-rule":"evenodd",d:"M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z","clip-rule":"evenodd"})])}const er=(i,t)=>{const r=i.__vccOpts||i;for(const[a,c]of t)r[a]=c;return r},v1={},_1={class:"absolute h-full w-full grayscale line-bottom-sm"};function w1(i,t){return b(),k("div",_1)}const Ve=er(v1,[["render",w1]]);function b1(i,t){return b(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}function Po(i,t){return b(),k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})])}const x1=["onClick"],y1={class:"relative z-10 font-UncialAntiqua whitespace-nowrap"},k1={key:0,class:"flex absolute z-50 text-xs font-sansserif font-semibold leading-4 bg-white rounded border border-gray/40 p-3 shadow-md top-6 after:absolute after:content-[''] after:h-4 after:w-4 after:rotate-45 after:-top-[0.54rem] after:border-l after:border-t after:rounded-tl after:border-gray/40 after:bg-white"},ln=fe({__name:"DescribableName",props:{values:null},setup(i){const t=i,r=Re({hover:!1}),a=()=>{r.hover=Be.GetInstance().tryChangeHover(r.hover,()=>{r.hover=!1})};return(c,h)=>(b(),k("div",{class:"flex font-medium cursor-pointer",onClick:Kt(a,["prevent","stop"])},[d("span",y1,U(t.values.name),1),L(Ge(Po),{class:"relative z-10 h-3 w-3 ml-2 mb-auto"}),r.hover?(b(),k("div",k1,U(t.values.description),1)):oe("",!0)],8,x1))}}),C1={class:"relative w-full flex text-[0.6rem] leading-[1.2rem] font-sansserif font-bold"},A1={class:"absolute -top-11 left-[50%] mx-2 text-xl text-center w-80 font-UncialAntiqua font-medium"},E1={class:"h-full w-1/3 flex flex-col pl-2 pr-5 py-2 space-y-2"},R1={class:"relative h-5 flex gap-3"},S1=d("span",{class:"text-[0.5rem] leading-[0.7rem] mb-auto"},"Culture héroïque",-1),$1={class:"font-UncialAntiqua font-medium"},T1={class:"relative h-5 flex"},O1=d("span",{class:"text-[0.5rem] leading-[0.7rem] mb-auto mr-2 whitespace-nowrap"},"Avantage culturel",-1),P1={class:"relative h-5 flex gap-3"},M1=d("span",{class:"text-[0.5rem] leading-[0.7rem] mb-auto"},"Vocation",-1),L1={class:"h-full w-1/3 flex flex-col pl-2 pr-5 py-2 space-y-2"},I1={class:"flex"},B1={class:"flex flex-col w-11/12 space-y-2"},N1={class:"h-5 flex"},q1={class:"relative flex gap-3 w-1/5 mr-2"},D1=d("span",{class:"text-[0.5rem] leading-[0.7rem] mb-auto"},"Age",-1),H1={class:"font-UncialAntiqua font-medium"},V1={class:"relative flex gap-3 w-4/5 mr-2"},U1=d("span",{class:"text-[0.5rem] leading-[0.7rem] mb-auto"},"Niveau de vie",-1),W1={class:"font-UncialAntiqua font-medium"},F1={class:"h-5"},z1={class:"relative h-5 flex gap-3 mr-2"},G1=d("span",{class:"text-[0.5rem] leading-[0.7rem] mb-auto"},"Garant",-1),K1={class:"font-UncialAntiqua font-medium"},Y1={class:"flex flex-col grow aspect-square m-auto"},J1=d("span",null,"Trésor",-1),X1={class:"square-xl"},Z1={class:"relative h-5 flex gap-3 mr-2"},j1=d("span",{class:"text-[0.5rem] leading-[0.7rem] mb-auto"},"Voie de l'ombre",-1),Q1={class:"h-full w-1/3 flex flex-col pl-2 pr-5 py-2 space-y-2"},ew={class:"relative h-5 flex gap-3"},tw=d("span",{class:"text-[0.5rem] leading-[0.7rem] mb-auto"},"Particularités",-1),nw={class:"font-UncialAntiqua font-medium"},rw={class:"relative h-5 flex gap-3"},sw={class:"pl-4"},iw={class:"relative h-5 flex gap-3"},ow=d("span",{class:"text-[0.5rem] leading-[0.7rem] mb-auto"},"Défauts",-1),aw={class:"font-UncialAntiqua font-medium"},uw=fe({__name:"HeaderPlayerSheet",props:{values:null},setup(i){const t=i,r=Re({culturalAdvantage:t.values.culturalAdvantage});return(a,c)=>(b(),k("div",C1,[d("div",A1,U(t.values.name),1),d("div",E1,[d("span",R1,[S1,d("span",$1,U(t.values.heroicCulture),1),L(Ve)]),d("span",T1,[O1,(b(!0),k(_e,null,Ae(r.culturalAdvantage,h=>(b(),k("span",{key:h.name,class:"font-medium"},[L(ln,{values:h},null,8,["values"])]))),128)),L(Ve)]),d("span",P1,[M1,L(ln,{values:t.values.vocation.name},null,8,["values"]),L(Ve)])]),d("div",L1,[d("div",I1,[d("div",B1,[d("div",N1,[d("span",q1,[D1,d("span",H1,U(t.values.age),1),L(Ve)]),d("span",V1,[U1,d("span",W1,U(t.values.qualityLife.name),1),L(Ve)])]),d("div",F1,[d("span",z1,[G1,d("span",K1,U(t.values.garant),1),L(Ve)])])]),d("div",Y1,[J1,d("span",X1,U(t.values.treasure),1)])]),d("span",Z1,[j1,L(ln,{values:t.values.vocation.shadowPath},null,8,["values"]),L(Ve)])]),d("div",Q1,[d("span",ew,[tw,d("span",nw,U(t.values.particularities.join(", ")),1),L(Ve)]),d("span",rw,[d("span",sw,[L(ln,{values:t.values.vocation.particularity},null,8,["values"])]),L(Ve)]),d("span",iw,[ow,d("span",aw,U(t.values.faults.join(", ")),1),L(Ve)])])]))}}),lw={},cw={class:"absolute h-full w-full double-line-right left-1"};function fw(i,t){return b(),k("div",cw)}const Mo=er(lw,[["render",fw]]),hw={},dw={class:"absolute h-full w-full line-top"};function pw(i,t){return b(),k("div",dw)}const fn=er(hw,[["render",pw]]),gw={class:"flex mx-3"},mw={key:0,class:"square relative mr-2 flex"},vw={key:0,class:"absolute h-3 w-3 rotate-45 bg-check bg-cover bg-center bg-no-repeat"},_w={class:"line-bottom-sm relative mr-2 h-[1.375rem] grow font-serif text-[0.8rem] font-bold leading-[rem]"},ww={class:"square mx-1.5 rotate-45"},bw={key:0,class:"absolute h-3 w-3 bg-check bg-cover bg-center bg-no-repeat"},xw={class:"square mx-1.5 rotate-45"},yw={key:0,class:"absolute h-3 w-3 bg-check bg-cover bg-center bg-no-repeat"},kw={class:"square mx-1.5 rotate-45"},Cw={key:0,class:"absolute h-3 w-3 bg-check bg-cover bg-center bg-no-repeat"},Aw={class:"square mx-1.5 rotate-45"},Ew={key:0,class:"absolute h-3 w-3 bg-check bg-cover bg-center bg-no-repeat"},Rw={class:"square mx-1.5 rotate-45"},Sw={key:0,class:"absolute h-3 w-3 bg-check bg-cover bg-center bg-no-repeat"},$w={class:"square mx-1.5 rotate-45"},Tw={key:0,class:"absolute h-3 w-3 bg-check bg-cover bg-center bg-no-repeat"},qs=fe({__name:"SkillRow",props:{favorisable:{type:Boolean},skill:null},setup(i){const t=i;return(r,a)=>(b(),k("div",gw,[t.favorisable?(b(),k("span",mw,[i.skill.favored?(b(),k("span",vw)):oe("",!0)])):oe("",!0),d("span",_w,U(t.skill.name),1),d("span",ww,[t.skill.rank>=1?(b(),k("span",bw)):oe("",!0)]),d("span",xw,[t.skill.rank>=2?(b(),k("span",yw)):oe("",!0)]),d("span",kw,[t.skill.rank>=3?(b(),k("span",Cw)):oe("",!0)]),d("span",Aw,[t.skill.rank>=4?(b(),k("span",Ew)):oe("",!0)]),d("span",Rw,[t.skill.rank>=5?(b(),k("span",Sw)):oe("",!0)]),d("span",$w,[t.skill.rank>=6?(b(),k("span",Tw)):oe("",!0)])]))}}),Ow={class:"flex mx-3"},Pw={key:0,class:"square relative mr-2 flex"},Mw=d("span",{class:"absolute h-3 w-3 rotate-45 bg-check bg-cover bg-center bg-no-repeat opacity-10 animate-ping"},null,-1),Lw=d("span",{class:"absolute z-40 h-3 w-3 rotate-45 bg-check bg-cover bg-center bg-no-repeat opacity-10"},null,-1),Iw=[Mw,Lw],Bw={class:"line-bottom-sm relative mr-2 h-[1.375rem] grow font-serif text-[0.8rem] font-bold leading-[rem]"},Nw=["onClick"],qw=["onClick"],Dw=d("span",{class:"absolute h-3 w-3 rotate-45 bg-check bg-cover bg-center bg-no-repeat opacity-10 animate-ping"},null,-1),Hw=d("span",{class:"absolute z-40 h-3 w-3 rotate-45 bg-check bg-cover bg-center bg-no-repeat opacity-10"},null,-1),Vw=[Dw,Hw],Ds=fe({__name:"SkillRowModification",props:{favorisable:{type:Boolean},skill:null},setup(i){const t=i,r=Re({modifSkill:t.skill}),a=h=>h>=0&&h<=6,c=h=>{"rank"in r.modifSkill&&a(h)&&(r.modifSkill.rank=h)};return(h,g)=>(b(),k("div",Ow,[t.favorisable?(b(),k("span",Pw,["favored"in t.skill&&t.skill.favored?(b(),k("span",{key:0,class:"absolute h-3 w-3 rotate-45 bg-check bg-cover bg-center bg-no-repeat cursor-pointer",onClick:g[0]||(g[0]=x=>"favored"in r.modifSkill&&(r.modifSkill.favored=!1))})):(b(),k("span",{key:1,class:"absolute flex -inset-0.5 cursor-pointer",onClick:g[1]||(g[1]=x=>"favored"in r.modifSkill&&(r.modifSkill.favored=!0))},Iw))])):oe("",!0),d("span",Bw,U("name"in t.skill?t.skill.name:""),1),(b(),k(_e,null,Ae(6,x=>d("span",{key:x,class:"square relative mx-1.5 rotate-45"},["rank"in t.skill&&t.skill.rank>=x?(b(),k("span",{key:0,class:"absolute h-3 w-3 bg-check bg-cover bg-center bg-no-repeat cursor-pointer",onClick:w=>c(x-1)},null,8,Nw)):(b(),k("span",{key:1,class:"absolute flex -inset-0.5 -rotate-45 cursor-pointer",onClick:w=>c(x)},Vw,8,qw))])),64))]))}}),Yn=class{constructor(){E(this,"onModification");E(this,"callbacks");this.onModification=!1,this.callbacks=[]}static GetInstance(t){return Yn.instance[t]||(Yn.instance[t]=new Yn),Yn.instance[t]}registerCallback(t){this.callbacks.push(t)}setOnModification(t){this.onModification=t,this.callbacks.map(r=>r(t))}};let An=Yn;E(An,"instance",{});const Uw={class:"relative h-full w-full"},Ww={class:"flex flex-col h-full w-full pr-3"},Fw={class:"flex flex-col h-1/3 w-full justify-center mb-2"},zw=d("span",{class:"mx-auto text-red"},"CORPS",-1),Gw={class:"flex flex-col h-full justify-center mr-10"},Kw={class:"diamond diamond-lg relative top-2.5 ml-[56.7%] mr-auto"},Yw=d("span",{class:"absolute -top-8 left-0 text-xs"},"Valeur",-1),Jw={class:"diamond diamond-double diamond-xl mx-auto"},Xw=d("span",{class:"absolute right-3 -bottom-7 text-xs"},"SR",-1),Zw={class:"diamond diamond-lg relative -top-2.5 ml-[56.7%] mr-auto"},jw=d("span",{class:"absolute -top-3 left-9 text-xs"},"Endurance",-1),Qw={class:"relative grow w-full"},eb={key:0,class:"flex flex-col h-full justify-between pt-[18px] pb-2"},tb={key:1,class:"flex flex-col h-full justify-between pt-[18px] pb-2"},nb={class:"relative h-40"},rb={class:"flex flex-col h-full justify-between pt-2 pb-[10px]"},sb=d("span",{class:"text-red text-sm"},"COMPETENCES DE COMBATS",-1),ib={key:0,class:"my-auto flex flex-col justify-center gap-1"},ob={key:1,class:"my-auto flex flex-col justify-center gap-1"},ab=fe({__name:"StrengthColumn",props:{player:null},setup(i){const t=i,r=Re({onModification:!1});return An.GetInstance(t.player._id).registerCallback(a=>r.onModification=a),(a,c)=>(b(),k("div",Uw,[L(Mo),d("div",Ww,[d("div",Fw,[zw,d("div",Gw,[d("span",Kw,[d("span",null,U(t.player.getModifiedValue("strength")),1),Yw]),d("span",Jw,[d("span",null,U(t.player.getModifiedValue("strengthSR")),1),Xw]),d("span",Zw,[d("span",null,U(t.player.getModifiedValue("enduranceMax")),1),jw])])]),d("div",Qw,[L(fn),r.onModification?(b(),k("div",tb,[(b(!0),k(_e,null,Ae(t.player.strengthSkills,h=>(b(),k("div",{key:JSON.stringify(h)},[L(Ds,{favorisable:!0,skill:h},null,8,["skill"])]))),128))])):(b(),k("div",eb,[(b(!0),k(_e,null,Ae(t.player.strengthSkills,h=>(b(),k("div",{key:JSON.stringify(h)},[L(qs,{favorisable:!0,skill:h},null,8,["skill"])]))),128))]))]),d("div",nb,[L(fn),d("div",rb,[sb,r.onModification?(b(),k("div",ob,[(b(!0),k(_e,null,Ae(t.player.combatSkills,h=>(b(),k("div",{key:JSON.stringify(h)},[L(Ds,{favorisable:!1,skill:h},null,8,["skill"])]))),128))])):(b(),k("div",ib,[(b(!0),k(_e,null,Ae(t.player.combatSkills,h=>(b(),k("div",{key:JSON.stringify(h)},[L(qs,{favorisable:!1,skill:h},null,8,["skill"])]))),128))]))])])])]))}}),ub={class:"border-red border rounded text-2xs px-1 cursor-pointer"},Lr=fe({__name:"Button",props:{content:null},setup(i){const t=i;return(r,a)=>(b(),k("span",ub,U(t.content),1))}}),lb={class:"flex relative h-full"},cb={class:"break-words relative"},fb=fe({__name:"AddReward",props:{player:null},setup(i){const t=i,r=Re({rewardsDB:{},hover:!1});Hs(async()=>{r.rewardsDB=await Pt.Rewards.getAllRewards()});const a=()=>{r.hover=Be.GetInstance().tryChangeHover(r.hover,()=>{r.hover=!1})},c=g=>{t.player.addReward(new To(r.rewardsDB[g])),t.player.saveOnDb()},h=g=>g&&g.getChosen?g.getChosen():g?g.defaultChoice||new xo("",""):new xo("","");return(g,x)=>(b(),k("div",lb,[L(Lr,{class:"text-red",content:"Ajouter",onClick:a}),r.hover?(b(),k("div",{key:0,class:"flex flex-col absolute z-50 text-2xs text-black font-sansserif font-semibold leading-4 bg-white w-80 rounded border border-gray/40 p-3 shadow-md left-[125%] top-0 -translate-y-[80%] after:absolute after:content-[''] after:h-4 after:w-4 after:-rotate-45 after:-left-[0.54rem] after:top-[75%] after:translate-y-[50%] after:border-l after:border-t after:rounded-tl after:border-gray/40 after:bg-white",onClick:a},[(b(!0),k(_e,null,Ae(r.rewardsDB,w=>(b(),k("div",{key:w.identifier,class:"whitespace-normal text-xs relative mb-0.5 ml-3"},[d("span",cb,[L(ln,{values:h(w),onClick:R=>w.identifier&&c(w.identifier)},null,8,["values","onClick"])])]))),128))])):oe("",!0)]))}});function hb(i,t){return b(),k("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[d("path",{"fill-rule":"evenodd",d:"M2 10a.75.75 0 01.75-.75h12.59l-2.1-1.95a.75.75 0 111.02-1.1l3.5 3.25a.75.75 0 010 1.1l-3.5 3.25a.75.75 0 11-1.02-1.1l2.1-1.95H2.75A.75.75 0 012 10z","clip-rule":"evenodd"})])}const db={class:"relative z-10 font-UncialAntiqua whitespace-nowrap"},pb={key:0,class:"flex absolute z-40 text-xs font-sansserif font-semibold leading-4 bg-white rounded border border-gray/40 p-3 shadow-md top-6 after:absolute after:content-[''] after:h-4 after:w-4 after:rotate-45 after:-top-[0.54rem] after:border-l after:border-t after:rounded-tl after:border-gray/40 after:bg-white"},gb={key:0,class:"flex flex-col absolute w-72 z-50 text-xs font-sansserif font-semibold text-black leading-4 bg-white gap-2 rounded border border-gray/40 p-3 shadow-md top-6 after:absolute after:content-[''] after:h-4 after:w-4 after:rotate-45 after:-top-[0.54rem] after:border-l after:border-t after:rounded-tl after:border-gray/40 after:bg-white"},mb=d("div",{class:"grid grid-cols-2 mb-2"},[d("span",null,"Equipements"),d("span",{class:"mx-auto"},"Valeur modifié")],-1),vb=["onClick"],_b={class:"flex"},wb={key:0,class:"flex"},bb=d("span",{class:"h-0.5 w-full mr-2 my-auto rounded bg-slate-600"},null,-1),xb=[bb],yb={key:1,class:"flex mx-auto"},kb={class:"px-1 text-slate-400"},Cb={class:"px-1 text-red"},Ab=fe({__name:"DescribableNameRewardNotChosen",props:{reward:null,rewardId:null,player:null},setup(i){const t=i,r=Re({hover:!1,hoverChoice:!1}),a=Vl(null),c=()=>{a.value&&console.log(a)},h=()=>{r.hover=Be.GetInstance().tryChangeHover(r.hover,()=>{r.hover=!1,r.hoverChoice=!1})},g=(R,y)=>{R!=="weapon"?(t.player.setRewardChoiceArmor(t.rewardId,R),t.player.saveOnDb(),console.log("default")):y.id!==void 0&&(t.player.setRewardChoiceWeapon(t.rewardId,y.id),t.player.saveOnDb(),console.log("weapon : ",y.id))},x=R=>{switch(R){case"notApply":return!1;case"armor":return t.player.armor.identifier!=="unknown";case"helm":return t.player.helm.identifier!=="unknown";case"shield":return t.player.shield.identifier!=="unknown";case"weapon":return t.player.weapons.length>0}},w=(R,y)=>{if(x(R))switch(R){case"notApply":break;case"armor":return[{identifier:"armor",name:t.player.armor.name,value:y.map(A=>t.player.getValue(A.identifier)),modifiedValue:y.map(A=>un.tryModify(t.player.getValue(A.identifier),[A]))}];case"helm":return[{identifier:"armor",name:t.player.helm.name,value:y.map(A=>t.player.getValue(A.identifier)),modifiedValue:y.map(A=>un.tryModify(t.player.getValue(A.identifier),[A]))}];case"shield":return[{identifier:"armor",name:t.player.shield.name,value:y.map(A=>t.player.getValue(A.identifier)),modifiedValue:y.map(A=>un.tryModify(t.player.getValue(A.identifier),[A]))}];case"weapon":return t.player.weapons.map((A,$)=>({identifier:"weapon",id:$,name:A.name,value:[...new Set(y.map(I=>A.getModifiedValue(I.identifier)))],modifiedValue:[...new Set(y.map(I=>un.tryModify(A.getModifiedValue(I.identifier),[I])))]}))}return[]};return(R,y)=>(b(),k("div",{class:"flex font-medium cursor-pointer",onClick:h},[d("span",db,U(t.reward.defaultChoice.name),1),L(Ge(Po),{class:"relative z-10 h-3 w-3 ml-2 mb-auto text-red"}),r.hover?(b(),k("div",pb,[d("span",null,U(t.reward.defaultChoice.description),1),d("span",{class:"relative text-red ml-2",onClick:y[0]||(y[0]=Kt(A=>r.hoverChoice=!r.hoverChoice,["stop","prevent"]))},[et(" (Appliquer) "),r.hoverChoice?(b(),k("div",gb,[mb,d("div",{ref_key:"equipements",ref:a,class:"flex flex-col"},[(b(!0),k(_e,null,Ae(t.reward.getInfos(),(A,$)=>(b(),k("div",{key:$,class:"flex flex-col text-xs font-normal"},[(b(!0),k(_e,null,Ae(w(A.applyTo,A.modifiers),(I,W)=>(b(),k("div",{key:W,class:"grid grid-cols-2 rounded hover:bg-slate-200/40",onClick:pe=>g(A.applyTo,I)},[d("div",_b,U(I.name),1),I.value.length===0&&I.modifiedValue.length===0?(b(),k("div",wb,xb)):(b(),k("div",yb,[d("span",kb,U(I.value.join("/")),1),L(Ge(hb),{class:"h-4 w-4"}),d("span",Cb,U(I.modifiedValue.join("/")),1)]))],8,vb))),128))]))),128)),d("span",null,U(c()),1)],512)])):oe("",!0)])])):oe("",!0)]))}}),Eb={class:"relative h-full w-full px-3"},Rb={class:"absolute z-50 top-1/3 left-[50%] -translate-x-[50%]"},Sb=d("span",{class:"relative z-40 text-red bg-yellow pl-2 pr-8"},"COMPETENCES",-1),$b={class:"flex flex-col h-full w-full"},Tb={class:"flex flex-col h-1/3 w-full justify-center mb-2"},Ob=d("span",{class:"mx-auto text-red"},"CŒUR",-1),Pb={class:"flex flex-col h-full justify-center mr-10"},Mb={class:"diamond diamond-lg relative top-2.5 ml-[56.7%] mr-auto"},Lb=d("span",{class:"absolute -top-8 left-0 text-xs"},"Valeur",-1),Ib={class:"diamond diamond-double diamond-xl mx-auto"},Bb=d("span",{class:"absolute right-3 -bottom-7 text-xs"},"SR",-1),Nb={class:"diamond diamond-lg relative -top-2.5 ml-[56.7%] mr-auto"},qb=d("span",{class:"absolute -top-1 left-10 text-xs"},"Espoir",-1),Db={class:"relative grow w-full"},Hb={key:0,class:"flex flex-col h-full justify-between pt-[18px] pb-2"},Vb={key:1,class:"flex flex-col h-full justify-between pt-[18px] pb-2"},Ub={class:"relative h-40"},Wb={class:"flex flex-col h-full pt-2"},Fb={class:"flex h-5 w-full justify-between mb-2"},zb=d("span",{class:"text-red text-sm"},"RECOMPENSES",-1),Gb={key:0,class:"relative flex mr-auto my-0.5 ml-8"},Kb={class:"relative diamond diamond-md top-3"},Yb=d("span",{class:"absolute top-5 -left-16 font-serif text-[0.65rem]"}," VAILLANCE ",-1),Jb={key:0,class:"whitespace-nowrap relative"},Xb={key:1,class:"whitespace-nowrap relative"},Zb=fe({__name:"HeartColumn",props:{player:null},setup(i){const t=i,r=Re({onModification:!1});An.GetInstance(t.player._id).registerCallback(c=>r.onModification=c);const a=()=>{An.GetInstance(t.player._id).setOnModification(!r.onModification),r.onModification||t.player.saveOnDb()};return(c,h)=>(b(),k("div",Eb,[L(Mo),d("div",Rb,[Sb,r.onModification?(b(),Cn(Ge(b1),{key:1,class:"absolute right-2 top-[50%] -translate-y-[50%] z-50 w-4 h-4 text-green-600 cursor-pointer",onClick:a})):(b(),Cn(Ge(g1),{key:0,class:"absolute right-2 top-[50%] -translate-y-[50%] z-50 w-4 h-4 text-gray cursor-pointer",onClick:a}))]),d("div",$b,[d("div",Tb,[Ob,d("div",Pb,[d("span",Mb,[d("span",null,U(t.player.getModifiedValue("heart")),1),Lb]),d("span",Ib,[d("span",null,U(t.player.getModifiedValue("heartSR")),1),Bb]),d("span",Nb,[d("span",null,U(t.player.getModifiedValue("hopeMax")),1),qb])])]),d("div",Db,[L(fn),r.onModification?(b(),k("div",Vb,[(b(!0),k(_e,null,Ae(t.player.heartSkills,g=>(b(),k("div",{key:JSON.stringify(g)},[L(Ds,{favorisable:!0,skill:g},null,8,["skill"])]))),128))])):(b(),k("div",Hb,[(b(!0),k(_e,null,Ae(t.player.heartSkills,g=>(b(),k("div",{key:JSON.stringify(g)},[L(qs,{favorisable:!0,skill:g},null,8,["skill"])]))),128))]))]),d("div",Ub,[L(fn),d("div",Wb,[d("div",Fb,[zb,i.player.valiance.rank>i.player.valiance.rewards.length?(b(),k("span",Gb,[L(fb,{player:t.player},null,8,["player"])])):oe("",!0),d("span",Kb,[d("span",null,U(t.player.valiance.rank),1),Yb])]),(b(!0),k(_e,null,Ae(t.player.valiance.rewards,(g,x)=>(b(),k("div",{key:x,class:"whitespace-normal text-xs relative mb-0.5 ml-3"},[g.isChosen()?(b(),k("span",Jb,[L(ln,{values:g.getChosen()},null,8,["values"])])):(b(),k("span",Xb,[L(Ab,{player:t.player,reward:g,"reward-id":x},null,8,["player","reward","reward-id"])]))]))),128))])])])]))}}),jb={class:"relative z-10 font-UncialAntiqua whitespace-nowrap"},Qb={key:0,class:"flex absolute z-40 text-xs font-sansserif font-semibold leading-4 bg-white w-72 rounded border border-gray/40 p-3 shadow-md top-6 after:absolute after:content-[''] after:h-4 after:w-4 after:rotate-45 after:-top-[0.54rem] after:border-l after:border-t after:rounded-tl after:border-gray/40 after:bg-white"},ex={key:0,class:"flex flex-col absolute z-50 text-xs font-sansserif font-semibold text-black leading-4 bg-white w-52 gap-2 rounded border border-gray/40 p-3 shadow-md top-6 after:absolute after:content-[''] after:h-4 after:w-4 after:rotate-45 after:-top-[0.54rem] after:border-l after:border-t after:rounded-tl after:border-gray/40 after:bg-white"},tx=["onClick"],nx=fe({__name:"DescribableNameVirtueNotChosen",props:{virtue:null,virtueId:null,player:null},setup(i){const t=i,r=Re({hover:!1,hoverChoice:!1}),a=()=>{r.hover=Be.GetInstance().tryChangeHover(r.hover,()=>{r.hover=!1,r.hoverChoice=!1})},c=h=>{t.player.setVirtueChoice(t.virtueId,h),t.player.saveOnDb()};return(h,g)=>(b(),k("div",{class:"flex font-medium cursor-pointer",onClick:a},[d("span",jb,U(t.virtue.defaultInfo.name),1),L(Ge(Po),{class:"relative z-10 h-3 w-3 ml-2 mb-auto text-red"}),r.hover?(b(),k("div",Qb,[et(U(t.virtue.defaultInfo.description)+" ",1),d("span",{class:"relative text-red mr-2 ml-auto",onClick:g[0]||(g[0]=Kt(x=>r.hoverChoice=!r.hoverChoice,["stop","prevent"]))},[et(" (Choisir) "),r.hoverChoice?(b(),k("div",ex,[(b(!0),k(_e,null,Ae(t.virtue.getInfos(),(x,w)=>(b(),k("span",{key:w,onClick:R=>c(w)},U(x.description),9,tx))),128))])):oe("",!0)])])):oe("",!0)]))}}),rx={class:"flex relative h-full"},sx={class:"break-words relative"},ix=fe({__name:"AddVirtue",props:{player:null},setup(i){const t=i,r=Re({virtuesDB:{},hover:!1});Hs(async()=>{r.virtuesDB=await Pt.Virtues.getAllVirtues()});const a=()=>{r.hover=Be.GetInstance().tryChangeHover(r.hover,()=>{r.hover=!1})},c=g=>{t.player.addVirtue(new sc(r.virtuesDB[g])),t.player.saveOnDb()},h=g=>g&&g.getChosen?g.getChosen():g?g.defaultInfo||new Bs("",""):new Bs("","");return(g,x)=>(b(),k("div",rx,[L(Lr,{class:"text-red",content:"Ajouter",onClick:a}),r.hover?(b(),k("div",{key:0,class:"flex flex-col absolute z-50 text-2xs text-black font-sansserif font-semibold leading-4 bg-white w-36 rounded border border-gray/40 p-3 shadow-md left-[125%] top-0 -translate-y-[80%] after:absolute after:content-[''] after:h-4 after:w-4 after:-rotate-45 after:-left-[0.54rem] after:top-[75%] after:translate-y-[50%] after:border-l after:border-t after:rounded-tl after:border-gray/40 after:bg-white",onClick:a},[(b(!0),k(_e,null,Ae(r.virtuesDB,w=>(b(),k("div",{key:w.identifier,class:"whitespace-normal text-xs relative mb-0.5 ml-3"},[d("span",sx,[L(ln,{values:h(w),onClick:R=>w.identifier&&c(w.identifier)},null,8,["values","onClick"])])]))),128))])):oe("",!0)]))}}),ox={class:"relative h-full w-full px-3"},ax={class:"flex flex-col h-full w-full"},ux={class:"flex flex-col h-1/3 w-full justify-center mb-2"},lx=d("span",{class:"mx-auto text-red"},"ESPRIT",-1),cx={class:"flex flex-col h-full justify-center mr-10"},fx={class:"diamond diamond-lg relative top-2.5 ml-[56.7%] mr-auto"},hx=d("span",{class:"absolute -top-8 left-0 text-xs"},"Valeur",-1),dx={class:"diamond diamond-double diamond-xl mx-auto"},px=d("span",{class:"absolute right-3 -bottom-7 text-xs"},"SR",-1),gx={class:"diamond diamond-lg relative -top-2.5 ml-[56.7%] mr-auto"},mx={key:0,class:"absolute -top-7 left-8 text-sm text-red"},vx=d("span",{class:"absolute -top-2 left-10 text-xs"},"Parade",-1),_x={class:"relative grow w-full"},wx={key:0,class:"flex flex-col h-full justify-between pt-[18px] pb-2"},bx={key:1,class:"flex flex-col h-full justify-between pt-[18px] pb-2"},xx={class:"relative h-40"},yx={class:"flex flex-col h-full pt-2"},kx={class:"flex h-5 w-full justify-between mb-2"},Cx=d("span",{class:"text-red text-sm"},"VERTUS",-1),Ax={key:0,class:"relative flex mr-auto my-0.5 ml-8"},Ex={class:"relative diamond diamond-md top-3"},Rx=d("span",{class:"absolute top-4 -left-14 font-serif text-[0.65rem]"}," SAGESSE ",-1),Sx={key:0,class:"break-words relative"},$x={key:1,class:"break-words relative"},Tx=fe({__name:"MindColumn",props:{player:null},setup(i){const t=i,r=Re({onModification:!1});return An.GetInstance(t.player._id).registerCallback(a=>r.onModification=a),(a,c)=>(b(),k("div",ox,[d("div",ax,[d("div",ux,[lx,d("div",cx,[d("span",fx,[d("span",null,U(t.player.getModifiedValue("mind")),1),hx]),d("span",dx,[d("span",null,U(t.player.getModifiedValue("mindSR")),1),px]),d("span",gx,[d("span",null,U(t.player.getModifiedValue("parade")),1),t.player.getModifiedValue("shieldParade")>0?(b(),k("span",mx,"+"+U(t.player.getModifiedValue("shieldParade")),1)):oe("",!0),vx])])]),d("div",_x,[L(fn),r.onModification?(b(),k("div",bx,[(b(!0),k(_e,null,Ae(t.player.mindSkills,h=>(b(),k("div",{key:JSON.stringify(h)},[L(Ds,{favorisable:!0,skill:h},null,8,["skill"])]))),128))])):(b(),k("div",wx,[(b(!0),k(_e,null,Ae(t.player.mindSkills,h=>(b(),k("div",{key:JSON.stringify(h)},[L(qs,{favorisable:!0,skill:h},null,8,["skill"])]))),128))]))]),d("div",xx,[L(fn),d("div",yx,[d("div",kx,[Cx,i.player.wisdom.rank>i.player.wisdom.virtues.length?(b(),k("span",Ax,[L(ix,{player:t.player},null,8,["player"])])):oe("",!0),d("span",Ex,[d("span",null,U(t.player.wisdom.rank),1),Rx])]),(b(!0),k(_e,null,Ae(t.player.wisdom.virtues,(h,g)=>(b(),k("div",{key:h.identifier+"-"+g,class:"whitespace-normal text-xs relative mb-0.5 ml-3"},[h.isChosen()?(b(),k("span",Sx,[L(ln,{values:h.getChosen()},null,8,["values"])])):(b(),k("span",$x,[L(nx,{player:t.player,virtue:h,"virtue-id":g},null,8,["player","virtue","virtue-id"])]))]))),128))])])])]))}}),Ox={class:"flex w-full gap-1 font-sansserif font-bold text-[0.6rem] leading-[0.8rem]"},Px={class:"relative flex grow h-[1.125rem] rounded hover:bg-slate-200/40 cursor-pointer"},Mx={key:0,class:"ml-1"},Lx={class:"relative flex w-1/5 justify-center h-[1.125rem] my-auto"},Ix={class:"relative flex w-1/5 justify-center h-[1.125rem] my-auto"},Os=fe({__name:"ArmorRow",props:{player:null,armor:null},setup(i){const t=i,r=()=>{if(t.player)switch(t.armor.identifier){case"unknown":return"";case"armor":return t.player.getModifiedValue("armorWeight");case"helm":return t.player.getModifiedValue("helmWeight");case"shield":return t.player.getModifiedValue("shieldWeight")}else return t.armor.weight.value},a=()=>{if(t.player)switch(t.armor.identifier){case"unknown":return"";case"armor":return t.player.getModifiedValue("armorProtection")+"d";case"helm":return"+"+t.player.getModifiedValue("helmProtection")+"d";case"shield":return"+"+t.player.getModifiedValue("shieldParade")}else return t.armor.identifier==="unknown"?"":t.armor.identifier==="shield"?"+"+t.armor.parade.value:t.armor.identifier==="armor"?t.armor.protection.value+"d":"+"+t.armor.protection.value+"d"},c=()=>t.armor.identifier==="unknown"?"":t.armor.name,h=()=>!t.player||t.armor.identifier==="unknown"?[]:t.player.valiance.rewards.filter(g=>g.applyTo===t.armor.identifier).map(g=>g.defaultChoice.name);return(g,x)=>(b(),k("div",Ox,[d("span",Px,[et(U(c())+" ",1),h().length>0?(b(),k("span",Mx,"( "+U(h().map(w=>w.match(/^[\w\s\u00C0-\u017F]*/)).join(", "))+" )",1)):oe("",!0),L(Ve)]),d("span",Lx,[et(U(a())+" ",1),L(Ve)]),d("span",Ix,[et(U(r())+" ",1),L(Ve)])]))}}),Bx={class:"relative flex w-full gap-1 font-sansserif text-[0.6rem] font-bold leading-[0.8rem]"},Nx=["onClick"],qx=["onClick"],Dx={key:0,class:"relative flex my-auto h-[1.125rem] w-4/12"},ic=fe({__name:"WeaponRow",props:{player:null,hideNote:{type:Boolean},weapon:{default:()=>new Us({})}},setup(i){const t=i,r=Re({hover:!1}),a=()=>{t.player&&t.weapon.name!==""&&(r.hover=Be.GetInstance().tryChangeHover(r.hover,()=>{r.hover=!1}))},c=()=>{t.player&&t.weapon.name!==""&&(a(),t.player.removeWeapon(t.weapon),t.player.saveOnDb())},h=()=>{var g;return(g=t.weapon)==null?void 0:g.rewardsMod.map(x=>x.getChosen().name.match(/^[\w\s\u00C0-\u017F]*/)).join(", ")};return(g,x)=>{var w,R,y,A,$,I,W;return b(),k("div",Bx,[d("span",{class:Sr([{"cursor-pointer hover:bg-slate-200/40":t.player&&((w=t.weapon)==null?void 0:w.name)!==""},"relative flex my-auto h-[1.125rem] grow rounded"]),onClick:a},[et(U(((R=t.weapon)==null?void 0:R.name)+(((y=t.weapon)==null?void 0:y.rewardsMod.length)>0?" ( "+h()+" )":""))+" ",1),t.player&&((A=t.weapon)==null?void 0:A.name)!==""&&r.hover?(b(),k("div",{key:0,class:"flex flex-col absolute right-0 -top-2.5 z-50 text-2xs text-black font-sansserif font-semibold leading-4 bg-white w-20 rounded border border-gray/40 p-3 shadow-md after:absolute after:content-[''] after:h-4 after:w-4 after:-rotate-45 after:-left-[0.54rem] after:border-l after:border-t after:rounded-tl after:border-gray/40 after:bg-white",onClick:Kt(a,["stop"])},[d("span",{class:"pl-2 rounded hover:bg-slate-200",onClick:Kt(c,["stop"])},"Jeter",8,qx)],8,Nx)):oe("",!0),L(Ve)],2),d("span",{class:Sr([{"w-1/12":!t.hideNote,"w-1/6":t.hideNote},"relative flex my-auto h-[1.125rem] justify-center"])},[et(U((($=t.weapon)==null?void 0:$.name)!==""?t.weapon.getModifiedValue("weaponDamage"):"")+" ",1),L(Ve)],2),d("span",{class:Sr([{"w-1/12":!t.hideNote,"w-1/6":t.hideNote},"relative flex my-auto h-[1.125rem] justify-center"])},[et(U(((I=t.weapon)==null?void 0:I.name)!==""?t.weapon.getModifiedValue("weaponInjuryOneHand")===t.weapon.getModifiedValue("weaponInjuryTwoHand")?t.weapon.getModifiedValue("weaponInjuryOneHand"):t.weapon.getModifiedValue("weaponInjuryOneHand")+" / "+t.weapon.getModifiedValue("weaponInjuryTwoHand"):"")+" ",1),L(Ve)],2),d("span",{class:Sr([{"w-1/12":!t.hideNote,"w-1/6":t.hideNote},"relative flex my-auto h-[1.125rem] justify-center"])},[et(U(((W=t.weapon)==null?void 0:W.name)!==""?t.weapon.weight:"")+" ",1),L(Ve)],2),t.hideNote?oe("",!0):(b(),k("span",Dx,[et(U(t.weapon.note)+" ",1),L(Ve)]))])}}}),Hx={},Vx={class:"absolute h-full w-full line-right left-0.5"};function Ux(i,t){return b(),k("div",Vx)}const Wx=er(Hx,[["render",Ux]]),Fx={},zx={class:"absolute h-full w-full double-line-top"};function Gx(i,t){return b(),k("div",zx)}const Kx=er(Fx,[["render",Gx]]),Yx={class:"relative h-full"},Jx=Ul('<div class="flex w-full h-4 gap-1 font-sansserif font-bold text-2xs mb-2"><span class="grow my-auto h-2.5"> Nom </span><span class="my-auto h-2.5 w-1/6 text-center">Dégats</span><span class="my-auto h-2.5 w-1/6 text-center">Blessure</span><span class="my-auto h-2.5 w-1/6 text-center">Charge</span></div>',1),Xx=fe({__name:"AddWeapon",props:{player:null},setup(i){const t=i,r=Re({weaponsDB:[],rewardsDB:{},hover:!1});Hs(async()=>{r.weaponsDB=await Pt.Weapons.getAllWeapons(),r.rewardsDB=await Pt.Rewards.getAllRewards()});const a=()=>{r.hover=Be.GetInstance().tryChangeHover(r.hover,()=>{r.hover=!1})},c=h=>{t.player.addWeapon(new Us(h,r.rewardsDB)),t.player.saveOnDb()};return(h,g)=>(b(),k("div",Yx,[L(Lr,{content:"Ajouter",onClick:a}),r.hover?(b(),k("div",{key:0,class:"flex flex-col absolute z-50 text-2xs text-black font-sansserif font-semibold leading-4 bg-white w-96 rounded border border-gray/40 p-3 shadow-md left-[125%] top-0 -translate-y-[90%] after:absolute after:content-[''] after:h-4 after:w-4 after:-rotate-45 after:-left-[0.54rem] after:top-[89%] after:translate-y-[50%] after:border-l after:border-t after:rounded-tl after:border-gray/40 after:bg-white",onClick:a},[Jx,(b(!0),k(_e,null,Ae(r.weaponsDB.filter(x=>!t.player.weapons.includes(x)),x=>(b(),k("span",{key:JSON.stringify(x),class:"cursor-pointer hover:bg-slate-200 px-1 rounded-sm pt-0.5"},[L(ic,{"hide-note":!0,player:i.player,weapon:x,onClick:Kt(w=>c(x),["prevent","stop"])},null,8,["player","weapon","onClick"])]))),128))])):oe("",!0)]))}}),Zx={class:"flex flex-col absolute left-0 translate-x-[45%] -top-8 z-50 text-2xs text-black font-sansserif font-semibold leading-4 bg-white w-96 rounded border border-gray/40 p-3 shadow-md after:absolute after:content-[''] after:h-4 after:w-4 after:-rotate-45 after:-left-[0.54rem] after:top-11 after:border-l after:border-t after:rounded-tl after:border-gray/40 after:bg-white"},jx={class:"flex w-full h-4 gap-1 font-sansserif font-bold text-2xs mb-2"},Qx=d("span",{class:"grow"},null,-1),e2={key:0,class:"my-auto h-2.5 w-1/5 text-center"},t2={key:1,class:"my-auto h-2.5 w-1/5 text-center"},n2=d("span",{class:"my-auto h-2.5 w-1/5 text-center"},"Charge",-1),vo=fe({__name:"ModifArmor",props:{armors:null,player:null,changeIdentifier:null},setup(i){const t=i,r=a=>{Be.GetInstance().tryChangeHover(!0,()=>{}),t.player.changeArmor(a,t.changeIdentifier),t.player.saveOnDb()};return(a,c)=>(b(),k("div",Zx,[d("div",jx,[Qx,t.changeIdentifier==="shield"?(b(),k("span",e2,"Parade")):(b(),k("span",t2,"Protection")),n2]),(b(!0),k(_e,null,Ae(t.armors,h=>(b(),k("span",{key:JSON.stringify(h),class:"cursor-pointer hover:bg-slate-200 px-1 rounded-sm pt-0.5"},[L(Os,{armor:h,onClick:Kt(g=>r(h),["stop"])},null,8,["armor","onClick"])]))),128)),d("span",{class:"mt-3 ml-1 px-2 border border-red rounded w-fit font-UncialAntiqua text-red text-2xs font-normal cursor-pointer",onClick:c[0]||(c[0]=Kt(h=>r(new Ge(zt)()),["stop"]))},"Jeter")]))}}),r2={class:"relative flex flex-col h-full w-2/3 pt-2 pr-2"},s2={class:"flex w-full gap-1 font-sansserif text-[0.6rem] font-bold leading-[0.8rem]"},i2={class:"relative grow flex justify-between font-UncialAntiqua text-sm font-normal text-red"},o2=d("span",{class:"my-auto h-2.5 w-1/12 text-center"},"Dégats",-1),a2=d("span",{class:"my-auto h-2.5 w-1/12 text-center"},"Blessure",-1),u2=d("span",{class:"my-auto h-2.5 w-1/12 text-center"},"Charge",-1),l2=d("span",{class:"my-auto h-2.5 w-4/12"},"Notes",-1),c2={class:"flex h-full grow flex-col justify-between pt-2 pl-2 pr-2"},f2={class:"mt-1"},h2={class:"relative flex flex-col"},d2=d("div",{class:"mb-1 flex w-full gap-1 text-[0.6rem] leading-[0.8rem]"},[d("span",{class:"grow font-serif font-bold"},"ARMURE"),d("span",{class:"my-auto h-2.5 w-1/5 text-center font-sansserif font-bold"},"Protection"),d("span",{class:"my-auto h-2.5 w-1/5 text-center font-sansserif font-bold"},"Charge")],-1),p2={class:"relative flex flex-col"},g2=d("div",{class:"flex w-full gap-1 text-[0.6rem] leading-[0.8rem]"},[d("span",{class:"grow font-serif font-bold"},"CASQUE")],-1),m2={class:"relative"},v2=d("div",{class:"mb-1 flex w-full gap-1 text-[0.6rem] leading-[0.8rem]"},[d("span",{class:"grow font-serif font-bold"},"BOUCLIER"),d("span",{class:"my-auto h-2.5 w-1/5 text-center font-sansserif font-bold"},"Parade"),d("span",{class:"my-auto h-2.5 w-1/5 text-center font-sansserif font-bold"},"Charge")],-1),_2=fe({__name:"WarGear",props:{player:null},setup(i){const t=i,r=Re({armors:[],hover:{armor:!1,helm:!1,shield:!1}});Hs(async()=>{r.armors=await Pt.Armors.getAllArmors()});const a=()=>{r.hover.armor=Be.GetInstance().tryChangeHover(r.hover.armor,()=>{r.hover.armor=!1})},c=()=>{r.hover.helm=Be.GetInstance().tryChangeHover(r.hover.helm,()=>{r.hover.helm=!1})},h=()=>{r.hover.shield=Be.GetInstance().tryChangeHover(r.hover.shield,()=>{r.hover.shield=!1})};return(g,x)=>(b(),k(_e,null,[L(Kx,{class:"w-[99%]"}),d("div",r2,[L(Wx,{class:"h-[80%] mt-1"}),d("div",s2,[d("span",i2,[et(" ATTIRAIL DE GUERRE "),t.player.weapons.length<4?(b(),Cn(Xx,{key:0,player:t.player},null,8,["player"])):oe("",!0)]),o2,a2,u2,l2]),(b(),k(_e,null,Ae(4,w=>d("div",{key:w-1,class:"flex grow flex-col justify-center"},[L(ic,{"hide-note":!1,player:t.player,weapon:t.player.weapons[w-1]},null,8,["player","weapon"])])),64))]),d("div",c2,[d("div",f2,[d("div",h2,[d2,L(Os,{armor:t.player.armor,player:t.player,onClick:a},null,8,["armor","player"]),r.hover.armor?(b(),Cn(vo,{key:0,armors:r.armors.filter(w=>w.identifier==="armor").sort((w,R)=>w.protection.value-R.protection.value),"change-identifier":"armor",player:t.player},null,8,["armors","player"])):oe("",!0)]),d("div",p2,[g2,L(Os,{armor:t.player.helm,player:t.player,onClick:c},null,8,["armor","player"]),r.hover.helm?(b(),Cn(vo,{key:0,armors:r.armors.filter(w=>w.identifier==="helm").sort((w,R)=>w.protection.value-R.protection.value),"change-identifier":"helm",player:t.player},null,8,["armors","player"])):oe("",!0)])]),d("div",m2,[v2,L(Os,{armor:t.player.shield,player:t.player,onClick:h},null,8,["armor","player"]),r.hover.shield?(b(),Cn(vo,{key:0,armors:r.armors.filter(w=>w.identifier==="shield").sort((w,R)=>w.parade.value-R.parade.value),"change-identifier":"shield",player:t.player},null,8,["armors","player"])):oe("",!0)])])],64))}}),w2={class:"absolute z-50 flex -translate-x-[100%] -translate-y-[50%] top-4 -left-3"},b2=d("div",{class:"absolute h-full w-full simple-border"},null,-1),x2={class:"flex flex-col z-50 text-xs font-sansserif font-semibold leading-4 m-[0.2rem] p-2 bg-sheet bg-cover bg-center"},y2={class:"mx-auto w-fit select-none"},k2=fe({__name:"TooltipsOneNumberValue",props:{player:null,identifierAttr:null},setup(i){const t=i,r=()=>t.player.getModifiedValue(t.identifierAttr),a=c=>{t.player.setValue(t.identifierAttr,t.player.getModifiedValue(t.identifierAttr)+c)};return(c,h)=>(b(),k("div",w2,[b2,d("div",x2,[L(Ge(h1),{class:"mx-auto h-6 w-6 cursor-pointer",onClick:h[0]||(h[0]=g=>a(5))}),L(Ge(p1),{class:"mx-auto h-6 w-6 cursor-pointer",onClick:h[1]||(h[1]=g=>a(1))}),d("span",y2,U(r()),1),L(Ge(d1),{class:"mx-auto h-6 w-6 cursor-pointer",onClick:h[2]||(h[2]=g=>a(-1))}),L(Ge(f1),{class:"mx-auto h-6 w-6 cursor-pointer",onClick:h[3]||(h[3]=g=>a(-5))})])]))}}),C2={class:"relative flex w-fit mx-auto"},A2={key:0},E2={key:0},R2={key:1},S2={key:1},on=fe({__name:"EditablePoints",props:{player:null,identifierAttr:null,sizeDiamond:null,strToZero:null},setup(i){const t=i,r=Re({stateClick:"unknown",hover:!1}),a=()=>{r.hover=Be.GetInstance().tryChangeHover(r.hover,()=>{r.hover=!1,t.player.saveOnDb()})};return(c,h)=>(b(),k("div",C2,[d("span",{class:Sr([{"diamond-md":t.sizeDiamond==="medium","diamond-lg":t.sizeDiamond==="large"},"diamond cursor-pointer select-none"]),onClick:a},[t!=null&&t.strToZero?(b(),k("span",A2,[t.player.getModifiedValue(t.identifierAttr)>0?(b(),k("span",E2,U(t.player.getModifiedValue(t.identifierAttr)),1)):(b(),k("span",R2,U(t.strToZero),1))])):(b(),k("span",S2,U(t.player.getModifiedValue(t.identifierAttr)),1))],2),En(L(k2,{"identifier-attr":t.identifierAttr,player:t.player},null,8,["identifier-attr","player"]),[[Ro,r.hover]])]))}}),$2={class:"flex"},T2={class:"relative flex w-1/3 flex-col justify-center"},O2=d("span",{class:"mx-auto mb-2 whitespace-pre-line text-center text-2xs text-red"},"POINTS D'AVENTURE",-1),P2={class:"flex w-1/3 flex-col justify-center"},M2=d("span",{class:"mx-auto mb-2 whitespace-pre-line text-center text-2xs text-red"},"POINTS DE PROGRESSION",-1),L2={class:"flex w-1/3 flex-col justify-center"},I2=d("span",{class:"mx-auto mb-2 whitespace-pre-line text-center text-2xs text-red"},"POINTS DE COMMUNAUTE",-1),B2={class:"flex grow py-8"},N2={class:"flex w-1/2 flex-col justify-between"},q2=d("span",{class:"text-xs mx-2 mb-auto whitespace-pre-line text-center text-red"},"ENDURANCE ACTUELLE",-1),D2={class:"mr-6 mt-6 flex flex-col"},H2={class:"relative top-3.5 -right-2 ml-[55.5%] mr-auto"},V2={class:"relative flex w-fit mx-auto diamond diamond-md"},U2={class:"cursor-pointer select-none"},W2=d("span",{class:"absolute -top-6 -right-1 text-xs"},"Charge",-1),F2={class:"relative -top-3.5 -right-2 ml-[55.5%] mr-auto"},z2=d("span",{class:"absolute top-10 -left-2 text-xs"},"Fatigue",-1),G2={class:"flex w-1/2 flex-col justify-between"},K2=d("span",{class:"text-xs mx-8 mb-auto whitespace-pre-line text-center text-red"},"ESPOIR ACTUEL",-1),Y2={class:"mr-6 mt-6 flex flex-col"},J2={class:"relative top-3.5 -right-2 ml-[55.5%] mr-auto"},X2=d("span",{class:"absolute -top-6 -right-2 text-xs"},"Ombres",-1),Z2={class:"relative -top-3.5 -right-2 ml-[55.5%] mr-auto"},j2=d("span",{class:"absolute top-10 -left-3 text-xs"},"Séquelles",-1),Q2=fe({__name:"XpSecondaryPoints",props:{player:null},setup(i){const t=i;return(r,a)=>(b(),k(_e,null,[d("div",$2,[d("div",T2,[O2,L(on,{"identifier-attr":"adventurePoints",player:t.player,"size-diamond":"medium"},null,8,["player"])]),d("div",P2,[M2,L(on,{"identifier-attr":"progressPoints",player:t.player,"size-diamond":"medium"},null,8,["player"])]),d("div",L2,[I2,L(on,{"identifier-attr":"communityPoints",player:t.player,"size-diamond":"medium"},null,8,["player"])])]),d("div",B2,[d("div",N2,[q2,d("div",D2,[d("span",H2,[d("span",V2,[d("span",U2,U(t.player.getModifiedValue("weight")),1)]),W2]),L(on,{"identifier-attr":"currentEndurance",player:t.player,"size-diamond":"large","str-to-zero":"-"},null,8,["player"]),d("span",F2,[L(on,{"identifier-attr":"fatigue",player:t.player,"size-diamond":"medium","str-to-zero":"-"},null,8,["player"]),z2])])]),d("div",G2,[K2,d("div",Y2,[d("span",J2,[L(on,{"identifier-attr":"shadows",player:t.player,"size-diamond":"medium","str-to-zero":"-"},null,8,["player"]),X2]),L(on,{"identifier-attr":"currentHope",player:t.player,"size-diamond":"large"},null,8,["player"]),d("span",Z2,[L(on,{"identifier-attr":"sequels",player:t.player,"size-diamond":"medium","str-to-zero":"-"},null,8,["player"]),j2])])])])],64))}}),ey={class:"absolute z-50 flex -translate-y-[100%] translate-x-[50%] top-4 -left-3"},ty=d("div",{class:"absolute h-full w-full simple-border"},null,-1),ny={class:"flex flex-col gap-2 z-50 text-xs font-sansserif font-semibold leading-4 m-[0.2rem] p-4 bg-sheet bg-cover bg-center"},ry=d("span",null,"Gravité de la blessure",-1),sy={class:"flex text-sm"},iy=d("option",{value:"hours"},"Heures",-1),oy=d("option",{value:"days"},"Jours",-1),ay=[iy,oy],uy=fe({__name:"TooltipsAddInjury",props:{player:null},setup(i){const t=i,r=Re({injury:{value:0,unit:"hours"}}),a=()=>{t.player.addInjury(r.injury),t.player.saveOnDb(),Be.GetInstance().tryChangeHover(!0,()=>{})};return(c,h)=>(b(),k("div",ey,[ty,d("div",ny,[ry,d("div",sy,[En(d("input",{"onUpdate:modelValue":h[0]||(h[0]=g=>r.injury.value=g),class:"w-10 p-1 h-6 my-auto",name:"value",type:"number"},null,512),[[Wl,r.injury.value]]),En(d("select",{"onUpdate:modelValue":h[1]||(h[1]=g=>r.injury.unit=g),class:"block py-1 pl-2 pr-4 text-sm text-gray-500 bg-transparent border-0 border-b-2 border-gray-200 appearance-none focus:outline-none focus:ring-0 focus:border-gray-200"},ay,512),[[Fl,r.injury.unit]])]),d("button",{class:"bg-transparent w-16 mx-auto text-blue-700 hover:text-red font-semibold border py-1 border-red rounded",onClick:a}," Valider ")])]))}}),ly={class:"relative flex flex-col h-full w-full"},cy={class:"relative flex flex-col"},fy=d("span",{class:"text-sm mx-auto mb-2 text-center text-red"},"ETATS",-1),hy={class:"flex pl-4"},dy={class:"flex h-full w-1/2 flex-col gap-1"},py={class:"flex"},gy={class:"square mr-2 cursor-not-allowed"},my={key:0,class:"absolute h-3 w-3 rotate-45 bg-check bg-cover bg-center bg-no-repeat"},vy=d("span",{class:"my-auto font-serif text-xs font-semibold leading-3"},"Epuisé",-1),_y={class:"flex"},wy={class:"square mr-2 cursor-not-allowed"},by={key:0,class:"absolute h-3 w-3 rotate-45 bg-check bg-cover bg-center bg-no-repeat"},xy=d("span",{class:"my-auto font-serif text-xs font-semibold leading-3"},"Mélancolique",-1),yy={class:"flex relative"},ky={key:0,class:"absolute h-3 w-3 rotate-45 bg-check bg-cover bg-center bg-no-repeat"},Cy=d("span",{class:"my-auto font-serif text-xs font-semibold leading-3"},"Blessé",-1),Ay={class:"flex h-full w-1/2 flex-col"},Ey=d("span",{class:"my-auto font-serif text-xs font-semibold italic leading-3"},"Blessure",-1),Ry={class:"rect w-24 text-sm"},Sy={key:0},$y=fe({__name:"States",props:{player:null},setup(i){const t=i,r=Re({hover:!1}),a=()=>{t.player.states.injuries.value>0?(t.player.removeInjury(),t.player.saveOnDb()):c()},c=()=>{r.hover=Be.GetInstance().tryChangeHover(r.hover,()=>{r.hover=!1})};return(h,g)=>(b(),k("div",ly,[L(fn,{class:"-top-2 left-2"}),d("div",cy,[fy,d("div",hy,[d("div",dy,[d("div",py,[d("span",gy,[t.player.states.exhaust?(b(),k("span",my)):oe("",!0)]),vy]),d("div",_y,[d("span",wy,[t.player.states.melancholic?(b(),k("span",by)):oe("",!0)]),xy]),d("div",yy,[d("span",{class:"square mr-2 cursor-pointer",onClick:a},[t.player.states.hurt?(b(),k("span",ky)):oe("",!0)]),Cy,En(L(uy,{player:t.player},null,8,["player"]),[[Ro,r.hover]])])]),d("div",Ay,[Ey,d("span",Ry,[t.player.states.injuries.value>0?(b(),k("span",Sy,U(t.player.states.injuries.value+" "+t.player.states.injuries.unit),1)):oe("",!0)])])])])]))}}),Ty={class:"relative"},Oy={key:0,class:"flex flex-col absolute z-50 text-xs text-black font-sansserif font-semibold leading-4 bg-white w-80 rounded border border-gray/40 p-3 shadow-md -left-10 top-0 after:absolute after:content-[''] after:h-4 after:w-4 after:-rotate-45 after:-right-[0.54rem] after:top-0 after:translate-y-[50%] after:border-r after:border-b after:rounded-tl after:border-gray/40 after:bg-white"},Py={class:"grid grid-cols-3 w-full px-2"},My=d("label",{class:"mr-2",for:"name"},"Nom :",-1),Ly=d("label",{class:"mr-2 mt-2 whitespace-nowrap",for:"name"},"Compétences :",-1),Iy=Ul('<option value="unknown">Aucune</option><option value="awe">Présence</option><option value="athletics">Athlétisme</option><option value="awareness">Vigilance</option><option value="hunting">Chasse</option><option value="song">Chant</option><option value="craft">Artisanat</option><option value="enhearten">Inspiration</option><option value="travel">Voyage</option><option value="insight">Intuition</option><option value="healing">Soins</option><option value="courtesy">Courtoisie</option><option value="battle">Art de la guerre</option><option value="persuade">Persuasion</option><option value="stealth">Discrétion</option><option value="scan">Inspection</option><option value="explore">Exploration</option><option value="riddle">Enigmes</option><option value="lore">Connaissances</option>',19),By=[Iy],Ny=d("span",{class:"ml-3 text-slate-400"},"( Optionnel )",-1),qy=d("span",{class:"col-span-2"},null,-1),Dy={class:"mt-4 col-span-3 flex justify-center"},Hy=fe({__name:"AddTravelEquipment",props:{player:null},setup(i){const t=i,r=Re({hover:!1,name:"",skillRef:"unknown"}),a=()=>{r.hover=Be.GetInstance().tryChangeHover(r.hover,()=>{r.hover=!1})},c=()=>{r.name!==""&&(t.player.addTravelEquipment({name:r.name,skillRef:r.skillRef}),t.player.saveOnDb(),r.name="",r.skillRef="unknown"),a()};return(h,g)=>(b(),k(_e,null,[d("div",Ty,[L(Lr,{class:"absolute right-4 top-0.5 text-red",content:"+",onClick:a})]),r.hover?(b(),k("div",Oy,[d("div",Py,[My,En(d("input",{"onUpdate:modelValue":g[0]||(g[0]=x=>r.name=x),class:"col-span-2 p-1 h-5 my-auto rounded border border-slate-200",name:"name",type:"text"},null,512),[[Wl,r.name]]),Ly,En(d("select",{"onUpdate:modelValue":g[1]||(g[1]=x=>r.skillRef=x),class:"col-span-2 mt-2 pl-2 text-xs text-gray-500 cursor-pointer bg-transparent"},By,512),[[Fl,r.skillRef]]),Ny,qy,d("div",Dy,[L(Lr,{class:"text-red text-sm",content:"Ajouter",onClick:c})])])])):oe("",!0)],64))}}),Vy={key:0},Uy={class:"font-semibold"},Wy={key:0,class:"flex flex-col absolute right-0 -top-2.5 z-50 text-2xs text-black font-sansserif font-semibold leading-4 bg-white w-20 rounded border border-gray/40 p-3 shadow-md after:absolute after:content-[''] after:h-4 after:w-4 after:-rotate-45 after:-left-[0.54rem] after:border-l after:border-t after:rounded-tl after:border-gray/40 after:bg-white"},Fy=["onClick"],zy=fe({__name:"TravelEquipment",props:{player:null,equip:null},setup(i){const t=i,r=Re({hover:!1}),a=()=>{r.hover=Be.GetInstance().tryChangeHover(r.hover,()=>{r.hover=!1})},c=()=>{t.player.removeTravelEquipment(t.equip),t.player.saveOnDb()};return(h,g)=>(b(),k(_e,null,[d("span",{class:"hover:bg-slate-200/40 rounded cursor-pointer",onClick:a},[et(U(i.equip.name)+" ",1),i.equip.skillRef&&i.equip.skillRef!=="unknown"?(b(),k("span",Vy,[et(" ( "),d("span",Uy,U(t.player.getSkill(i.equip.skillRef).name),1),et(" ) ")])):oe("",!0)]),r.hover?(b(),k("div",Wy,[d("span",{class:"pl-2 rounded hover:bg-slate-200/40 cursor-pointer",onClick:Kt(c,["prevent","stop"])},"Jeter",8,Fy)])):oe("",!0)],64))}}),Gy={class:"relative h-full"},Ky={class:"flex flex-col h-full pt-1"},Yy=d("span",{class:"text-sm mx-auto mb-2 text-center text-red"},"EQUIPEMENT DE VOYAGE",-1),Jy=fe({__name:"TravelEquipmentList",props:{player:null},setup(i){const t=i;return(r,a)=>(b(),k("div",Gy,[L(fn,{class:"left-2 -top-1"}),d("div",Ky,[L(Hy,{player:t.player},null,8,["player"]),Yy,(b(!0),k(_e,null,Ae(t.player.travelEquipment,(c,h)=>(b(),k("div",{key:h,class:"relative flex flex-col text-xs pl-4"},[L(zy,{equip:c,player:t.player},null,8,["equip","player"])]))),128))])]))}}),Xy={class:"relative mx-auto flex min-w-[90rem] border-t-80 border-b-56 border-red/0 bg-sheet bg-cover bg-clip-border bg-center bg-origin-border"},Zy=d("div",{class:"absolute -top-20 h-20 w-full bg-topSheet bg-contain bg-center brightness-75 contrast-125 saturate-150"},null,-1),jy=d("div",{class:"absolute -bottom-14 h-16 w-full bg-bottomSheet bg-cover bg-clip-border bg-center bg-origin-border"},null,-1),Qy={class:"flex h-full w-[74.2%] flex-col border-l-18 border-red/0"},ek={class:"h-24 w-full"},tk={class:"relative flex flex-col w-full grow"},nk={class:"flex flex-col h-full w-full"},rk={class:"relative flex grow"},sk={class:"flex flex-col h-full w-1/3"},ik={class:"flex flex-col h-full w-1/3"},ok={class:"flex flex-col h-full w-1/3"},ak={class:"relative flex h-1/5 w-full pt-1"},uk={class:"flex h-full w-[24.7%] flex-col border-r-18 border-red/0 px-1"},lk=d("div",{class:"flex h-1/3 flex-col p-3"},[d("div",{class:"simple-border h-full w-full"})],-1),ck={class:"flex grow flex-col"},fk={class:"flex h-1/6"},hk={class:"relative flex h-1/5 flex-col"},dk=fe({__name:"PlayerSheet",props:{player:null},setup(i){const t=i;return(r,a)=>(b(),k("div",Xy,[Zy,jy,d("div",Qy,[d("div",ek,[L(uw,{values:t.player.getHeaderValues()},null,8,["values"])]),d("div",tk,[L(Mo),d("div",nk,[d("div",rk,[d("div",sk,[L(ab,{player:t.player},null,8,["player"])]),d("div",ik,[L(Zb,{player:t.player},null,8,["player"])]),d("div",ok,[L(Tx,{player:t.player},null,8,["player"])])]),d("div",ak,[L(_2,{player:t.player},null,8,["player"])])])])]),d("div",uk,[lk,d("div",ck,[L(Q2,{player:t.player},null,8,["player"])]),d("div",fk,[L($y,{player:t.player},null,8,["player"])]),d("div",hk,[L(Jy,{player:t.player},null,8,["player"])])])]))}}),Lt=Object.create(null);Lt.open="0";Lt.close="1";Lt.ping="2";Lt.pong="3";Lt.message="4";Lt.upgrade="5";Lt.noop="6";const Ps=Object.create(null);Object.keys(Lt).forEach(i=>{Ps[Lt[i]]=i});const pk={type:"error",data:"parser error"},gk=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",mk=typeof ArrayBuffer=="function",vk=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer,oc=({type:i,data:t},r,a)=>gk&&t instanceof Blob?r?a(t):Ol(t,a):mk&&(t instanceof ArrayBuffer||vk(t))?r?a(t):Ol(new Blob([t]),a):a(Lt[i]+(t||"")),Ol=(i,t)=>{const r=new FileReader;return r.onload=function(){const a=r.result.split(",")[1];t("b"+(a||""))},r.readAsDataURL(i)},Pl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$r=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let i=0;i<Pl.length;i++)$r[Pl.charCodeAt(i)]=i;const _k=i=>{let t=i.length*.75,r=i.length,a,c=0,h,g,x,w;i[i.length-1]==="="&&(t--,i[i.length-2]==="="&&t--);const R=new ArrayBuffer(t),y=new Uint8Array(R);for(a=0;a<r;a+=4)h=$r[i.charCodeAt(a)],g=$r[i.charCodeAt(a+1)],x=$r[i.charCodeAt(a+2)],w=$r[i.charCodeAt(a+3)],y[c++]=h<<2|g>>4,y[c++]=(g&15)<<4|x>>2,y[c++]=(x&3)<<6|w&63;return R},wk=typeof ArrayBuffer=="function",ac=(i,t)=>{if(typeof i!="string")return{type:"message",data:uc(i,t)};const r=i.charAt(0);return r==="b"?{type:"message",data:bk(i.substring(1),t)}:Ps[r]?i.length>1?{type:Ps[r],data:i.substring(1)}:{type:Ps[r]}:pk},bk=(i,t)=>{if(wk){const r=_k(i);return uc(r,t)}else return{base64:!0,data:i}},uc=(i,t)=>{switch(t){case"blob":return i instanceof ArrayBuffer?new Blob([i]):i;case"arraybuffer":default:return i}},lc=String.fromCharCode(30),xk=(i,t)=>{const r=i.length,a=new Array(r);let c=0;i.forEach((h,g)=>{oc(h,!1,x=>{a[g]=x,++c===r&&t(a.join(lc))})})},yk=(i,t)=>{const r=i.split(lc),a=[];for(let c=0;c<r.length;c++){const h=ac(r[c],t);if(a.push(h),h.type==="error")break}return a},cc=4;function Ie(i){if(i)return kk(i)}function kk(i){for(var t in Ie.prototype)i[t]=Ie.prototype[t];return i}Ie.prototype.on=Ie.prototype.addEventListener=function(i,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(t),this};Ie.prototype.once=function(i,t){function r(){this.off(i,r),t.apply(this,arguments)}return r.fn=t,this.on(i,r),this};Ie.prototype.off=Ie.prototype.removeListener=Ie.prototype.removeAllListeners=Ie.prototype.removeEventListener=function(i,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+i];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var a,c=0;c<r.length;c++)if(a=r[c],a===t||a.fn===t){r.splice(c,1);break}return r.length===0&&delete this._callbacks["$"+i],this};Ie.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+i],a=1;a<arguments.length;a++)t[a-1]=arguments[a];if(r){r=r.slice(0);for(var a=0,c=r.length;a<c;++a)r[a].apply(this,t)}return this};Ie.prototype.emitReserved=Ie.prototype.emit;Ie.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]};Ie.prototype.hasListeners=function(i){return!!this.listeners(i).length};const cn=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function fc(i,...t){return t.reduce((r,a)=>(i.hasOwnProperty(a)&&(r[a]=i[a]),r),{})}const Ck=setTimeout,Ak=clearTimeout;function Ws(i,t){t.useNativeTimers?(i.setTimeoutFn=Ck.bind(cn),i.clearTimeoutFn=Ak.bind(cn)):(i.setTimeoutFn=setTimeout.bind(cn),i.clearTimeoutFn=clearTimeout.bind(cn))}const Ek=1.33;function Rk(i){return typeof i=="string"?Sk(i):Math.ceil((i.byteLength||i.size)*Ek)}function Sk(i){let t=0,r=0;for(let a=0,c=i.length;a<c;a++)t=i.charCodeAt(a),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(a++,r+=4);return r}class $k extends Error{constructor(t,r,a){super(t),this.description=r,this.context=a,this.type="TransportError"}}class hc extends Ie{constructor(t){super(),this.writable=!1,Ws(this,t),this.opts=t,this.query=t.query,this.readyState="",this.socket=t.socket}onError(t,r,a){return super.emitReserved("error",new $k(t,r,a)),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=ac(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}}const dc="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),yo=64,Tk={};let Ml=0,$s=0,Ll;function Il(i){let t="";do t=dc[i%yo]+t,i=Math.floor(i/yo);while(i>0);return t}function pc(){const i=Il(+new Date);return i!==Ll?(Ml=0,Ll=i):i+"."+Il(Ml++)}for(;$s<yo;$s++)Tk[dc[$s]]=$s;function gc(i){let t="";for(let r in i)i.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(i[r]));return t}function Ok(i){let t={},r=i.split("&");for(let a=0,c=r.length;a<c;a++){let h=r[a].split("=");t[decodeURIComponent(h[0])]=decodeURIComponent(h[1])}return t}let mc=!1;try{mc=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Pk=mc;function vc(i){const t=i.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Pk))return new XMLHttpRequest}catch{}if(!t)try{return new cn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Mk(){}const Lk=function(){return new vc({xdomain:!1}).responseType!=null}();class Ik extends hc{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const a=location.protocol==="https:";let c=location.port;c||(c=a?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||c!==t.port,this.xs=t.secure!==a}const r=t&&t.forceBase64;this.supportsBinary=Lk&&!r}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let a=0;this.polling&&(a++,this.once("pollComplete",function(){--a||r()})),this.writable||(a++,this.once("drain",function(){--a||r()}))}else r()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=a=>{if(this.readyState==="opening"&&a.type==="open"&&this.onOpen(),a.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(a)};yk(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,xk(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let t=this.query||{};const r=this.opts.secure?"https":"http";let a="";this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=pc()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.opts.port&&(r==="https"&&Number(this.opts.port)!==443||r==="http"&&Number(this.opts.port)!==80)&&(a=":"+this.opts.port);const c=gc(t),h=this.opts.hostname.indexOf(":")!==-1;return r+"://"+(h?"["+this.opts.hostname+"]":this.opts.hostname)+a+this.opts.path+(c.length?"?"+c:"")}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new Mt(this.uri(),t)}doWrite(t,r){const a=this.request({method:"POST",data:t});a.on("success",r),a.on("error",(c,h)=>{this.onError("xhr post error",c,h)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,a)=>{this.onError("xhr poll error",r,a)}),this.pollXhr=t}}class Mt extends Ie{constructor(t,r){super(),Ws(this,r),this.opts=r,this.method=r.method||"GET",this.uri=t,this.async=r.async!==!1,this.data=r.data!==void 0?r.data:null,this.create()}create(){const t=fc(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;const r=this.xhr=new vc(t);try{r.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let a in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(a)&&r.setRequestHeader(a,this.opts.extraHeaders[a])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(a){this.setTimeoutFn(()=>{this.onError(a)},0);return}typeof document<"u"&&(this.index=Mt.requestsCount++,Mt.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Mk,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Mt.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}Mt.requestsCount=0;Mt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Bl);else if(typeof addEventListener=="function"){const i="onpagehide"in cn?"pagehide":"unload";addEventListener(i,Bl,!1)}}function Bl(){for(let i in Mt.requests)Mt.requests.hasOwnProperty(i)&&Mt.requests[i].abort()}const _c=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0))(),Ts=cn.WebSocket||cn.MozWebSocket,Nl=!0,Bk="arraybuffer",ql=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Nk extends hc{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),r=this.opts.protocols,a=ql?{}:fc(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(a.headers=this.opts.extraHeaders);try{this.ws=Nl&&!ql?r?new Ts(t,r):new Ts(t):new Ts(t,r,a)}catch(c){return this.emitReserved("error",c)}this.ws.binaryType=this.socket.binaryType||Bk,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const a=t[r],c=r===t.length-1;oc(a,this.supportsBinary,h=>{const g={};try{Nl&&this.ws.send(h)}catch{}c&&_c(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let t=this.query||{};const r=this.opts.secure?"wss":"ws";let a="";this.opts.port&&(r==="wss"&&Number(this.opts.port)!==443||r==="ws"&&Number(this.opts.port)!==80)&&(a=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=pc()),this.supportsBinary||(t.b64=1);const c=gc(t),h=this.opts.hostname.indexOf(":")!==-1;return r+"://"+(h?"["+this.opts.hostname+"]":this.opts.hostname)+a+this.opts.path+(c.length?"?"+c:"")}check(){return!!Ts}}const qk={websocket:Nk,polling:Ik},Dk=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Hk=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ko(i){const t=i,r=i.indexOf("["),a=i.indexOf("]");r!=-1&&a!=-1&&(i=i.substring(0,r)+i.substring(r,a).replace(/:/g,";")+i.substring(a,i.length));let c=Dk.exec(i||""),h={},g=14;for(;g--;)h[Hk[g]]=c[g]||"";return r!=-1&&a!=-1&&(h.source=t,h.host=h.host.substring(1,h.host.length-1).replace(/;/g,":"),h.authority=h.authority.replace("[","").replace("]","").replace(/;/g,":"),h.ipv6uri=!0),h.pathNames=Vk(h,h.path),h.queryKey=Uk(h,h.query),h}function Vk(i,t){const r=/\/{2,9}/g,a=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&a.splice(0,1),t.slice(-1)=="/"&&a.splice(a.length-1,1),a}function Uk(i,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,c,h){c&&(r[c]=h)}),r}let kn=class extends Ie{constructor(t,r={}){super(),t&&typeof t=="object"&&(r=t,t=null),t?(t=ko(t),r.hostname=t.host,r.secure=t.protocol==="https"||t.protocol==="wss",r.port=t.port,t.query&&(r.query=t.query)):r.host&&(r.hostname=ko(r.host).host),Ws(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},r),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=Ok(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=cc,r.transport=t,this.id&&(r.sid=this.id);const a=Object.assign({},this.opts.transportOptions[t],this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new qk[t](a)}open(){let t;if(this.opts.rememberUpgrade&&kn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",r=>this.onClose("transport close",r))}probe(t){let r=this.createTransport(t),a=!1;kn.priorWebsocketSuccess=!1;const c=()=>{a||(r.send([{type:"ping",data:"probe"}]),r.once("packet",A=>{if(!a)if(A.type==="pong"&&A.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;kn.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{a||this.readyState!=="closed"&&(y(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const $=new Error("probe error");$.transport=r.name,this.emitReserved("upgradeError",$)}}))};function h(){a||(a=!0,y(),r.close(),r=null)}const g=A=>{const $=new Error("probe error: "+A);$.transport=r.name,h(),this.emitReserved("upgradeError",$)};function x(){g("transport closed")}function w(){g("socket closed")}function R(A){r&&A.name!==r.name&&h()}const y=()=>{r.removeListener("open",c),r.removeListener("error",g),r.removeListener("close",x),this.off("close",w),this.off("upgrading",R)};r.once("open",c),r.once("error",g),r.once("close",x),this.once("close",w),this.once("upgrading",R),r.open()}onOpen(){if(this.readyState="open",kn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){let t=0;const r=this.upgrades.length;for(;t<r;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const r=new Error("server error");r.code=t.data,this.onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let a=0;a<this.writeBuffer.length;a++){const c=this.writeBuffer[a].data;if(c&&(r+=Rk(c)),a>0&&r>this.maxPayload)return this.writeBuffer.slice(0,a);r+=2}return this.writeBuffer}write(t,r,a){return this.sendPacket("message",t,r,a),this}send(t,r,a){return this.sendPacket("message",t,r,a),this}sendPacket(t,r,a,c){if(typeof r=="function"&&(c=r,r=void 0),typeof a=="function"&&(c=a,a=null),this.readyState==="closing"||this.readyState==="closed")return;a=a||{},a.compress=a.compress!==!1;const h={type:t,data:r,options:a};this.emitReserved("packetCreate",h),this.writeBuffer.push(h),c&&this.once("flush",c),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},a=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?a():t()}):this.upgrading?a():t()),this}onError(t){kn.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,r){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const r=[];let a=0;const c=t.length;for(;a<c;a++)~this.transports.indexOf(t[a])&&r.push(t[a]);return r}};kn.protocol=cc;function Wk(i,t="",r){let a=i;r=r||typeof location<"u"&&location,i==null&&(i=r.protocol+"//"+r.host),typeof i=="string"&&(i.charAt(0)==="/"&&(i.charAt(1)==="/"?i=r.protocol+i:i=r.host+i),/^(https?|wss?):\/\//.test(i)||(typeof r<"u"?i=r.protocol+"//"+i:i="https://"+i),a=ko(i)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const h=a.host.indexOf(":")!==-1?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+h+":"+a.port+t,a.href=a.protocol+"://"+h+(r&&r.port===a.port?"":":"+a.port),a}const Fk=typeof ArrayBuffer=="function",zk=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i.buffer instanceof ArrayBuffer,wc=Object.prototype.toString,Gk=typeof Blob=="function"||typeof Blob<"u"&&wc.call(Blob)==="[object BlobConstructor]",Kk=typeof File=="function"||typeof File<"u"&&wc.call(File)==="[object FileConstructor]";function Lo(i){return Fk&&(i instanceof ArrayBuffer||zk(i))||Gk&&i instanceof Blob||Kk&&i instanceof File}function Ms(i,t){if(!i||typeof i!="object")return!1;if(Array.isArray(i)){for(let r=0,a=i.length;r<a;r++)if(Ms(i[r]))return!0;return!1}if(Lo(i))return!0;if(i.toJSON&&typeof i.toJSON=="function"&&arguments.length===1)return Ms(i.toJSON(),!0);for(const r in i)if(Object.prototype.hasOwnProperty.call(i,r)&&Ms(i[r]))return!0;return!1}function Yk(i){const t=[],r=i.data,a=i;return a.data=Co(r,t),a.attachments=t.length,{packet:a,buffers:t}}function Co(i,t){if(!i)return i;if(Lo(i)){const r={_placeholder:!0,num:t.length};return t.push(i),r}else if(Array.isArray(i)){const r=new Array(i.length);for(let a=0;a<i.length;a++)r[a]=Co(i[a],t);return r}else if(typeof i=="object"&&!(i instanceof Date)){const r={};for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=Co(i[a],t));return r}return i}function Jk(i,t){return i.data=Ao(i.data,t),delete i.attachments,i}function Ao(i,t){if(!i)return i;if(i&&i._placeholder===!0){if(typeof i.num=="number"&&i.num>=0&&i.num<t.length)return t[i.num];throw new Error("illegal attachments")}else if(Array.isArray(i))for(let r=0;r<i.length;r++)i[r]=Ao(i[r],t);else if(typeof i=="object")for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&(i[r]=Ao(i[r],t));return i}const Xk=5;var ie;(function(i){i[i.CONNECT=0]="CONNECT",i[i.DISCONNECT=1]="DISCONNECT",i[i.EVENT=2]="EVENT",i[i.ACK=3]="ACK",i[i.CONNECT_ERROR=4]="CONNECT_ERROR",i[i.BINARY_EVENT=5]="BINARY_EVENT",i[i.BINARY_ACK=6]="BINARY_ACK"})(ie||(ie={}));class Zk{constructor(t){this.replacer=t}encode(t){return(t.type===ie.EVENT||t.type===ie.ACK)&&Ms(t)?this.encodeAsBinary({type:t.type===ie.EVENT?ie.BINARY_EVENT:ie.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===ie.BINARY_EVENT||t.type===ie.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=Yk(t),a=this.encodeAsString(r.packet),c=r.buffers;return c.unshift(a),c}}class Io extends Ie{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const a=r.type===ie.BINARY_EVENT;a||r.type===ie.BINARY_ACK?(r.type=a?ie.EVENT:ie.ACK,this.reconstructor=new jk(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Lo(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const a={type:Number(t.charAt(0))};if(ie[a.type]===void 0)throw new Error("unknown packet type "+a.type);if(a.type===ie.BINARY_EVENT||a.type===ie.BINARY_ACK){const h=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const g=t.substring(h,r);if(g!=Number(g)||t.charAt(r)!=="-")throw new Error("Illegal attachments");a.attachments=Number(g)}if(t.charAt(r+1)==="/"){const h=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););a.nsp=t.substring(h,r)}else a.nsp="/";const c=t.charAt(r+1);if(c!==""&&Number(c)==c){const h=r+1;for(;++r;){const g=t.charAt(r);if(g==null||Number(g)!=g){--r;break}if(r===t.length)break}a.id=Number(t.substring(h,r+1))}if(t.charAt(++r)){const h=this.tryParse(t.substr(r));if(Io.isPayloadValid(a.type,h))a.data=h;else throw new Error("invalid payload")}return a}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case ie.CONNECT:return typeof r=="object";case ie.DISCONNECT:return r===void 0;case ie.CONNECT_ERROR:return typeof r=="string"||typeof r=="object";case ie.EVENT:case ie.BINARY_EVENT:return Array.isArray(r)&&r.length>0;case ie.ACK:case ie.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class jk{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=Jk(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Qk=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Io,Encoder:Zk,get PacketType(){return ie},protocol:Xk},Symbol.toStringTag,{value:"Module"}));function Rt(i,t,r){return i.on(t,r),function(){i.off(t,r)}}const eC=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class bc extends Ie{constructor(t,r,a){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,a&&a.auth&&(this.auth=a.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Rt(t,"open",this.onopen.bind(this)),Rt(t,"packet",this.onpacket.bind(this)),Rt(t,"error",this.onerror.bind(this)),Rt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){if(eC.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');r.unshift(t);const a={type:ie.EVENT,data:r};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const g=this.ids++,x=r.pop();this._registerAckCallback(g,x),a.id=g}const c=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!c||!this.connected)||(this.connected?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(t,r){const a=this.flags.timeout;if(a===void 0){this.acks[t]=r;return}const c=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let h=0;h<this.sendBuffer.length;h++)this.sendBuffer[h].id===t&&this.sendBuffer.splice(h,1);r.call(this,new Error("operation has timed out"))},a);this.acks[t]=(...h)=>{this.io.clearTimeoutFn(c),r.apply(this,[null,...h])}}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this.packet({type:ie.CONNECT,data:t})}):this.packet({type:ie.CONNECT,data:this.auth})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case ie.CONNECT:if(t.data&&t.data.sid){const c=t.data.sid;this.onconnect(c)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ie.EVENT:case ie.BINARY_EVENT:this.onevent(t);break;case ie.ACK:case ie.BINARY_ACK:this.onack(t);break;case ie.DISCONNECT:this.ondisconnect();break;case ie.CONNECT_ERROR:this.destroy();const a=new Error(t.data.message);a.data=t.data.data,this.emitReserved("connect_error",a);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const a of r)a.apply(this,t)}super.emit.apply(this,t)}ack(t){const r=this;let a=!1;return function(...c){a||(a=!0,r.packet({type:ie.ACK,id:t,data:c}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(r.apply(this,t.data),delete this.acks[t.id])}onconnect(t){this.id=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ie.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let a=0;a<r.length;a++)if(t===r[a])return r.splice(a,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let a=0;a<r.length;a++)if(t===r[a])return r.splice(a,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const a of r)a.apply(this,t.data)}}}function tr(i){i=i||{},this.ms=i.min||100,this.max=i.max||1e4,this.factor=i.factor||2,this.jitter=i.jitter>0&&i.jitter<=1?i.jitter:0,this.attempts=0}tr.prototype.duration=function(){var i=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*i);i=Math.floor(t*10)&1?i+r:i-r}return Math.min(i,this.max)|0};tr.prototype.reset=function(){this.attempts=0};tr.prototype.setMin=function(i){this.ms=i};tr.prototype.setMax=function(i){this.max=i};tr.prototype.setJitter=function(i){this.jitter=i};class Eo extends Ie{constructor(t,r){var a;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Ws(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((a=r.randomizationFactor)!==null&&a!==void 0?a:.5),this.backoff=new tr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const c=r.parser||Qk;this.encoder=new c.Encoder,this.decoder=new c.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new kn(this.uri,this.opts);const r=this.engine,a=this;this._readyState="opening",this.skipReconnect=!1;const c=Rt(r,"open",function(){a.onopen(),t&&t()}),h=Rt(r,"error",g=>{a.cleanup(),a._readyState="closed",this.emitReserved("error",g),t?t(g):a.maybeReconnectOnOpen()});if(this._timeout!==!1){const g=this._timeout;g===0&&c();const x=this.setTimeoutFn(()=>{c(),r.close(),r.emit("error",new Error("timeout"))},g);this.opts.autoUnref&&x.unref(),this.subs.push(function(){clearTimeout(x)})}return this.subs.push(c),this.subs.push(h),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Rt(t,"ping",this.onping.bind(this)),Rt(t,"data",this.ondata.bind(this)),Rt(t,"error",this.onerror.bind(this)),Rt(t,"close",this.onclose.bind(this)),Rt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){_c(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let a=this.nsps[t];return a||(a=new bc(this,t,r),this.nsps[t]=a),a}_destroy(t){const r=Object.keys(this.nsps);for(const a of r)if(this.nsps[a].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let a=0;a<r.length;a++)this.engine.write(r[a],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,r){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const a=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(c=>{c?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",c)):t.onreconnect()}))},r);this.opts.autoUnref&&a.unref(),this.subs.push(function(){clearTimeout(a)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Rr={};function Ls(i,t){typeof i=="object"&&(t=i,i=void 0),t=t||{};const r=Wk(i,t.path||"/socket.io"),a=r.source,c=r.id,h=r.path,g=Rr[c]&&h in Rr[c].nsps,x=t.forceNew||t["force new connection"]||t.multiplex===!1||g;let w;return x?w=new Eo(a,t):(Rr[c]||(Rr[c]=new Eo(a,t)),w=Rr[c]),r.query&&!t.query&&(t.query=r.queryKey),w.socket(r.path,t)}Object.assign(Ls,{Manager:Eo,Socket:bc,io:Ls,connect:Ls});const Ir=Re({connected:!1,ennemyAppearEvents:new Array}),Bo=Ls("http://192.168.1.32:8000");Bo.on("connect",()=>{Ir.connected=!0});Bo.on("disconnect",()=>{Ir.connected=!1});Bo.on("ennemyAppear",(...i)=>{Ir.ennemyAppearEvents.push(i),setTimeout(()=>{Ir.ennemyAppearEvents.pop()},2e3)});const tC=i=>(f_("data-v-0b41817d"),i=i(),h_(),i),nC={class:"relative w-screen h-screen"},rC={class:"bg-white"},sC={class:"center-container relative"},iC={key:0},oC={class:"relative group"},aC=tC(()=>d("div",{class:"border-gradient-red"},null,-1)),uC={class:"relative ring-1 ring-slate-900/5 rounded-lg"},lC={class:"vertical-container left-0"},cC={class:"flex flex-col justify-center gap-6 w-full h-full"},fC=["onClick"],hC={class:"ml-auto mr-12 my-auto h-fit"},dC={key:0,class:"flex flex-col absolute z-50 text-sm text-black font-sansserif font-semibold bg-white w-40 rounded border border-gray/40 p-3 shadow-md left-[110%] top-[50%] -translate-y-[50%] after:absolute after:content-[''] after:h-4 after:w-4 after:-rotate-45 after:-left-[0.54rem] after:top-[50%] after:-translate-y-[50%] after:border-l after:border-t after:rounded-tl after:border-gray/40 after:bg-white"},pC=["onClick"],gC={class:"ml-2"},mC=fe({__name:"EdgeDisplaySystem",props:{players:null},setup(i){const t=i,r=Re({elemLeft:[],elemRight:[],currentId:"",hoverRight:!1,hoverLeft:!1,ennemyAppear:Ir.ennemyAppearEvents}),a=()=>{r.hoverLeft=Be.GetInstance().tryChangeHover(r.hoverLeft,()=>{r.hoverLeft=!1})},c=async h=>{r.currentId==h?r.currentId="":(r.currentId="",await Dl(()=>{r.currentId=h}))};return(h,g)=>(b(),k("div",nC,[En(d("div",rC,"Angalagon appear",512),[[Ro,r.ennemyAppear.length>0]]),d("div",sC,[(b(!0),k(_e,null,Ae(t.players.filter(x=>r.elemLeft.includes(x._id)||r.elemRight.includes(x._id)),x=>(b(),k("div",{key:x._id,class:"absolute origin-center top-[50%] left-[50%] -translate-x-[50%] -translate-y-[50%]"},[L(c_,{name:"change-sheet"},{default:zl(()=>[r.currentId===x._id?(b(),k("div",iC,[d("div",oC,[aC,d("div",uC,[L(dk,{player:x,class:"origin-center rounded"},null,8,["player"])])])])):oe("",!0)]),_:2},1024)]))),128))]),d("div",lC,[d("div",cC,[(b(!0),k(_e,null,Ae(r.elemLeft,x=>(b(),k("div",{key:x,class:"element-left",onClick:w=>c(x)},[d("div",hC,U(t.players.filter(w=>w._id===x)[0].name),1)],8,fC))),128)),d("div",{class:"element-left",onClick:a},[L(Ge(m1),{class:"h-20 w-20 my-auto ml-auto mr-12"}),r.hoverLeft?(b(),k("div",dC,[(b(!0),k(_e,null,Ae(t.players.filter(x=>!r.elemLeft.includes(x._id)&&!r.elemRight.includes(x._id)),x=>(b(),k("div",{key:x._id,class:"w-full rounded hover:bg-slate-200",onClick:w=>r.elemLeft.push(x._id)},[d("span",gC,U(x.name),1)],8,pC))),128))])):oe("",!0)])])])]))}});const vC=er(mC,[["__scopeId","data-v-0b41817d"]]),_C={class:"m-auto flex relative"},xc=fe({__name:"Home",async setup(i){let t,r,a=Re(([t,r]=d_(()=>Pt.Character.getAllCharacters()),t=await t,r(),t));return(c,h)=>(b(),k("div",_C,[L(vC,{players:Ge(a)},null,8,["players"])]))}}),wC=[{path:"/",name:"Home",component:xc}],bC=v0({history:M_(),routes:wC}),xC=fe({__name:"App",setup(i){return(t,r)=>(b(),Cn(p_,null,{default:zl(()=>[L(xc)]),_:1}))}});const{createApp:yC,ref:EC}=Vue;yC(xC).use(bC).mount("#app");
